"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6304:(Qe,ve,P)=>{P.d(ve,{Dh:()=>Se,GT:()=>ce,cc:()=>we,hO:()=>Oe,on:()=>U,pX:()=>ee,xv:()=>ae});var c=P(5879),z=P(7142),N=P(8186);Qe=P.hmd(Qe);const J=["ngOnDestroy"],ee=(Pe,st,Xe,ne={})=>new Proxy(Pe,{get:(fe,Y)=>Xe.runOutsideAngular(()=>{var he;if(Pe[Y])return!(null===(he=ne?.spy)||void 0===he)&&he.get&&ne.spy.get(Y,Pe[Y]),Pe[Y];if(J.indexOf(Y)>-1)return()=>{};const be=st.toPromise().then(Ne=>{const re=Ne&&Ne[Y];return"function"==typeof re?re.bind(Ne):re&&re.then?re.then(Le=>Xe.run(()=>Le)):Xe.run(()=>re)});return new Proxy(()=>{},{get:(Ne,re)=>be[re],apply:(Ne,re,Le)=>be.then(St=>{var Bn;const gr=St&&St(...Le);return!(null===(Bn=ne?.spy)||void 0===Bn)&&Bn.apply&&ne.spy.apply(Y,Le,gr),gr})})})}),ce=(Pe,st)=>{st.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(ne=>{Object.defineProperty(Pe.prototype,ne,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,ne))})})};class de{constructor(st){return st}}const Se=new c.OlP("angularfire2.app.options"),ae=new c.OlP("angularfire2.app.name");function U(Pe,st,Xe){const fe="object"==typeof Xe&&Xe||{};fe.name=fe.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const he=z.Z.apps.filter(be=>be&&be.name===fe.name)[0]||st.runOutsideAngular(()=>z.Z.initializeApp(Pe,fe));try{JSON.stringify(Pe)!==JSON.stringify(he.options)&&j("error",`${he.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(he)}const j=(Pe,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...st)},Q={provide:de,useFactory:U,deps:[Se,c.R0b,[new c.FiY,ae]]};let Oe=(()=>{class Pe{constructor(Xe){z.Z.registerVersion("angularfire",N.q4.full,"core"),z.Z.registerVersion("angularfire",N.q4.full,"app-compat"),z.Z.registerVersion("angular",c.q4F.full,Xe.toString())}static initializeApp(Xe,ne){return{ngModule:Pe,providers:[{provide:Se,useValue:Xe},{provide:ae,useValue:ne}]}}}return Pe.\u0275fac=function(Xe){return new(Xe||Pe)(c.LFG(c.Lbi))},Pe.\u0275mod=c.oAB({type:Pe}),Pe.\u0275inj=c.cJS({providers:[Q]}),Pe})();function we(Pe,st,Xe,ne,fe){const[,Y,he]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===Pe)||[];if(Y)return function Be(Pe,st){try{return Pe.toString()===st.toString()}catch{return Pe===st}}(fe,he)||(Ve("error",`${st} was already initialized on the ${Xe} Firebase App with different settings.${Te?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:fe,was:he})),Y;{const be=ne();return globalThis.\u0275AngularfireInstanceCache.push([Pe,be,fe]),be}}const Te=!!Qe.hot,Ve=(Pe,...st)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Qe,ve,P)=>{P.d(ve,{q4:()=>hl,iC:()=>Xo,HU:()=>Hs,vb:()=>Qi,JM:()=>Ra});var c=P(5879),z=P(3182),N=P(5861),J=P(534),ee=P(9058),ce=P(4537),de=P(7879);const Se=(C,w)=>w.some(S=>C instanceof S);let ae,U;const Oe=new WeakMap,we=new WeakMap,Be=new WeakMap,Te=new WeakMap,Ve=new WeakMap;let Xe={get(C,w,S){if(C instanceof IDBTransaction){if("done"===w)return we.get(C);if("objectStoreNames"===w)return C.objectStoreNames||Be.get(C);if("store"===w)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return he(C[w])},set:(C,w,S)=>(C[w]=S,!0),has:(C,w)=>C instanceof IDBTransaction&&("done"===w||"store"===w)||w in C};function Y(C){return"function"==typeof C?function fe(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...w){return C.apply(be(this),w),he(Oe.get(this))}:function(...w){return he(C.apply(be(this),w))}:function(w,...S){const O=C.call(be(this),w,...S);return Be.set(O,w.sort?w.sort():[w]),he(O)}}(C):(C instanceof IDBTransaction&&function st(C){if(we.has(C))return;const w=new Promise((S,O)=>{const $=()=>{C.removeEventListener("complete",Z),C.removeEventListener("error",se),C.removeEventListener("abort",se)},Z=()=>{S(),$()},se=()=>{O(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",Z),C.addEventListener("error",se),C.addEventListener("abort",se)});we.set(C,w)}(C),Se(C,function j(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Xe):C)}function he(C){if(C instanceof IDBRequest)return function Pe(C){const w=new Promise((S,O)=>{const $=()=>{C.removeEventListener("success",Z),C.removeEventListener("error",se)},Z=()=>{S(he(C.result)),$()},se=()=>{O(C.error),$()};C.addEventListener("success",Z),C.addEventListener("error",se)});return w.then(S=>{S instanceof IDBCursor&&Oe.set(S,C)}).catch(()=>{}),Ve.set(w,C),w}(C);if(Te.has(C))return Te.get(C);const w=Y(C);return w!==C&&(Te.set(C,w),Ve.set(w,C)),w}const be=C=>Ve.get(C),Le=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],Bn=new Map;function gr(C,w){if(!(C instanceof IDBDatabase)||w in C||"string"!=typeof w)return;if(Bn.get(w))return Bn.get(w);const S=w.replace(/FromIndex$/,""),O=w!==S,$=St.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!Le.includes(S))return;const Z=function(){var se=(0,N.Z)(function*(Ue,...ke){const qe=this.transaction(Ue,$?"readwrite":"readonly");let pt=qe.store;return O&&(pt=pt.index(ke.shift())),(yield Promise.all([pt[S](...ke),$&&qe.done]))[0]});return function(ke){return se.apply(this,arguments)}}();return Bn.set(w,Z),Z}!function ne(C){Xe=C(Xe)}(C=>({...C,get:(w,S,O)=>gr(w,S)||C.get(w,S,O),has:(w,S)=>!!gr(w,S)||C.has(w,S)}));const Bi="@firebase/installations",Sn="0.6.4",Ho=1e4,co=`w:${Sn}`,oe="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",pe=36e5,Ge=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function pn({projectId:C}){return`${le}/projects/${C}/installations`}function nt(C){return{token:C.token,requestStatus:2,expiresIn:Zn(C.expiresIn),creationTime:Date.now()}}function Lt(C,w){return vt.apply(this,arguments)}function vt(){return(vt=(0,N.Z)(function*(C,w){const O=(yield w.json()).error;return Ge.create("request-failed",{requestName:C,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function sn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function xn(C){return $t.apply(this,arguments)}function $t(){return($t=(0,N.Z)(function*(C){const w=yield C();return w.status>=500&&w.status<600?C():w})).apply(this,arguments)}function Zn(C){return Number(C.replace("s","000"))}function Nr(){return(Nr=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:w},{fid:S}){const O=pn(C),$=sn(C),Z=w.getImmediate({optional:!0});if(Z){const qe=yield Z.getHeartbeatsHeader();qe&&$.append("x-firebase-client",qe)}const Ue={method:"POST",headers:$,body:JSON.stringify({fid:S,authVersion:oe,appId:C.appId,sdkVersion:co})},ke=yield xn(()=>fetch(O,Ue));if(ke.ok){const qe=yield ke.json();return{fid:qe.fid||S,registrationStatus:2,refreshToken:qe.refreshToken,authToken:nt(qe.authToken)}}throw yield Lt("Create Installation",ke)})).apply(this,arguments)}function xr(C){return new Promise(w=>{setTimeout(w,C)})}const aa=/^[cdef][\w-]{21}$/,He="";function et(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function rt(C){return function ho(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return aa.test(S)?S:He}catch{return He}}function Jt(C){return`${C.appName}!${C.appId}`}const cn=new Map;function mr(C,w){const S=Jt(C);ps(S,w),function jt(C,w){const S=function wt(){return!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=C=>{ps(C.data.key,C.data.fid)}),qn}();S&&S.postMessage({key:C,fid:w}),function ti(){0===cn.size&&qn&&(qn.close(),qn=null)}()}(S,w)}function ps(C,w){const S=cn.get(C);if(S)for(const O of S)O(w)}let qn=null;const fo="firebase-installations-database",gs=1,kr="firebase-installations-store";let vi=null;function jn(){return vi||(vi=function Ne(C,w,{blocked:S,upgrade:O,blocking:$,terminated:Z}={}){const se=indexedDB.open(C,w),Ue=he(se);return O&&se.addEventListener("upgradeneeded",ke=>{O(he(se.result),ke.oldVersion,ke.newVersion,he(se.transaction))}),S&&se.addEventListener("blocked",()=>S()),Ue.then(ke=>{Z&&ke.addEventListener("close",()=>Z()),$&&ke.addEventListener("versionchange",()=>$())}).catch(()=>{}),Ue}(fo,gs,{upgrade:(C,w)=>{0===w&&C.createObjectStore(kr)}})),vi}function Pn(C,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,N.Z)(function*(C,w){const S=Jt(C),$=(yield jn()).transaction(kr,"readwrite"),Z=$.objectStore(kr),se=yield Z.get(S);return yield Z.put(w,S),yield $.done,(!se||se.fid!==w.fid)&&mr(C,w.fid),w})).apply(this,arguments)}function Ci(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(C){const w=Jt(C),O=(yield jn()).transaction(kr,"readwrite");yield O.objectStore(kr).delete(w),yield O.done})).apply(this,arguments)}function Ei(C,w){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,N.Z)(function*(C,w){const S=Jt(C),$=(yield jn()).transaction(kr,"readwrite"),Z=$.objectStore(kr),se=yield Z.get(S),Ue=w(se);return void 0===Ue?yield Z.delete(S):yield Z.put(Ue,S),yield $.done,Ue&&(!se||se.fid!==Ue.fid)&&mr(C,Ue.fid),Ue})).apply(this,arguments)}function B(C){return L.apply(this,arguments)}function L(){return L=(0,N.Z)(function*(C){let w;const S=yield Ei(C.appConfig,O=>{const $=function G(C){return Zt(C||{fid:et(),registrationStatus:0})}(O),Z=function ye(C,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Ge.create("app-offline"))};const S={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},O=function ie(C,w){return Ze.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:O}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:it(C)}:{installationEntry:w}}(C,$);return w=Z.registrationPromise,Z.installationEntry});return S.fid===He?{installationEntry:yield w}:{installationEntry:S,registrationPromise:w}}),L.apply(this,arguments)}function Ze(){return Ze=(0,N.Z)(function*(C,w){try{const S=yield function fs(C,w){return Nr.apply(this,arguments)}(C,w);return Pn(C.appConfig,S)}catch(S){throw Ke(S)&&409===S.customData.serverCode?yield Ci(C.appConfig):yield Pn(C.appConfig,{fid:w.fid,registrationStatus:0}),S}}),Ze.apply(this,arguments)}function it(C){return gt.apply(this,arguments)}function gt(){return(gt=(0,N.Z)(function*(C){let w=yield nn(C.appConfig);for(;1===w.registrationStatus;)yield xr(100),w=yield nn(C.appConfig);if(0===w.registrationStatus){const{installationEntry:S,registrationPromise:O}=yield B(C);return O||S}return w})).apply(this,arguments)}function nn(C){return Ei(C,w=>{if(!w)throw Ge.create("installation-not-found");return Zt(w)})}function Zt(C){return function ct(C){return 1===C.registrationStatus&&C.registrationTime+Ho<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function $n(){return($n=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:w},S){const O=function jr(C,{fid:w}){return`${pn(C)}/${w}/authTokens:generate`}(C,S),$=function an(C,{refreshToken:w}){const S=sn(C);return S.append("Authorization",function Or(C){return`${oe} ${C}`}(w)),S}(C,S),Z=w.getImmediate({optional:!0});if(Z){const qe=yield Z.getHeartbeatsHeader();qe&&$.append("x-firebase-client",qe)}const Ue={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:co,appId:C.appId}})},ke=yield xn(()=>fetch(O,Ue));if(ke.ok)return nt(yield ke.json());throw yield Lt("Generate Auth Token",ke)})).apply(this,arguments)}function Ii(C){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,N.Z)(function*(C,w=!1){let S;const O=yield Ei(C.appConfig,Z=>{if(!Ct(Z))throw Ge.create("not-registered");const se=Z.authToken;if(!w&&function Ot(C){return 2===C.requestStatus&&!function On(C){const w=Date.now();return w<C.creationTime||C.creationTime+C.expiresIn<w+pe}(C)}(se))return Z;if(1===se.requestStatus)return S=function ue(C,w){return te.apply(this,arguments)}(C,w),Z;{if(!navigator.onLine)throw Ge.create("app-offline");const Ue=function An(C){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:w})}(Z);return S=function Je(C,w){return dt.apply(this,arguments)}(C,Ue),Ue}});return S?yield S:O.authToken}),Fr.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(C,w){let S=yield Me(C.appConfig);for(;1===S.authToken.requestStatus;)yield xr(100),S=yield Me(C.appConfig);const O=S.authToken;return 0===O.requestStatus?Ii(C,w):O})).apply(this,arguments)}function Me(C){return Ei(C,w=>{if(!Ct(w))throw Ge.create("not-registered");return function Hi(C){return 1===C.requestStatus&&C.requestTime+Ho<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function dt(){return dt=(0,N.Z)(function*(C,w){try{const S=yield function Mt(C,w){return $n.apply(this,arguments)}(C,w),O=Object.assign(Object.assign({},w),{authToken:S});return yield Pn(C.appConfig,O),S}catch(S){if(!Ke(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const O=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Pn(C.appConfig,O)}else yield Ci(C.appConfig);throw S}}),dt.apply(this,arguments)}function Ct(C){return void 0!==C&&2===C.registrationStatus}function la(){return(la=(0,N.Z)(function*(C){const w=C,{installationEntry:S,registrationPromise:O}=yield B(w);return O?O.catch(console.error):Ii(w).catch(console.error),S.fid})).apply(this,arguments)}function Lr(){return Lr=(0,N.Z)(function*(C,w=!1){const S=C;return yield function _c(C){return $r.apply(this,arguments)}(S),(yield Ii(S,w)).token}),Lr.apply(this,arguments)}function $r(){return($r=(0,N.Z)(function*(C){const{registrationPromise:w}=yield B(C);w&&(yield w)})).apply(this,arguments)}function jo(C){return Ge.create("missing-app-config-values",{valueName:C})}const vc="installations",zf=C=>{const w=C.getProvider("app").getImmediate(),S=function qa(C){if(!C||!C.options)throw jo("App Configuration");if(!C.name)throw jo("App Name");const w=["projectId","apiKey","appId"];for(const S of w)if(!C.options[S])throw jo(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(w);return{app:w,appConfig:S,heartbeatServiceProvider:(0,J._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},ji=C=>{const w=C.getProvider("app").getImmediate(),S=(0,J._getProvider)(w,vc).getImmediate();return{getId:()=>function po(C){return la.apply(this,arguments)}(S),getToken:$=>function mc(C){return Lr.apply(this,arguments)}(S,$)}};(function zd(){(0,J._registerComponent)(new ce.wA(vc,zf,"PUBLIC")),(0,J._registerComponent)(new ce.wA("installations-internal",ji,"PRIVATE"))})(),(0,J.registerVersion)(Bi,Sn),(0,J.registerVersion)(Bi,Sn,"esm2017");const ua="@firebase/remote-config",Wt=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _r{constructor(w,S,O,$){this.client=w,this.storage=S,this.storageCache=O,this.logger=$}isCachedDataFresh(w,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-S,$=O<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${$}.`),$}fetch(w){var S=this;return(0,N.Z)(function*(){const[O,$]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if($&&S.isCachedDataFresh(w.cacheMaxAgeMillis,O))return $;w.eTag=$&&$.eTag;const Z=yield S.client.fetch(w),se=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&se.push(S.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(se),Z})()}}function Jl(C=navigator){return C.languages&&C.languages[0]||C.language}class wi{constructor(w,S,O,$,Z,se){this.firebaseInstallations=w,this.sdkVersion=S,this.namespace=O,this.projectId=$,this.apiKey=Z,this.appId=se}fetch(w){var S=this;return(0,N.Z)(function*(){const[O,$]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},ke={sdk_version:S.sdkVersion,app_instance_id:O,app_instance_id_token:$,app_id:S.appId,language_code:Jl()},qe={method:"POST",headers:Ue,body:JSON.stringify(ke)},pt=fetch(se,qe),ht=new Promise((Ir,Xi)=>{w.signal.addEventListener(()=>{const Au=new Error("The operation was aborted.");Au.name="AbortError",Xi(Au)})});let Er;try{yield Promise.race([pt,ht]),Er=yield pt}catch(Ir){let Xi="fetch-client-network";throw"AbortError"===Ir?.name&&(Xi="fetch-timeout"),Wt.create(Xi,{originalErrorMessage:Ir?.message})}let un=Er.status;const Ji=Er.headers.get("ETag")||void 0;let es,Ro;if(200===Er.status){let Ir;try{Ir=yield Er.json()}catch(Xi){throw Wt.create("fetch-client-parse",{originalErrorMessage:Xi?.message})}es=Ir.entries,Ro=Ir.state}if("INSTANCE_STATE_UNSPECIFIED"===Ro?un=500:"NO_CHANGE"===Ro?un=304:("NO_TEMPLATE"===Ro||"EMPTY_CONFIG"===Ro)&&(es={}),304!==un&&200!==un)throw Wt.create("fetch-status",{httpStatus:un});return{status:un,eTag:Ji,config:es}})()}}class da{constructor(w,S){this.client=w,this.storage=S}fetch(w){var S=this;return(0,N.Z)(function*(){const O=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(w,O)})()}attemptFetch(w,{throttleEndTimeMillis:S,backoffCount:O}){var $=this;return(0,N.Z)(function*(){yield function dn(C,w){return new Promise((S,O)=>{const $=Math.max(w-Date.now(),0),Z=setTimeout(S,$);C.addEventListener(()=>{clearTimeout(Z),O(Wt.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,S);try{const Z=yield $.client.fetch(w);return yield $.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function vs(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Z))throw Z;const se={throttleEndTimeMillis:Date.now()+(0,ee.$s)(O),backoffCount:O+1};return yield $.storage.setThrottleMetadata(se),$.attemptFetch(w,se)}})()}}class Ic{constructor(w,S,O,$,Z){this.app=w,this._client=S,this._storageCache=O,this._storage=$,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ur(C,w){const S=C.target.error||void 0;return Wt.create(w,{originalErrorMessage:S&&S?.message})}const En="app_namespace_store";class mv{constructor(w,S,O,$=function Dt(){return new Promise((C,w)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=O=>{w(Ur(O,"storage-open"))},S.onsuccess=O=>{C(O.target.result)},S.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(En,{keyPath:"compositeKey"})}}catch(S){w(Wt.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=w,this.appName=S,this.namespace=O,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var S=this;return(0,N.Z)(function*(){const O=yield S.openDbPromise;return new Promise(($,Z)=>{const Ue=O.transaction([En],"readonly").objectStore(En),ke=S.createCompositeKey(w);try{const qe=Ue.get(ke);qe.onerror=pt=>{Z(Ur(pt,"storage-get"))},qe.onsuccess=pt=>{const ht=pt.target.result;$(ht?ht.value:void 0)}}catch(qe){Z(Wt.create("storage-get",{originalErrorMessage:qe?.message}))}})})()}set(w,S){var O=this;return(0,N.Z)(function*(){const $=yield O.openDbPromise;return new Promise((Z,se)=>{const ke=$.transaction([En],"readwrite").objectStore(En),qe=O.createCompositeKey(w);try{const pt=ke.put({compositeKey:qe,value:S});pt.onerror=ht=>{se(Ur(ht,"storage-set"))},pt.onsuccess=()=>{Z()}}catch(pt){se(Wt.create("storage-set",{originalErrorMessage:pt?.message}))}})})()}delete(w){var S=this;return(0,N.Z)(function*(){const O=yield S.openDbPromise;return new Promise(($,Z)=>{const Ue=O.transaction([En],"readwrite").objectStore(En),ke=S.createCompositeKey(w);try{const qe=Ue.delete(ke);qe.onerror=pt=>{Z(Ur(pt,"storage-delete"))},qe.onsuccess=()=>{$()}}catch(qe){Z(Wt.create("storage-delete",{originalErrorMessage:qe?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class Ya{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,N.Z)(function*(){const S=w.storage.getLastFetchStatus(),O=w.storage.getLastSuccessfulFetchTimestampMillis(),$=w.storage.getActiveConfig(),Z=yield S;Z&&(w.lastFetchStatus=Z);const se=yield O;se&&(w.lastSuccessfulFetchTimestampMillis=se);const Ue=yield $;Ue&&(w.activeConfig=Ue)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function Wo(){return Go.apply(this,arguments)}function Go(){return(Go=(0,N.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Di(){(0,J._registerComponent)(new ce.wA("remote-config",function C(w,{instanceIdentifier:S}){const O=w.getProvider("app").getImmediate(),$=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wt.create("registration-window");if(!(0,ee.hl)())throw Wt.create("indexed-db-unavailable");const{projectId:Z,apiKey:se,appId:Ue}=O.options;if(!Z)throw Wt.create("registration-project-id");if(!se)throw Wt.create("registration-api-key");if(!Ue)throw Wt.create("registration-app-id");const ke=new mv(Ue,O.name,S=S||"firebase"),qe=new Ya(ke),pt=new de.Yd(ua);pt.logLevel=de.in.ERROR;const ht=new wi($,J.SDK_VERSION,S,Z,se,Ue),Er=new da(ht,ke),un=new _r(Er,ke,qe,pt),Ji=new Ic(O,un,qe,ke,pt);return function mt(C){const w=(0,ee.m9)(C);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Ji),Ji},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(ua,"0.4.4"),(0,J.registerVersion)(ua,"0.4.4","esm2017")}();const Fn=(C,w)=>w.some(S=>C instanceof S);let Zf,In;const Wi=new WeakMap,Gi=new WeakMap,zn=new WeakMap,Yn=new WeakMap,eu=new WeakMap;let ha={get(C,w,S){if(C instanceof IDBTransaction){if("done"===w)return Gi.get(C);if("objectStoreNames"===w)return C.objectStoreNames||zn.get(C);if("store"===w)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return bi(C[w])},set:(C,w,S)=>(C[w]=S,!0),has:(C,w)=>C instanceof IDBTransaction&&("done"===w||"store"===w)||w in C};function qf(C){return"function"==typeof C?function Kd(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Is(){return In||(In=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...w){return C.apply(tu(this),w),bi(Wi.get(this))}:function(...w){return bi(C.apply(tu(this),w))}:function(w,...S){const O=C.call(tu(this),w,...S);return zn.set(O,w.sort?w.sort():[w]),bi(O)}}(C):(C instanceof IDBTransaction&&function wc(C){if(Gi.has(C))return;const w=new Promise((S,O)=>{const $=()=>{C.removeEventListener("complete",Z),C.removeEventListener("error",se),C.removeEventListener("abort",se)},Z=()=>{S(),$()},se=()=>{O(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",Z),C.addEventListener("error",se),C.addEventListener("abort",se)});Gi.set(C,w)}(C),Fn(C,function Br(){return Zf||(Zf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ha):C)}function bi(C){if(C instanceof IDBRequest)return function Zd(C){const w=new Promise((S,O)=>{const $=()=>{C.removeEventListener("success",Z),C.removeEventListener("error",se)},Z=()=>{S(bi(C.result)),$()},se=()=>{O(C.error),$()};C.addEventListener("success",Z),C.addEventListener("error",se)});return w.then(S=>{S instanceof IDBCursor&&Wi.set(S,C)}).catch(()=>{}),eu.set(w,C),w}(C);if(Yn.has(C))return Yn.get(C);const w=qf(C);return w!==C&&(Yn.set(C,w),eu.set(w,C)),w}const tu=C=>eu.get(C);function Dc(C,w,{blocked:S,upgrade:O,blocking:$,terminated:Z}={}){const se=indexedDB.open(C,w),Ue=bi(se);return O&&se.addEventListener("upgradeneeded",ke=>{O(bi(se.result),ke.oldVersion,ke.newVersion,bi(se.transaction))}),S&&se.addEventListener("blocked",()=>S()),Ue.then(ke=>{Z&&ke.addEventListener("close",()=>Z()),$&&ke.addEventListener("versionchange",()=>$())}).catch(()=>{}),Ue}function fa(C,{blocked:w}={}){const S=indexedDB.deleteDatabase(C);return w&&S.addEventListener("blocked",()=>w()),bi(S).then(()=>{})}const bc=["get","getKey","getAll","getAllKeys","count"],Yd=["put","add","delete","clear"],nu=new Map;function Qd(C,w){if(!(C instanceof IDBDatabase)||w in C||"string"!=typeof w)return;if(nu.get(w))return nu.get(w);const S=w.replace(/FromIndex$/,""),O=w!==S,$=Yd.includes(S);if(!(S in(O?IDBIndex:IDBObjectStore).prototype)||!$&&!bc.includes(S))return;const Z=function(){var se=(0,N.Z)(function*(Ue,...ke){const qe=this.transaction(Ue,$?"readwrite":"readonly");let pt=qe.store;return O&&(pt=pt.index(ke.shift())),(yield Promise.all([pt[S](...ke),$&&qe.done]))[0]});return function(ke){return se.apply(this,arguments)}}();return nu.set(w,Z),Z}!function qd(C){ha=C(ha)}(C=>({...C,get:(w,S,O)=>Qd(w,S)||C.get(w,S,O),has:(w,S)=>!!Qd(w,S)||C.has(w,S)}));const Tc="/firebase-messaging-sw.js",ru="/firebase-cloud-messaging-push-scope",pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sc="https://fcmregistrations.googleapis.com/v1",Ac="google.c.a.c_id",wn="google.c.a.c_l",Jd="google.c.a.ts";var Ds=(()=>((Ds=Ds||{}).PUSH_RECEIVED="push-received",Ds.NOTIFICATION_CLICKED="notification-clicked",Ds))();function Gr(C){const w=new Uint8Array(C);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ga(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(S),$=new Uint8Array(O.length);for(let Z=0;Z<O.length;++Z)$[Z]=O.charCodeAt(Z);return $}const ma="fcm_token_details_db",Rc=5,bs="fcm_token_object_Store";function Ts(){return Ts=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(ma))return null;let w=null;return(yield Dc(ma,Rc,{upgrade:(O=(0,N.Z)(function*($,Z,se,Ue){var ke;if(Z<2||!$.objectStoreNames.contains(bs))return;const qe=Ue.objectStore(bs),pt=yield qe.index("fcmSenderId").get(C);if(yield qe.clear(),pt)if(2===Z){const ht=pt;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;w={token:ht.fcmToken,createTime:null!==(ke=ht.createTime)&&void 0!==ke?ke:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:Gr(ht.vapidKey)}}}else if(3===Z){const ht=pt;w={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Gr(ht.auth),p256dh:Gr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Gr(ht.vapidKey)}}}else if(4===Z){const ht=pt;w={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Gr(ht.auth),p256dh:Gr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Gr(ht.vapidKey)}}}}),function(Z,se,Ue,ke){return O.apply(this,arguments)})})).close(),yield fa(ma),yield fa("fcm_vapid_details_db"),yield fa("undefined"),function Ti(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:w}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var O}),Ts.apply(this,arguments)}const Ss="firebase-messaging-database",Rn=1,vr="firebase-messaging-store";let Pc=null;function As(){return Pc||(Pc=Dc(Ss,Rn,{upgrade:(C,w)=>{0===w&&C.createObjectStore(vr)}})),Pc}function _a(C){return zi.apply(this,arguments)}function zi(){return zi=(0,N.Z)(function*(C){const w=Qa(C),O=yield(yield As()).transaction(vr).objectStore(vr).get(w);if(O)return O;{const $=yield function gm(C){return Ts.apply(this,arguments)}(C.appConfig.senderId);if($)return yield Oc(C,$),$}}),zi.apply(this,arguments)}function Oc(C,w){return iu.apply(this,arguments)}function iu(){return(iu=(0,N.Z)(function*(C,w){const S=Qa(C),$=(yield As()).transaction(vr,"readwrite");return yield $.objectStore(vr).put(w,S),yield $.done,w})).apply(this,arguments)}function Ms(){return(Ms=(0,N.Z)(function*(C){const w=Qa(C),O=(yield As()).transaction(vr,"readwrite");yield O.objectStore(vr).delete(w),yield O.done})).apply(this,arguments)}function Qa({appConfig:C}){return C.appId}const Qn=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xd(C,w){return eh.apply(this,arguments)}function eh(){return(eh=(0,N.Z)(function*(C,w){const S=yield Ja(C),O=th(w),$={method:"POST",headers:S,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(Rs(C.appConfig),$)).json()}catch(se){throw Qn.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(Z.error)throw Qn.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Qn.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function su(){return(su=(0,N.Z)(function*(C,w){const S=yield Ja(C),O=th(w.subscriptionOptions),$={method:"PATCH",headers:S,body:JSON.stringify(O)};let Z;try{Z=yield(yield fetch(`${Rs(C.appConfig)}/${w.token}`,$)).json()}catch(se){throw Qn.create("token-update-failed",{errorInfo:se?.toString()})}if(Z.error)throw Qn.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Qn.create("token-update-no-token");return Z.token})).apply(this,arguments)}function au(C,w){return lu.apply(this,arguments)}function lu(){return(lu=(0,N.Z)(function*(C,w){const O={method:"DELETE",headers:yield Ja(C)};try{const Z=yield(yield fetch(`${Rs(C.appConfig)}/${w}`,O)).json();if(Z.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch($){throw Qn.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function Rs({projectId:C}){return`${Sc}/projects/${C}/registrations`}function Ja(C){return ya.apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*({appConfig:C,installations:w}){const S=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function th({p256dh:C,auth:w,endpoint:S,vapidKey:O}){const $={web:{endpoint:S,auth:w,p256dh:C}};return O!==pa&&($.web.applicationPubKey=O),$}const uu=6048e5;function Xa(){return Xa=(0,N.Z)(function*(C){const w=yield function Ca(C,w){return Ps.apply(this,arguments)}(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:w.endpoint,auth:Gr(w.getKey("auth")),p256dh:Gr(w.getKey("p256dh"))},O=yield _a(C.firebaseDependencies);if(O){if(function Jn(C,w){return w.vapidKey===C.vapidKey&&w.endpoint===C.endpoint&&w.auth===C.auth&&w.p256dh===C.p256dh}(O.subscriptionOptions,S))return Date.now()>=O.createTime+uu?function Si(C,w){return va.apply(this,arguments)}(C,{token:O.token,createTime:Date.now(),subscriptionOptions:S}):O.token;try{yield au(C.firebaseDependencies,O.token)}catch($){console.warn($)}return Fc(C.firebaseDependencies,S)}return Fc(C.firebaseDependencies,S)}),Xa.apply(this,arguments)}function kc(){return kc=(0,N.Z)(function*(C){const w=yield _a(C.firebaseDependencies);w&&(yield au(C.firebaseDependencies,w.token),yield function Nc(C){return Ms.apply(this,arguments)}(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),kc.apply(this,arguments)}function va(){return va=(0,N.Z)(function*(C,w){try{const S=yield function xc(C,w){return su.apply(this,arguments)}(C.firebaseDependencies,w),O=Object.assign(Object.assign({},w),{token:S,createTime:Date.now()});return yield Oc(C.firebaseDependencies,O),S}catch(S){throw yield function cu(C){return kc.apply(this,arguments)}(C),S}}),va.apply(this,arguments)}function Fc(C,w){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,N.Z)(function*(C,w){const O={token:yield Xd(C,w),createTime:Date.now(),subscriptionOptions:w};return yield Oc(C,O),O.token})).apply(this,arguments)}function Ps(){return(Ps=(0,N.Z)(function*(C,w){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ga(w)})})).apply(this,arguments)}function Os(C){const w={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Lc(C,w){if(!w.notification)return;C.notification={};const S=w.notification.title;S&&(C.notification.title=S);const O=w.notification.body;O&&(C.notification.body=O);const $=w.notification.image;$&&(C.notification.image=$);const Z=w.notification.icon;Z&&(C.notification.icon=Z)}(w,C),function Zi(C,w){w.data&&(C.data=w.data)}(w,C),function zr(C,w){var S,O,$,Z,se;if(!(w.fcmOptions||null!==(S=w.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Ue=null!==($=null===(O=w.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==$?$:null===(Z=w.notification)||void 0===Z?void 0:Z.click_action;Ue&&(C.fcmOptions.link=Ue);const ke=null===(se=w.fcmOptions)||void 0===se?void 0:se.analytics_label;ke&&(C.fcmOptions.analyticsLabel=ke)}(w,C),w}function Vc(C,w){const S=[];for(let O=0;O<C.length;O++)S.push(C.charAt(O)),O<w.length&&S.push(w.charAt(O));return S.join("")}function Ai(C){return Qn.create("missing-app-config-values",{valueName:C})}Vc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Uc{constructor(w,S,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function du(C){if(!C||!C.options)throw Ai("App Configuration Object");if(!C.name)throw Ai("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const O of w)if(!S[O])throw Ai(O);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:$,installations:S,analyticsProvider:O}}_delete(){return Promise.resolve()}}function el(){return(el=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Tc,{scope:ru}),C.swRegistration.update().catch(()=>{})}catch(w){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(C,w){if(!w&&!C.swRegistration&&(yield function hu(C){return el.apply(this,arguments)}(C)),w||!C.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");C.swRegistration=w}})).apply(this,arguments)}function lt(){return(lt=(0,N.Z)(function*(C,w){w?C.vapidKey=w:C.vapidKey||(C.vapidKey=pa)})).apply(this,arguments)}function Bc(){return Bc=(0,N.Z)(function*(C,w){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield function _o(C,w){return lt.apply(this,arguments)}(C,w?.vapidKey),yield function fu(C,w){return mo.apply(this,arguments)}(C,w?.serviceWorkerRegistration),function nh(C){return Xa.apply(this,arguments)}(C)}),Bc.apply(this,arguments)}function Hc(){return(Hc=(0,N.Z)(function*(C,w,S){const O=function ih(C){switch(C){case Ds.NOTIFICATION_CLICKED:return"notification_open";case Ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:S[Ac],message_name:S[wn],message_time:S[Jd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ri(){return ri=(0,N.Z)(function*(C,w){const S=w.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===Ds.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Os(S)):C.onMessageHandler.next(Os(S)));const O=S.data;(function Kf(C){return"object"==typeof C&&!!C&&Ac in C})(O)&&"1"===O["google.c.a.e"]&&(yield function rh(C,w,S){return Hc.apply(this,arguments)}(C,S.messageType,O))}),ri.apply(this,arguments)}const Ns="@firebase/messaging",mu=C=>{const w=new Uc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function gu(C,w){return ri.apply(this,arguments)}(w,S)),w},_u=C=>{const w=C.getProvider("messaging").getImmediate();return{getToken:O=>function pu(C,w){return Bc.apply(this,arguments)}(w,O)}};function Ie(){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,N.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function oh(){(0,J._registerComponent)(new ce.wA("messaging",mu,"PUBLIC")),(0,J._registerComponent)(new ce.wA("messaging-internal",_u,"PRIVATE")),(0,J.registerVersion)(Ns,"0.12.4"),(0,J.registerVersion)(Ns,"0.12.4","esm2017")}();const gn="analytics",Yf="firebase_id",nl="origin",sr=6e4,Zr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",hn=new de.Yd("@firebase/analytics"),er=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ia(C){if(!C.startsWith(rl)){const w=er.create("invalid-gtag-resource",{gtagURL:C});return hn.warn(w.message),""}return C}function $c(C){return Promise.all(C.map(w=>w.catch(S=>S)))}function zo(){return(zo=(0,N.Z)(function*(C,w,S,O,$,Z){const se=O[$];try{if(se)yield w[se];else{const ke=(yield $c(S)).find(qe=>qe.measurementId===$);ke&&(yield w[ke.appId])}}catch(Ue){hn.error(Ue)}C("config",$,Z)})).apply(this,arguments)}function il(){return(il=(0,N.Z)(function*(C,w,S,O,$){try{let Z=[];if($&&$.send_to){let se=$.send_to;Array.isArray(se)||(se=[se]);const Ue=yield $c(S);for(const ke of se){const qe=Ue.find(ht=>ht.measurementId===ke),pt=qe&&w[qe.appId];if(!pt){Z=[];break}Z.push(pt)}}0===Z.length&&(Z=Object.values(w)),yield Promise.all(Z),C("event",O,$||{})}catch(Z){hn.error(Z)}})).apply(this,arguments)}const ah=30,Wc=new class Zo{constructor(w={},S=1e3){this.throttleMetadata=w,this.intervalMillis=S}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,S){this.throttleMetadata[w]=S}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function Jf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Co(){return(Co=(0,N.Z)(function*(C){var w;const{appId:S,apiKey:O}=C,$={method:"GET",headers:Jf(O)},Z=Zr.replace("{app-id}",S),se=yield fetch(Z,$);if(200!==se.status&&304!==se.status){let Ue="";try{const ke=yield se.json();null!==(w=ke.error)&&void 0!==w&&w.message&&(Ue=ke.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ue})}return se.json()})).apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(C,w=Wc,S){const{appId:O,apiKey:$,measurementId:Z}=C.options;if(!O)throw er.create("no-app-id");if(!$){if(Z)return{measurementId:Z,appId:O};throw er.create("no-api-key")}const se=w.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Eu;return setTimeout((0,N.Z)(function*(){Ue.abort()}),void 0!==S?S:sr),lh({appId:O,apiKey:$,measurementId:Z},se,Ue,w)})).apply(this,arguments)}function lh(C,w,S){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,N.Z)(function*(C,{throttleEndTimeMillis:w,backoffCount:S},O,$=Wc){var Z;const{appId:se,measurementId:Ue}=C;try{yield function Xf(C,w){return new Promise((S,O)=>{const $=Math.max(w-Date.now(),0),Z=setTimeout(S,$);C.addEventListener(()=>{clearTimeout(Z),O(er.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(O,w)}catch(ke){if(Ue)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${ke?.message}]`),{appId:se,measurementId:Ue};throw ke}try{const ke=yield function Cr(C){return Co.apply(this,arguments)}(C);return $.deleteThrottleMetadata(se),ke}catch(ke){const qe=ke;if(!function ol(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const w=Number(C.customData.httpStatus);return 429===w||500===w||503===w||504===w}(qe)){if($.deleteThrottleMetadata(se),Ue)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:se,measurementId:Ue};throw ke}const pt=503===Number(null===(Z=qe?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ee.$s)(S,$.intervalMillis,ah):(0,ee.$s)(S,$.intervalMillis),ht={throttleEndTimeMillis:Date.now()+pt,backoffCount:S+1};return $.setThrottleMetadata(se,ht),hn.debug(`Calling attemptFetch again in ${pt} millis`),lh(C,ht,O,$)}}),Gc.apply(this,arguments)}class Eu{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let Ma,Zc;function zc(){return(zc=(0,N.Z)(function*(C,w,S,O,$){if($&&$.global)C("event",S,O);else{const Z=yield w;C("event",S,Object.assign(Object.assign({},O),{send_to:Z}))}})).apply(this,arguments)}function ll(){return(ll=(0,N.Z)(function*(){if(!(0,ee.hl)())return hn.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return hn.warn(er.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Pi(){return Pi=(0,N.Z)(function*(C,w,S,O,$,Z,se){var Ue;const ke=function mn(C){return Aa.apply(this,arguments)}(C);ke.then(un=>{S[un.measurementId]=un.appId,C.options.measurementId&&un.measurementId!==C.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(un=>hn.error(un)),w.push(ke);const qe=function Du(){return ll.apply(this,arguments)}().then(un=>{if(un)return O.getId()}),[pt,ht]=yield Promise.all([ke,qe]);(function Cu(C){const w=window.document.getElementsByTagName("script");for(const S of Object.values(w))if(S.src&&S.src.includes(rl)&&S.src.includes(C))return S;return null})(Z)||function Da(C,w){const S=function wa(C,w){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,w)),S}("firebase-js-sdk-policy",{createScriptURL:Ia}),O=document.createElement("script"),$=`${rl}?l=${C}&id=${w}`;O.src=S?S?.createScriptURL($):$,O.async=!0,document.head.appendChild(O)}(Z,pt.measurementId),Zc&&($("consent","default",Zc),function ks(C){Zc=C}(void 0)),$("js",new Date);const Er=null!==(Ue=se?.config)&&void 0!==Ue?Ue:{};return Er[nl]="firebase",Er.update=!0,null!=ht&&(Er[Yf]=ht),$("config",pt.measurementId,Er),Ma&&($("set",Ma),function al(C){Ma=C}(void 0)),pt.measurementId}),Pi.apply(this,arguments)}class ft{constructor(w){this.app=w}_delete(){return delete lr[this.app.options.appId],Promise.resolve()}}let lr={},Kc=[];const Fs={};let ur,li,ai="dataLayer",Ls=!1;function bu(C,w,S){!function ui(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const w=C.map((O,$)=>`(${$+1}) ${O}`).join(" "),S=er.create("invalid-analytics-context",{errorInfo:w});hn.warn(S.message)}}();const O=C.options.appId;if(!O)throw er.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw er.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lr[O])throw er.create("already-exists",{id:O});if(!Ls){!function vu(C){let w=[];Array.isArray(window[C])?w=window[C]:window[C]=w}(ai);const{wrappedGtag:Z,gtagCore:se}=function Sa(C,w,S,O,$){let Z=function(...se){window[O].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Z=window[$]),window[$]=function Ta(C,w,S,O){function Z(){return Z=(0,N.Z)(function*(se,...Ue){try{if("event"===se){const[ke,qe]=Ue;yield function Mi(C,w,S,O,$){return il.apply(this,arguments)}(C,w,S,ke,qe)}else if("config"===se){const[ke,qe]=Ue;yield function ba(C,w,S,O,$,Z){return zo.apply(this,arguments)}(C,w,S,O,ke,qe)}else if("consent"===se){const[ke]=Ue;C("consent","update",ke)}else if("get"===se){const[ke,qe,pt]=Ue;C("get",ke,qe,pt)}else if("set"===se){const[ke]=Ue;C("set",ke)}else C(se,...Ue)}catch(ke){hn.error(ke)}}),Z.apply(this,arguments)}return function $(se){return Z.apply(this,arguments)}}(Z,C,w,S),{gtagCore:Z,wrappedGtag:window[$]}}(lr,Kc,Fs,ai,"gtag");li=Z,ur=se,Ls=!0}return lr[O]=function qc(C,w,S,O,$,Z,se){return Pi.apply(this,arguments)}(C,Kc,Fs,w,ur,ai,S),new ft(C)}function ul(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,N.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Yi="@firebase/analytics";!function Qo(){(0,J._registerComponent)(new ce.wA(gn,(w,{options:S})=>bu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,J._registerComponent)(new ce.wA("analytics-internal",function C(w){try{const S=w.getProvider(gn).getImmediate();return{logEvent:(O,$,Z)=>function Io(C,w,S,O){C=(0,ee.m9)(C),function qo(C,w,S,O,$){return zc.apply(this,arguments)}(li,lr[C.app.options.appId],w,S,O).catch($=>hn.error($))}(S,O,$,Z)}}catch(S){throw er.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,J.registerVersion)(Yi,"0.10.0"),(0,J.registerVersion)(Yi,"0.10.0","esm2017")}();var Do=P(1954),tr=P(2631);const Qc=new class bo extends tr.v{}(class Ni extends Do.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}schedule(w,S=0){return S>0?super.schedule(w,S):(this.delay=S,this.state=w,this.scheduler.flush(this),this)}execute(w,S){return S>0||this.closed?super.execute(w,S):this._execute(w,S)}requestAsyncId(w,S,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(w,S,O):(w.flush(this),0)}});var Kr=P(6321),ci=P(9397),_n=P(5137),cr=P(3093);const hl=new c.GfV("7.6.1"),To="__angularfire_symbol__analyticsIsSupportedValue",Yr="__angularfire_symbol__analyticsIsSupported",Jc="__angularfire_symbol__remoteConfigIsSupportedValue",fl="__angularfire_symbol__remoteConfigIsSupported",Jo="__angularfire_symbol__messagingIsSupportedValue",yt="__angularfire_symbol__messagingIsSupported";function Ra(C,w,S){if(w){if(1===w.length)return w[0];const Z=w.filter(se=>se.app===S);if(1===Z.length)return Z[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[Yr]||(globalThis[Yr]=ul().then(C=>globalThis[To]=C).catch(()=>globalThis[To]=!1)),globalThis[yt]||(globalThis[yt]=Ie().then(C=>globalThis[Jo]=C).catch(()=>globalThis[Jo]=!1)),globalThis[fl]||(globalThis[fl]=Wo().then(C=>globalThis[Jc]=C).catch(()=>globalThis[Jc]=!1));const Qi=(C,w)=>{const S=w?[w]:(0,z.C6)(),O=[];return S.forEach($=>{$.container.getProvider(C).instances.forEach(se=>{O.includes(se)||O.push(se)})}),O};function So(){}class bn{constructor(w,S=Qc){this.zone=w,this.delegate=S}now(){return this.delegate.now()}schedule(w,S,O){const $=this.zone;return this.delegate.schedule(function(se){$.runGuarded(()=>{w.apply(this,[se])})},S,O)}}class Ao{constructor(w){this.zone=w,this.task=null}call(w,S){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),S.pipe((0,ci.b)({next:O,complete:O,error:O})).subscribe(w).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hs=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new bn(Zone.current)),this.insideAngular=S.run(()=>new bn(Zone.current,Kr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Mo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Xo(C){return Mo(),function ed(C){return function(S){return(S=S.lift(new Ao(C.ngZone))).pipe((0,_n.R)(C.outsideAngular),(0,cr.Q)(C.insideAngular))}}(Mo())(C)}},9058:(Qe,ve,P)=>{P.d(ve,{$s:()=>Ci,BH:()=>Y,DV:()=>Zn,Dv:()=>ps,GJ:()=>xn,L:()=>ae,LL:()=>Ee,P0:()=>Xe,Pz:()=>fe,Sg:()=>he,UG:()=>re,UI:()=>fs,US:()=>ce,Wj:()=>wt,Wl:()=>nt,Yr:()=>Ho,ZB:()=>Q,ZR:()=>_e,aH:()=>ne,b$:()=>Bn,cI:()=>pn,dS:()=>fo,eu:()=>le,g5:()=>N,gK:()=>jt,gQ:()=>rt,h$:()=>Se,hl:()=>oe,hu:()=>z,jU:()=>Le,lb:()=>ti,m9:()=>Pt,ne:()=>Jt,p$:()=>j,pd:()=>et,r3:()=>$t,ru:()=>St,tV:()=>U,uI:()=>Ne,ug:()=>gs,vZ:()=>Nr,w1:()=>Bi,w9:()=>an,xO:()=>aa,xb:()=>Or,z$:()=>be,zI:()=>pe,zd:()=>He});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},z=function(B,L){if(!B)throw N(L)},N=function(B){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+B)},J=function(B){const L=[];let G=0;for(let ye=0;ye<B.length;ye++){let ie=B.charCodeAt(ye);ie<128?L[G++]=ie:ie<2048?(L[G++]=ie>>6|192,L[G++]=63&ie|128):55296==(64512&ie)&&ye+1<B.length&&56320==(64512&B.charCodeAt(ye+1))?(ie=65536+((1023&ie)<<10)+(1023&B.charCodeAt(++ye)),L[G++]=ie>>18|240,L[G++]=ie>>12&63|128,L[G++]=ie>>6&63|128,L[G++]=63&ie|128):(L[G++]=ie>>12|224,L[G++]=ie>>6&63|128,L[G++]=63&ie|128)}return L},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ie=0;ie<B.length;ie+=3){const Ze=B[ie],it=ie+1<B.length,gt=it?B[ie+1]:0,nn=ie+2<B.length,Zt=nn?B[ie+2]:0;let $n=(15&gt)<<2|Zt>>6,jr=63&Zt;nn||(jr=64,it||($n=64)),ye.push(G[Ze>>2],G[(3&Ze)<<4|gt>>4],G[$n],G[jr])}return ye.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(J(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let G=0,ye=0;for(;G<B.length;){const ie=B[G++];if(ie<128)L[ye++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ze=B[G++];L[ye++]=String.fromCharCode((31&ie)<<6|63&Ze)}else if(ie>239&&ie<365){const nn=((7&ie)<<18|(63&B[G++])<<12|(63&B[G++])<<6|63&B[G++])-65536;L[ye++]=String.fromCharCode(55296+(nn>>10)),L[ye++]=String.fromCharCode(56320+(1023&nn))}else{const Ze=B[G++],it=B[G++];L[ye++]=String.fromCharCode((15&ie)<<12|(63&Ze)<<6|63&it)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ie=0;ie<B.length;){const Ze=G[B.charAt(ie++)],gt=ie<B.length?G[B.charAt(ie)]:0;++ie;const Zt=ie<B.length?G[B.charAt(ie)]:64;++ie;const Mt=ie<B.length?G[B.charAt(ie)]:64;if(++ie,null==Ze||null==gt||null==Zt||null==Mt)throw new de;ye.push(Ze<<2|gt>>4),64!==Zt&&(ye.push(gt<<4&240|Zt>>2),64!==Mt&&ye.push(Zt<<6&192|Mt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(B){const L=J(B);return ce.encodeByteArray(L,!0)},ae=function(B){return Se(B).replace(/\./g,"")},U=function(B){try{return ce.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j(B){return Q(void 0,B)}function Q(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!Oe(G)||(B[G]=Q(B[G],L[G]));return B}function Oe(B){return"__proto__"!==B}const Pe=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=B&&U(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Xe=B=>{const L=(B=>{var L,G;return null===(G=null===(L=Pe())||void 0===L?void 0:L.emulatorHosts)||void 0===G?void 0:G[B]})(B);if(!L)return;const G=L.lastIndexOf(":");if(G<=0||G+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const ye=parseInt(L.substring(G+1),10);return"["===L[0]?[L.substring(1,G-1),ye]:[L.substring(0,G),ye]},ne=()=>{var B;return null===(B=Pe())||void 0===B?void 0:B.config},fe=B=>{var L;return null===(L=Pe())||void 0===L?void 0:L[`_${B}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,ye)=>{G?this.reject(G):this.resolve(ye),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,ye))}}}function he(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=L||"demo-project",ie=B.iat||0,Ze=B.sub||B.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ie,exp:ie+3600,auth_time:ie,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(it)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function re(){var B;const L=null===(B=Pe())||void 0===B?void 0:B.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function St(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bi(){const B=be();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ho(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((B,L)=>{try{let G=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ye);ie.onsuccess=()=>{ie.result.close(),G||self.indexedDB.deleteDatabase(ye),B(!0)},ie.onupgradeneeded=()=>{G=!1},ie.onerror=()=>{var Ze;L((null===(Ze=ie.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(G){L(G)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _e extends Error{constructor(L,G,ye){super(G),this.code=L,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(L,G,ye){this.service=L,this.serviceName=G,this.errors=ye}create(L,...G){const ye=G[0]||{},ie=`${this.service}/${L}`,Ze=this.errors[L],it=Ze?function Ge(B,L){return B.replace(Ke,(G,ye)=>{const ie=L[ye];return null!=ie?String(ie):`<${ye}?>`})}(Ze,ye):"Error";return new _e(ie,`${this.serviceName}: ${it} (${ie}).`,ye)}}const Ke=/\{\$([^}]+)}/g;function pn(B){return JSON.parse(B)}function nt(B){return JSON.stringify(B)}const Lt=function(B){let L={},G={},ye={},ie="";try{const Ze=B.split(".");L=pn(U(Ze[0])||""),G=pn(U(Ze[1])||""),ie=Ze[2],ye=G.d||{},delete G.d}catch{}return{header:L,claims:G,data:ye,signature:ie}},an=function(B){const G=Lt(B).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},xn=function(B){const L=Lt(B).claims;return"object"==typeof L&&!0===L.admin};function $t(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function Zn(B,L){if(Object.prototype.hasOwnProperty.call(B,L))return B[L]}function Or(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function fs(B,L,G){const ye={};for(const ie in B)Object.prototype.hasOwnProperty.call(B,ie)&&(ye[ie]=L.call(G,B[ie],ie,B));return ye}function Nr(B,L){if(B===L)return!0;const G=Object.keys(B),ye=Object.keys(L);for(const ie of G){if(!ye.includes(ie))return!1;const Ze=B[ie],it=L[ie];if(xr(Ze)&&xr(it)){if(!Nr(Ze,it))return!1}else if(Ze!==it)return!1}for(const ie of ye)if(!G.includes(ie))return!1;return!0}function xr(B){return null!==B&&"object"==typeof B}function aa(B){const L=[];for(const[G,ye]of Object.entries(B))Array.isArray(ye)?ye.forEach(ie=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(ie))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(ye));return L.length?"&"+L.join("&"):""}function He(B){const L={};return B.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ie,Ze]=ye.split("=");L[decodeURIComponent(ie)]=decodeURIComponent(Ze)}}),L}function et(B){const L=B.indexOf("?");if(!L)return"";const G=B.indexOf("#",L);return B.substring(L,G>0?G:void 0)}class rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,G){G||(G=0);const ye=this.W_;if("string"==typeof L)for(let Mt=0;Mt<16;Mt++)ye[Mt]=L.charCodeAt(G)<<24|L.charCodeAt(G+1)<<16|L.charCodeAt(G+2)<<8|L.charCodeAt(G+3),G+=4;else for(let Mt=0;Mt<16;Mt++)ye[Mt]=L[G]<<24|L[G+1]<<16|L[G+2]<<8|L[G+3],G+=4;for(let Mt=16;Mt<80;Mt++){const $n=ye[Mt-3]^ye[Mt-8]^ye[Mt-14]^ye[Mt-16];ye[Mt]=4294967295&($n<<1|$n>>>31)}let Zt,ct,ie=this.chain_[0],Ze=this.chain_[1],it=this.chain_[2],gt=this.chain_[3],nn=this.chain_[4];for(let Mt=0;Mt<80;Mt++){Mt<40?Mt<20?(Zt=gt^Ze&(it^gt),ct=1518500249):(Zt=Ze^it^gt,ct=1859775393):Mt<60?(Zt=Ze&it|gt&(Ze|it),ct=2400959708):(Zt=Ze^it^gt,ct=3395469782);const $n=(ie<<5|ie>>>27)+Zt+nn+ct+ye[Mt]&4294967295;nn=gt,gt=it,it=4294967295&(Ze<<30|Ze>>>2),Ze=ie,ie=$n}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+it&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+nn&4294967295}update(L,G){if(null==L)return;void 0===G&&(G=L.length);const ye=G-this.blockSize;let ie=0;const Ze=this.buf_;let it=this.inbuf_;for(;ie<G;){if(0===it)for(;ie<=ye;)this.compress_(L,ie),ie+=this.blockSize;if("string"==typeof L){for(;ie<G;)if(Ze[it]=L.charCodeAt(ie),++it,++ie,it===this.blockSize){this.compress_(Ze),it=0;break}}else for(;ie<G;)if(Ze[it]=L[ie],++it,++ie,it===this.blockSize){this.compress_(Ze),it=0;break}}this.inbuf_=it,this.total_+=G}digest(){const L=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&G,G/=256;this.compress_(this.buf_);let ye=0;for(let ie=0;ie<5;ie++)for(let Ze=24;Ze>=0;Ze-=8)L[ye]=this.chain_[ie]>>Ze&255,++ye;return L}}function Jt(B,L){const G=new cn(B,L);return G.subscribe.bind(G)}class cn{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(ye=>{this.error(ye)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,ye){let ie;if(void 0===L&&void 0===G&&void 0===ye)throw new Error("Missing Observer.");ie=function Ut(B,L){if("object"!=typeof B||null===B)return!1;for(const G of L)if(G in B&&"function"==typeof B[G])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:G,complete:ye},void 0===ie.next&&(ie.next=Hn),void 0===ie.error&&(ie.error=Hn),void 0===ie.complete&&(ie.complete=Hn);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),Ze}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const ps=function(B,L,G,ye){let ie;if(ye<L?ie="at least "+L:ye>G&&(ie=0===G?"none":"no more than "+G),ie)throw new Error(B+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+ie+".")};function jt(B,L){return`${B} failed: ${L} argument `}function wt(B,L,G,ye){if((!ye||G)&&"function"!=typeof G)throw new Error(jt(B,L)+"must be a valid function.")}function ti(B,L,G,ye){if((!ye||G)&&("object"!=typeof G||null===G))throw new Error(jt(B,L)+"must be a valid context object.")}const fo=function(B){const L=[];let G=0;for(let ye=0;ye<B.length;ye++){let ie=B.charCodeAt(ye);if(ie>=55296&&ie<=56319){const Ze=ie-55296;ye++,z(ye<B.length,"Surrogate pair missing trail surrogate."),ie=65536+(Ze<<10)+(B.charCodeAt(ye)-56320)}ie<128?L[G++]=ie:ie<2048?(L[G++]=ie>>6|192,L[G++]=63&ie|128):ie<65536?(L[G++]=ie>>12|224,L[G++]=ie>>6&63|128,L[G++]=63&ie|128):(L[G++]=ie>>18|240,L[G++]=ie>>12&63|128,L[G++]=ie>>6&63|128,L[G++]=63&ie|128)}return L},gs=function(B){let L=0;for(let G=0;G<B.length;G++){const ye=B.charCodeAt(G);ye<128?L++:ye<2048?L+=2:ye>=55296&&ye<=56319?(L+=4,G++):L+=3}return L},vi=1e3,jn=2,Pn=144e5,tn=.5;function Ci(B,L=vi,G=jn){const ye=L*Math.pow(G,B),ie=Math.round(tn*ye*(Math.random()-.5)*2);return Math.min(Pn,ye+ie)}function Pt(B){return B&&B._delegate?B._delegate:B}},3441:(Qe,ve,P)=>{var c=P(5879);let z=null;function N(){return z}class ee{}const ce=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ae)},providedIn:"platform"}),n})();const Se=new c.OlP("Location Initialized");let ae=(()=>{class n extends de{constructor(){super(),this._doc=(0,c.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,o,a){this._history.pushState(e,o,a)}replaceState(e,o,a){this._history.replaceState(e,o,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function U(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function j(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let Oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Be)},providedIn:"root"}),n})();const we=new c.OlP("appBaseHref");let Be=(()=>{class n extends Oe{constructor(e,o){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return U(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Q(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${o}${a}`:o}pushState(e,o,a,h){const g=this.prepareExternalUrl(a+Q(h));this._platformLocation.pushState(e,o,g)}replaceState(e,o,a,h){const g=this.prepareExternalUrl(a+Q(h));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(we,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Te=(()=>{class n extends Oe{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=U(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,a,h){let g=this.prepareExternalUrl(a+Q(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,a,h){let g=this.prepareExternalUrl(a+Q(h));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(we,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const o=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(j(Xe(o))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Q(o))}normalize(e){return n.stripTrailingSlash(function st(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",a=null){this._locationStrategy.pushState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q(o)),a)}replaceState(e,o="",a=null){this._locationStrategy.replaceState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Q(o)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(a=>a(e,o))}subscribe(e,o,a){return this._subject.subscribe({next:e,error:o,complete:a})}}return n.normalizeQueryParams=Q,n.joinWithSlash=U,n.stripTrailingSlash=j,n.\u0275fac=function(e){return new(e||n)(c.LFG(Oe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new Ve((0,c.LFG)(Oe))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}const fe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Percent=1]="Percent",Y[Y.Currency=2]="Currency",Y[Y.Scientific=3]="Scientific",Y))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function _e(n,t){const e=(0,c.cg1)(n),o=e[c.wAp.NumberSymbols][t];if(typeof o>"u"){if(t===Le.CurrencyDecimal)return e[c.wAp.NumberSymbols][Le.Decimal];if(t===Le.CurrencyGroup)return e[c.wAp.NumberSymbols][Le.Group]}return o}const ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ze=22,it=".",gt="0",nn=";",Zt=",",ct="#";function Ii(n,t,e,o,a){const g=function te(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(nn),a=o[0],h=o[1],g=-1!==a.indexOf(it)?a.split(it):[a.substring(0,a.lastIndexOf(gt)+1),a.substring(a.lastIndexOf(gt)+1)],E=g[0],D=g[1]||"";e.posPre=E.substring(0,E.indexOf(ct));for(let F=0;F<D.length;F++){const V=D.charAt(F);V===gt?e.minFrac=e.maxFrac=F+1:V===ct?e.maxFrac=F+1:e.posSuf+=V}const M=E.split(Zt);if(e.gSize=M[1]?M[1].length:0,e.lgSize=M[2]||M[1]?(M[2]||M[1]).length:0,h){const F=a.length-e.posPre.length-e.posSuf.length,V=h.indexOf(ct);e.negPre=h.substring(0,V).replace(/'/g,""),e.negSuf=h.slice(V+F).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Ee(n,t){return(0,c.cg1)(n)[c.wAp.NumberFormats][t]}(t,Y.Currency),_e(t,Le.MinusSign));return g.minFrac=function Nr(n){let t;const e=fe[n];return e&&(t=e[2]),"number"==typeof t?t:2}(o),g.maxFrac=g.minFrac,function jr(n,t,e,o,a,h,g=!1){let E="",D=!1;if(isFinite(n)){let M=function Je(n){let o,a,h,g,E,t=Math.abs(n)+"",e=0;for((a=t.indexOf(it))>-1&&(t=t.replace(it,"")),(h=t.search(/e/i))>0?(a<0&&(a=h),a+=+t.slice(h+1),t=t.substring(0,h)):a<0&&(a=t.length),h=0;t.charAt(h)===gt;h++);if(h===(E=t.length))o=[0],a=1;else{for(E--;t.charAt(E)===gt;)E--;for(a-=h,o=[],g=0;h<=E;h++,g++)o[g]=Number(t.charAt(h))}return a>Ze&&(o=o.splice(0,Ze-1),e=a-1,a=1),{digits:o,exponent:e,integerLen:a}}(n);g&&(M=function Me(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(M));let F=t.minInt,V=t.minFrac,X=t.maxFrac;if(h){const fn=h.match(ie);if(null===fn)throw new Error(`${h} is not a valid digit info`);const Qt=fn[1],en=fn[3],Pr=fn[5];null!=Qt&&(F=Ct(Qt)),null!=en&&(V=Ct(en)),null!=Pr?X=Ct(Pr):null!=en&&V>X&&(X=V)}!function dt(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let o=n.digits,a=o.length-n.integerLen;const h=Math.min(Math.max(t,a),e);let g=h+n.integerLen,E=o[g];if(g>0){o.splice(Math.max(n.integerLen,g));for(let V=g;V<o.length;V++)o[V]=0}else{a=Math.max(0,a),n.integerLen=1,o.length=Math.max(1,g=h+1),o[0]=0;for(let V=1;V<g;V++)o[V]=0}if(E>=5)if(g-1<0){for(let V=0;V>g;V--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[g-1]++;for(;a<Math.max(0,h);a++)o.push(0);let D=0!==h;const M=t+n.integerLen,F=o.reduceRight(function(V,X,Ae,Fe){return Fe[Ae]=(X+=V)<10?X:X-10,D&&(0===Fe[Ae]&&Ae>=M?Fe.pop():D=!1),X>=10?1:0},0);F&&(o.unshift(F),n.integerLen++)}(M,V,X);let Ae=M.digits,Fe=M.integerLen;const We=M.exponent;let at=[];for(D=Ae.every(fn=>!fn);Fe<F;Fe++)Ae.unshift(0);for(;Fe<0;Fe++)Ae.unshift(0);Fe>0?at=Ae.splice(Fe,Ae.length):(at=Ae,Ae=[0]);const zt=[];for(Ae.length>=t.lgSize&&zt.unshift(Ae.splice(-t.lgSize,Ae.length).join(""));Ae.length>t.gSize;)zt.unshift(Ae.splice(-t.gSize,Ae.length).join(""));Ae.length&&zt.unshift(Ae.join("")),E=zt.join(_e(e,o)),at.length&&(E+=_e(e,a)+at.join("")),We&&(E+=_e(e,Le.Exponential)+"+"+We)}else E=_e(e,Le.Infinity);return E=n<0&&!D?t.negPre+E+t.negSuf:t.posPre+E+t.posSuf,E}(n,g,t,Le.CurrencyGroup,Le.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}function Ct(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function po(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const o=e.indexOf("="),[a,h]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(a.trim()===t)return decodeURIComponent(h)}return null}class ql{constructor(t,e,o,a){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ms=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,a){this._viewContainer=e,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((a,h,g)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new ql(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)o.remove(null===h?void 0:h);else if(null!==h){const E=o.get(h);o.move(E,g),yc(E,a)}});for(let a=0,h=o.length;a<h;a++){const E=o.get(a).context;E.index=a,E.count=h,E.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{yc(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function yc(n,t){n.context.$implicit=t.item}let ni=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new Gf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Gd("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Gd("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gf{constructor(){this.$implicit=null,this.ngIf=null}}function Gd(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Jl=(()=>{class n{constructor(e,o="USD"){this._locale=e,this._defaultCurrencyCode=o}transform(e,o=this._defaultCurrencyCode,a="symbol",h,g){if(!function wi(n){return!(null==n||""===n||n!=n)}(e))return null;g=g||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let E=o||this._defaultCurrencyCode;"code"!==a&&(E="symbol"===a||"symbol-narrow"===a?function Or(n,t,e="en"){const o=function nt(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(e)[n]||fe[n]||[],a=o[1];return"narrow"===t&&"string"==typeof a?a:o[0]||n}(E,"symbol"===a?"wide":"narrow",g):a);try{return Ii(function dn(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),g,E,o,h)}catch(D){throw function Et(n,t){return new c.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Gn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Es(n){return"server"===n}let Di=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new yr((0,c.LFG)(ce),window)}),n})();class yr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const h=a.shadowRoot;if(h){const g=h.getElementById(t)||h.querySelector(`[name="${t}"]`);if(g)return g}a=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],a-h[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Wr(this.window.history)||Wr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fn{}class Ps extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jn extends Ps{static makeCurrent(){!function J(n){z||(z=n)}(new Jn)}onAndCancel(t,e,o){return t.addEventListener(e,o),()=>{t.removeEventListener(e,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Lc(){return Os=Os||document.querySelector("base"),Os?Os.getAttribute("href"):null}();return null==e?null:function zr(n){Zi=Zi||document.createElement("a"),Zi.setAttribute("href",n);const t=Zi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Os=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return po(document.cookie,t)}}let Zi,Os=null,Vc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const du=new c.OlP("EventManagerPlugins");let Ai=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,a){return this._findPluginFor(o).addEventListener(e,o,a)}getZone(){return this._zone}_findPluginFor(e){let o=this._eventNameToPlugin.get(e);if(o)return o;if(o=this._plugins.find(h=>h.supports(e)),!o)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(du),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Uc{constructor(t){this._doc=t}}const hu="ng-app-id";let el=(()=>{class n{constructor(e,o,a,h={}){this.doc=e,this.appId=o,this.nonce=a,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Es(h),this.resetHostNodes()}addStyles(e){for(const o of e)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(e){for(const o of e)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(o=>o.remove()),e.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){const o=this.styleRef;o.get(e)?.elements?.forEach(a=>a.remove()),o.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${hu}="${this.appId}"]`);if(e?.length){const o=new Map;return e.forEach(a=>{null!=a.textContent&&o.set(a.textContent,a)}),o}return null}changeUsageCount(e,o){const a=this.styleRef;if(a.has(e)){const h=a.get(e);return h.usage+=o,h.usage}return a.set(e,{usage:o,elements:[]}),o}getStyleElement(e,o){const a=this.styleNodesInDOM,h=a?.get(o);if(h?.parentNode===e)return a.delete(o),h.removeAttribute(hu),h;{const g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=o,this.platformIsServer&&g.setAttribute(hu,this.appId),g}}addStyleToHost(e,o){const a=this.getStyleElement(e,o);e.appendChild(a);const h=this.styleRef,g=h.get(o)?.elements;g?g.push(a):h.set(o,{elements:[a],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mo=/%COMP%/g,rh=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gu(n,t){return t.map(e=>e.replace(mo,n))}let ri=(()=>{class n{constructor(e,o,a,h,g,E,D,M=null){this.eventManager=e,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=h,this.doc=g,this.platformId=E,this.ngZone=D,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Es(E),this.defaultRenderer=new Ns(e,g,D,this.platformIsServer)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===c.ifc.ShadowDom&&(o={...o,encapsulation:c.ifc.Emulated});const a=this.getOrCreateRenderer(e,o);return a instanceof Rt?a.applyToHost(e):a instanceof Ie&&a.applyStyles(),a}getOrCreateRenderer(e,o){const a=this.rendererByCompId;let h=a.get(o.id);if(!h){const g=this.doc,E=this.ngZone,D=this.eventManager,M=this.sharedStylesHost,F=this.removeStylesOnCompDestroy,V=this.platformIsServer;switch(o.encapsulation){case c.ifc.Emulated:h=new Rt(D,M,o,this.appId,F,g,E,V);break;case c.ifc.ShadowDom:return new oh(D,M,e,o,g,E,this.nonce,V);default:h=new Ie(D,M,o,F,g,E,V)}a.set(o.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ai),c.LFG(el),c.LFG(c.AFp),c.LFG(rh),c.LFG(ce),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ns{constructor(t,e,o,a){this.eventManager=t,this.doc=e,this.ngZone=o,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(fu[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_u(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(_u(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?this.doc.querySelector(t):t;if(!o)throw new c.vHH(-5104,!1);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,a){if(a){e=a+":"+e;const h=fu[a];h?t.setAttributeNS(h,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const a=fu[o];a?t.removeAttributeNS(a,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,a){a&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,o,a&c.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){if("string"==typeof t&&!(t=N().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(o))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function _u(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oh extends Ns{constructor(t,e,o,a,h,g,E,D){super(t,h,g,D),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=gu(a.id,a.styles);for(const F of M){const V=document.createElement("style");E&&V.setAttribute("nonce",E),V.textContent=F,this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ie extends Ns{constructor(t,e,o,a,h,g,E,D){super(t,h,g,E),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=a,this.styles=D?gu(D,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rt extends Ie{constructor(t,e,o,a,h,g,E,D){const M=a+"-"+o.id;super(t,e,o,h,g,E,D,M),this.contentAttr=function Hc(n){return"_ngcontent-%COMP%".replace(mo,n)}(M),this.hostAttr=function ih(n){return"_nghost-%COMP%".replace(mo,n)}(M)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}let sh=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,a){return e.addEventListener(o,a,!1),()=>this.removeEventListener(e,o,a)}removeEventListener(e,o,a){return e.removeEventListener(o,a)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yo=["alt","control","meta","shift"],Xn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tl=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,a){const h=n.parseEventName(o),g=n.eventCallback(h.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,h.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const h=n._normalizeKey(o.pop());let g="",E=o.indexOf("code");if(E>-1&&(o.splice(E,1),g="code."),yo.forEach(M=>{const F=o.indexOf(M);F>-1&&(o.splice(F,1),g+=M+".")}),g+=h,0!=o.length||0===h.length)return null;const D={};return D.domEventName=a,D.fullKey=g,D}static matchEventFullKeyCode(e,o){let a=Xn[e.key]||e.key,h="";return o.indexOf("code.")>-1&&(a=e.code,h="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),yo.forEach(g=>{g!==a&&(0,vo[g])(e)&&(h+=g+".")}),h+=a,h===o)}static eventCallback(e,o,a){return h=>{n.matchEventFullKeyCode(h,e)&&a.runGuarded(()=>o(h))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const rl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Yf(){Jn.makeCurrent()},multi:!0},{provide:ce,useFactory:function sr(){return(0,c.RDi)(document),document},deps:[]}]),hn=new c.OlP(""),oi=[{provide:c.rWj,useClass:class Kf{addToWindow(t){c.dqk.getAngularTestability=(o,a=!0)=>{const h=t.findTestabilityInTree(o,a);if(null==h)throw new c.vHH(5103,!1);return h},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(o=>{const a=c.dqk.getAllAngularTestabilities();let h=a.length,g=!1;const E=function(D){g=g||D,h--,0==h&&o(g)};a.forEach(D=>{D.whenStable(E)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],er=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function nl(){return new c.qLn},deps:[]},{provide:du,useClass:sh,multi:!0,deps:[ce,c.R0b,c.Lbi]},{provide:du,useClass:tl,multi:!0,deps:[ce]},ri,el,Ai,{provide:c.FYo,useExisting:ri},{provide:Fn,useClass:Vc,deps:[]},[]];let Ia=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hn,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...er,...oi],imports:[Gn,c.hGG]}),n})(),ba=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let o=null;return o=e?new e:function vu(){return new ba((0,c.LFG)(ce))}(),o},providedIn:"root"}),n})();typeof window<"u"&&window;var si=P(5592),Ri=P(4674),qt=P(2459),ot=P(2096),ar=P(5619);const{isArray:Zc}=Array,{getPrototypeOf:ks,prototype:al,keys:Du}=Object;function ll(n){if(1===n.length){const t=n[0];if(Zc(t))return{args:t,keys:null};if(function qc(n){return n&&"object"==typeof n&&ks(n)===al}(t)){const e=Du(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:n,keys:null}}var Pi=P(2737),ft=P(7398);const{isArray:lr}=Array;function Fs(n){return(0,ft.U)(t=>function Kc(n,t){return lr(t)?n(...t):n(t)}(n,t))}var ai=P(4564);function Eo(n,t){return n.reduce((e,o,a)=>(e[o]=t[a],e),{})}var ur=P(8251),li=P(7103);function Ls(...n){const t=(0,ai.yG)(n),e=(0,ai.jO)(n),{args:o,keys:a}=ll(n);if(0===o.length)return(0,qt.D)([],t);const h=new si.y(function Yc(n,t,e=Pi.y){return o=>{ui(t,()=>{const{length:a}=n,h=new Array(a);let g=a,E=a;for(let D=0;D<a;D++)ui(t,()=>{const M=(0,qt.D)(n[D],t);let F=!1;M.subscribe((0,ur.x)(o,V=>{h[D]=V,F||(F=!0,E--),E||o.next(e(h.slice()))},()=>{--g||o.complete()}))},o)},o)}}(o,t,a?g=>Eo(a,g):Pi.y));return e?h.pipe(Fs(e)):h}function ui(n,t,e){n?(0,li.f)(e,n,t):t()}const Vs=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qi=P(7537);function Ko(...n){return function ul(){return(0,qi.J)(1)}()((0,qt.D)(n,(0,ai.yG)(n)))}var Ki=P(4829);function ch(n){return new si.y(t=>{(0,Ki.Xf)(n()).subscribe(t)})}var cl=P(8407);function Yo(n,t){const e=(0,Ri.m)(n)?n:()=>n,o=a=>a.error(e());return new si.y(t?a=>t.schedule(o,0,a):o)}var Oi=P(6232),dl=P(7394),qr=P(9360);function Io(){return(0,qr.e)((n,t)=>{let e=null;n._refCount++;const o=(0,ur.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,h=e;e=null,a&&(!h||a===h)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}class wo extends si.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dl.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ur.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dl.w0.EMPTY)}return t}refCount(){return Io()(this)}}var Yi=P(8645),Dn=P(4664);function Qo(n){return n<=0?()=>Oi.E:(0,qr.e)((t,e)=>{let o=0;t.subscribe((0,ur.x)(e,a=>{++o<=n&&(e.next(a),n<=o&&e.complete())}))})}function Ni(n,t){return(0,qr.e)((e,o)=>{let a=0;e.subscribe((0,ur.x)(o,h=>n.call(t,h,a++)&&o.next(h)))})}var tr=P(1631);function bo(n){return(0,qr.e)((t,e)=>{let o=!1;t.subscribe((0,ur.x)(e,a=>{o=!0,e.next(a)},()=>{o||e.next(n),e.complete()}))})}function Qc(n=dh){return(0,qr.e)((t,e)=>{let o=!1;t.subscribe((0,ur.x)(e,a=>{o=!0,e.next(a)},()=>o?e.complete():e.error(n())))})}function dh(){return new Vs}function Kr(n,t){const e=arguments.length>=2;return o=>o.pipe(n?Ni((a,h)=>n(a,h,o)):Pi.y,Qo(1),e?bo(t):Qc(()=>new Vs))}function ci(n,t){return(0,Ri.m)(t)?(0,tr.z)(n,t,1):(0,tr.z)(n,1)}var _n=P(9397);function cr(n){return(0,qr.e)((t,e)=>{let h,o=null,a=!1;o=t.subscribe((0,ur.x)(e,void 0,void 0,g=>{h=(0,Ki.Xf)(n(g,cr(n)(t))),o?(o.unsubscribe(),o=null,h.subscribe(e)):a=!0})),a&&(o.unsubscribe(),o=null,h.subscribe(e))})}function To(n,t){return(0,qr.e)(function hl(n,t,e,o,a){return(h,g)=>{let E=e,D=t,M=0;h.subscribe((0,ur.x)(g,F=>{const V=M++;D=E?n(D,F,V):(E=!0,F),o&&g.next(D)},a&&(()=>{E&&g.next(D),g.complete()})))}}(n,t,arguments.length>=2,!0))}function Yr(n){return n<=0?()=>Oi.E:(0,qr.e)((t,e)=>{let o=[];t.subscribe((0,ur.x)(e,a=>{o.push(a),n<o.length&&o.shift()},()=>{for(const a of o)e.next(a);e.complete()},void 0,()=>{o=null}))})}function Jo(n){return(0,qr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const yt="primary",Us=Symbol("RouteTitle");class ep{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bs(n){return new ep(n)}function mm(n,t,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<n.length))return null;const a={};for(let h=0;h<o.length;h++){const g=o[h],E=n[h];if(g.startsWith(":"))a[g.substring(1)]=E;else if(g!==E.path)return null}return{consumed:n.slice(0,o.length),posParams:a}}function Qi(n,t){const e=n?Object.keys(n):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let a;for(let h=0;h<e.length;h++)if(a=e[h],!So(n[a],t[a]))return!1;return!0}function So(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),o=[...t].sort();return e.every((a,h)=>o[h]===a)}return n===t}function bn(n){return n.length>0?n[n.length-1]:null}function Ao(n){return function uh(n){return!!n&&(n instanceof si.y||(0,Ri.m)(n.lift)&&(0,Ri.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,qt.D)(Promise.resolve(n)):(0,ot.of)(n)}const Hs={exact:function Xc(n,t,e){if(!O(n.segments,t.segments)||!Su(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!n.children[o]||!Xc(n.children[o],t.children[o],e))return!1;return!0},subset:Xo},Mo={exact:function di(n,t){return Qi(n,t)},subset:function Tu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>So(n[e],t[e]))},ignored:()=>!0};function nr(n,t,e){return Hs[e.paths](n.root,t.root,e.matrixParams)&&Mo[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Xo(n,t,e){return ed(n,t,t.segments,e)}function ed(n,t,e,o){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!O(a,e)||t.hasChildren()||!Su(a,e,o))}if(n.segments.length===e.length){if(!O(n.segments,e)||!Su(n.segments,e,o))return!1;for(const a in t.children)if(!n.children[a]||!Xo(n.children[a],t.children[a],o))return!1;return!0}{const a=e.slice(0,n.segments.length),h=e.slice(n.segments.length);return!!(O(n.segments,a)&&Su(n.segments,a,o)&&n.children[yt])&&ed(n.children[yt],t,h,o)}}function Su(n,t,e){return t.every((o,a)=>Mo[e](n[a].parameters,o.parameters))}class Pa{constructor(t=new C([],{}),e={},o=null){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return Ue.serialize(this)}}class C{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ke(this)}}class w{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bs(this.parameters)),this._parameterMap}toString(){return Ro(this)}}function O(n,t){return n.length===t.length&&n.every((e,o)=>e.path===t[o].path)}let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new se},providedIn:"root"}),n})();class se{parse(t){const e=new np(t);return new Pa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${qe(t.root,!0)}`,o=function Xi(n){const t=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(a=>`${ht(e)}=${ht(a)}`).join("&"):`${ht(e)}=${ht(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function Er(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ue=new se;function ke(n){return n.segments.map(t=>Ro(t)).join("/")}function qe(n,t){if(!n.hasChildren())return ke(n);if(t){const e=n.children[yt]?qe(n.children[yt],!1):"",o=[];return Object.entries(n.children).forEach(([a,h])=>{a!==yt&&o.push(`${a}:${qe(h,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function $(n,t){let e=[];return Object.entries(n.children).forEach(([o,a])=>{o===yt&&(e=e.concat(t(a,o)))}),Object.entries(n.children).forEach(([o,a])=>{o!==yt&&(e=e.concat(t(a,o)))}),e}(n,(o,a)=>a===yt?[qe(n.children[yt],!1)]:[`${a}:${qe(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${ke(n)}/${e[0]}`:`${ke(n)}/(${e.join("//")})`}}function pt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ht(n){return pt(n).replace(/%3B/gi,";")}function un(n){return pt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ji(n){return decodeURIComponent(n)}function es(n){return Ji(n.replace(/\+/g,"%20"))}function Ro(n){return`${un(n.path)}${function Ir(n){return Object.keys(n).map(t=>`;${un(t)}=${un(n[t])}`).join("")}(n.parameters)}`}const Au=/^[^\/()?;#]+/;function Oa(n){const t=n.match(Au);return t?t[0]:""}const td=/^[^\/()?;=#]+/,hh=/^[^=?&#]+/,ts=/^[^&#]+/;class np{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[yt]=new C(t,e)),o}parseSegment(){const t=Oa(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new w(Ji(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function _m(n){const t=n.match(td);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const a=Oa(this.remaining);a&&(o=a,this.capture(o))}t[Ji(e)]=Ji(o)}parseQueryParam(t){const e=function tp(n){const t=n.match(hh);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function pl(n){const t=n.match(ts);return t?t[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const a=es(e),h=es(o);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(h)}else t[a]=h}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Oa(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new c.vHH(4010,!1);let h;o.indexOf(":")>-1?(h=o.slice(0,o.indexOf(":")),this.capture(h),this.capture(":")):t&&(h=yt);const g=this.parseChildren();e[h]=1===Object.keys(g).length?g[yt]:new C([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function ym(n){return n.segments.length>0?new C([],{[yt]:n}):n}function fh(n){const t={};for(const o of Object.keys(n.children)){const h=fh(n.children[o]);if(o===yt&&0===h.segments.length&&h.hasChildren())for(const[g,E]of Object.entries(h.children))t[g]=E;else(h.segments.length>0||h.hasChildren())&&(t[o]=h)}return function vm(n){if(1===n.numberOfChildren&&n.children[yt]){const t=n.children[yt];return new C(n.segments.concat(t.segments),t.children)}return n}(new C(n.segments,t))}function gl(n){return n instanceof Pa}function ph(n){let t;const a=ym(function e(h){const g={};for(const D of h.children){const M=e(D);g[D.outlet]=M}const E=new C(h.url,g);return h===n&&(t=E),E}(n.root));return t??a}function rp(n,t,e,o){let a=n;for(;a.parent;)a=a.parent;if(0===t.length)return gh(a,a,a,e,o);const h=function ip(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _h(!0,0,n);let t=0,e=!1;const o=n.reduce((a,h,g)=>{if("object"==typeof h&&null!=h){if(h.outlets){const E={};return Object.entries(h.outlets).forEach(([D,M])=>{E[D]="string"==typeof M?M.split("/"):M}),[...a,{outlets:E}]}if(h.segmentPath)return[...a,h.segmentPath]}return"string"!=typeof h?[...a,h]:0===g?(h.split("/").forEach((E,D)=>{0==D&&"."===E||(0==D&&""===E?e=!0:".."===E?t++:""!=E&&a.push(E))}),a):[...a,h]},[]);return new _h(e,t,o)}(t);if(h.toRoot())return gh(a,a,new C([],{}),e,o);const g=function Em(n,t,e){if(n.isAbsolute)return new Mu(t,!0,0);if(!e)return new Mu(t,!1,NaN);if(null===e.parent)return new Mu(e,!0,0);const o=ml(n.commands[0])?0:1;return function Im(n,t,e){let o=n,a=t,h=e;for(;h>a;){if(h-=a,o=o.parent,!o)throw new c.vHH(4005,!1);a=o.segments.length}return new Mu(o,!1,a-h)}(e,e.segments.length-1+o,n.numberOfDoubleDots)}(h,a,n),E=g.processChildren?nd(g.segmentGroup,g.index,h.commands):wm(g.segmentGroup,g.index,h.commands);return gh(a,g.segmentGroup,E,e,o)}function ml(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xi(n){return"object"==typeof n&&null!=n&&n.outlets}function gh(n,t,e,o,a){let g,h={};o&&Object.entries(o).forEach(([D,M])=>{h[D]=Array.isArray(M)?M.map(F=>`${F}`):`${M}`}),g=n===t?e:mh(n,t,e);const E=ym(fh(g));return new Pa(E,h,a)}function mh(n,t,e){const o={};return Object.entries(n.children).forEach(([a,h])=>{o[a]=h===t?e:mh(h,t,e)}),new C(n.segments,o)}class _h{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&ml(o[0]))throw new c.vHH(4003,!1);const a=o.find(xi);if(a&&a!==bn(o))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function wm(n,t,e){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return nd(n,t,e);const o=function Pu(n,t,e){let o=0,a=t;const h={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(o>=e.length)return h;const g=n.segments[a],E=e[o];if(xi(E))break;const D=`${E}`,M=o<e.length-1?e[o+1]:null;if(a>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!bm(D,M,g))return h;o+=2}else{if(!bm(D,{},g))return h;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(n,t,e),a=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const h=new C(n.segments.slice(0,o.pathIndex),{});return h.children[yt]=new C(n.segments.slice(o.pathIndex),n.children),nd(h,0,a)}return o.match&&0===a.length?new C(n.segments,{}):o.match&&!n.hasChildren()?op(n,t,e):o.match?nd(n,0,a):op(n,t,e)}function nd(n,t,e){if(0===e.length)return new C(n.segments,{});{const o=function Ru(n){return xi(n[0])?n[0].outlets:{[yt]:n}}(e),a={};if(!o[yt]&&n.children[yt]&&1===n.numberOfChildren&&0===n.children[yt].segments.length){const h=nd(n.children[yt],t,e);return new C(n.segments,h.children)}return Object.entries(o).forEach(([h,g])=>{"string"==typeof g&&(g=[g]),null!==g&&(a[h]=wm(n.children[h],t,g))}),Object.entries(n.children).forEach(([h,g])=>{void 0===o[h]&&(a[h]=g)}),new C(n.segments,a)}}function op(n,t,e){const o=n.segments.slice(0,t);let a=0;for(;a<e.length;){const h=e[a];if(xi(h)){const D=_v(h.outlets);return new C(o,D)}if(0===a&&ml(e[0])){o.push(new w(n.segments[t].path,Dm(e[0]))),a++;continue}const g=xi(h)?h.outlets[yt]:`${h}`,E=a<e.length-1?e[a+1]:null;g&&E&&ml(E)?(o.push(new w(g,Dm(E))),a+=2):(o.push(new w(g,{})),a++)}return new C(o,{})}function _v(n){const t={};return Object.entries(n).forEach(([e,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(t[e]=op(new C([],{}),0,o))}),t}function Dm(n){const t={};return Object.entries(n).forEach(([e,o])=>t[e]=`${o}`),t}function bm(n,t,e){return n==e.path&&Qi(t,e.parameters)}const rd="imperative";class eo{constructor(t,e){this.id=t,this.url=e}}class js extends eo{constructor(t,e,o="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends eo{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ou extends eo{constructor(t,e,o,a){super(t,e),this.reason=o,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $s extends eo{constructor(t,e,o,a){super(t,e),this.reason=o,this.code=a,this.type=16}}class _l extends eo{constructor(t,e,o,a){super(t,e),this.error=o,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yl extends eo{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sp extends eo{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nu extends eo{constructor(t,e,o,a,h){super(t,e),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=h,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class id extends eo{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od extends eo{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ap{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tm{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sm{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lp{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yh{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vl{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class up{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cl,this.attachRef=null}}let Cl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,o){const a=this.getOrCreateContext(e);a.outlet=o,this.contexts.set(e,a)}onChildOutletDestroyed(e){const o=this.getContext(e);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let o=this.getContext(e);return o||(o=new up,this.contexts.set(e,o)),o}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vh(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=vh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return wr(t,this._root).map(e=>e.value)}}function vh(n,t){if(n===t.value)return t;for(const e of t.children){const o=vh(n,e);if(o)return o}return null}function wr(n,t){if(n===t.value)return[t];for(const e of t.children){const o=wr(n,e);if(o.length)return o.unshift(t),o}return[]}class ki{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ns(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class El extends cp{constructor(t,e){super(t),this.snapshot=e,sd(this,t)}toString(){return this.snapshot.toString()}}function rr(n,t){const e=function xu(n,t){const g=new rs([],{},{},"",{},yt,t,null,{});return new Eh("",new ki(g,[]))}(0,t),o=new ar.X([new w("",{})]),a=new ar.X({}),h=new ar.X({}),g=new ar.X({}),E=new ar.X(""),D=new Fi(o,a,g,E,h,yt,t,e.root);return D.snapshot=e.root,new El(new ki(D,[]),e)}class Fi{constructor(t,e,o,a,h,g,E,D){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=o,this.fragmentSubject=a,this.dataSubject=h,this.outlet=g,this.component=E,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,ft.U)(M=>M[Us]))??(0,ot.of)(void 0),this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(t=>Bs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(t=>Bs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ch(n,t="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const a=e[o],h=e[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(h.component)break;o--}}return function hi(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(o))}class rs{get title(){return this.data?.[Us]}constructor(t,e,o,a,h,g,E,D,M){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=h,this.outlet=g,this.component=E,this.routeConfig=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eh extends cp{constructor(t,e){super(e),this.url=t,sd(this,e)}toString(){return ad(this._root)}}function sd(n,t){t.value._routerState=n,t.children.forEach(e=>sd(n,e))}function ad(n){const t=n.children.length>0?` { ${n.children.map(ad).join(", ")} } `:"";return`${n.value}${t}`}function Il(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qi(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Qi(t.params,e.params)||n.paramsSubject.next(e.params),function Ra(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Qi(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ih(n,t){const e=Qi(n.params,t.params)&&function S(n,t){return O(n,t)&&n.every((e,o)=>Qi(e.parameters,t[o].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ih(n.parent,t.parent))}let ld=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Cl),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(fi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:o,previousValue:a}=e.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=e;const a=this.location,g=e.snapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,D=new wh(e,E,a.injector);this.activated=a.createComponent(g,{index:a.length,injector:D,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class wh{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===Fi?this.route:t===Cl?this.childContexts:this.parent.get(t,e)}}const fi=new c.OlP("");let Dh=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:o}=e,a=Ls([o.queryParams,o.params,o.data]).pipe((0,Dn.w)(([h,g,E],D)=>(E={...h,...g,...E},0===D?(0,ot.of)(E):Promise.resolve(E)))).subscribe(h=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(e);const g=(0,c.qFp)(o.component);if(g)for(const{templateName:E}of g.inputs)e.activatedComponentRef.setInput(E,h[E]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Fu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const a=function Am(n,t,e){return t.children.map(o=>{for(const a of e.children)if(n.shouldReuseRoute(o.value,a.value.snapshot))return Fu(n,o,a);return Fu(n,o)})}(n,t,e);return new ki(o,a)}{if(n.shouldAttach(t.value)){const h=n.retrieve(t.value);if(null!==h){const g=h.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(E=>Fu(n,E)),g}}const o=function bh(n){return new Fi(new ar.X(n.url),new ar.X(n.params),new ar.X(n.queryParams),new ar.X(n.fragment),new ar.X(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(h=>Fu(n,h));return new ki(o,a)}}const dr="ngNavigationCancelingError";function Lu(n,t){const{redirectTo:e,navigationBehaviorOptions:o}=gl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=is(!1,0,t);return a.url=e,a.navigationBehaviorOptions=o,a}function is(n,t,e){const o=new Error("NavigationCancelingError: "+(n||""));return o[dr]=!0,o.cancellationCode=t,e&&(o.url=e),o}function Vu(n){return to(n)&&gl(n.url)}function to(n){return n&&n[dr]}let Ws=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,o){1&e&&c._UZ(0,"router-outlet")},dependencies:[ld],encapsulation:2}),n})();function d(n){const t=n.children&&n.children.map(d),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=Ws),e}function p(n){return n.outlet||yt}function b(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class K{constructor(t,e,o,a,h){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=a,this.inputBindingEnabled=h}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Il(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const a=ns(e);t.children.forEach(h=>{const g=h.value.outlet;this.deactivateRoutes(h,a[g],o),delete a[g]}),Object.values(a).forEach(h=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(t,e,o){const a=t.value,h=e?e.value:null;if(a===h)if(a.component){const g=o.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,o);else h&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,h=ns(t);for(const g of Object.keys(h))this.deactivateRouteAndItsChildren(h[g],a);if(o&&o.outlet){const g=o.outlet.detach(),E=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,h=ns(t);for(const g of Object.keys(h))this.deactivateRouteAndItsChildren(h[g],a);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,e,o){const a=ns(e);t.children.forEach(h=>{this.activateRoutes(h,a[h.value.outlet],o),this.forwardEvent(new yh(h.value.snapshot))}),t.children.length&&this.forwardEvent(new Sm(t.value.snapshot))}activateRoutes(t,e,o){const a=t.value,h=e?e.value:null;if(Il(a),a===h)if(a.component){const g=o.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,o);else if(a.component){const g=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const E=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(E.contexts),g.attachRef=E.componentRef,g.route=E.route.value,g.outlet&&g.outlet.attach(E.componentRef,E.route.value),Il(E.route.value),this.activateChildRoutes(t,null,g.children)}else{const E=b(a.snapshot);g.attachRef=null,g.route=a,g.injector=E,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,o)}}class De{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xe{constructor(t,e){this.component=t,this.route=e}}function ze(n,t,e){const o=n._root;return Hr(o,t?t._root:null,e,[o.value])}function Gt(n,t){const e=Symbol(),o=t.get(n,e);return o===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:o}function Hr(n,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const h=ns(t);return n.children.forEach(g=>{(function Bu(n,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const h=n.value,g=t?t.value:null,E=e?e.getContext(n.value.outlet):null;if(g&&h.routeConfig===g.routeConfig){const D=function Th(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!O(n.url,t.url);case"pathParamsOrQueryParamsChange":return!O(n.url,t.url)||!Qi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(n,t)||!Qi(n.queryParams,t.queryParams);default:return!Ih(n,t)}}(g,h,h.routeConfig.runGuardsAndResolvers);D?a.canActivateChecks.push(new De(o)):(h.data=g.data,h._resolvedData=g._resolvedData),Hr(n,t,h.component?E?E.children:null:e,o,a),D&&E&&E.outlet&&E.outlet.isActivated&&a.canDeactivateChecks.push(new xe(E.outlet.component,g))}else g&&Gs(t,E,a),a.canActivateChecks.push(new De(o)),Hr(n,null,h.component?E?E.children:null:e,o,a)})(g,h[g.value.outlet],e,o.concat([g.value]),a),delete h[g.value.outlet]}),Object.entries(h).forEach(([g,E])=>Gs(E,e.getContext(g),a)),a}function Gs(n,t,e){const o=ns(n),a=n.value;Object.entries(o).forEach(([h,g])=>{Gs(g,a.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new xe(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function zs(n){return"function"==typeof n}function bl(n){return n instanceof Vs||"EmptyError"===n?.name}const fp=Symbol("INITIAL_VALUE");function Wu(){return(0,Dn.w)(n=>Ls(n.map(t=>t.pipe(Qo(1),function Do(...n){const t=(0,ai.yG)(n);return(0,qr.e)((e,o)=>{(t?Ko(n,e,t):Ko(n,e)).subscribe(o)})}(fp)))).pipe((0,ft.U)(t=>{for(const e of t)if(!0!==e){if(e===fp)return fp;if(!1===e||e instanceof Pa)return e}return!0}),Ni(t=>t!==fp),Qo(1)))}function Dv(n){return(0,cl.z)((0,_n.b)(t=>{if(gl(t))throw Lu(0,t)}),(0,ft.U)(t=>!0===t))}class gp{constructor(t){this.segmentGroup=t||null}}class mp{constructor(t){this.urlTree=t}}function cd(n){return Yo(new gp(n))}function dd(n){return Yo(new mp(n))}class bv{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new c.vHH(4002,!1)}lineralizeSegments(t,e){let o=[],a=e.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return(0,ot.of)(o);if(a.numberOfChildren>1||!a.children[yt])return Yo(new c.vHH(4e3,!1));a=a.children[yt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreateUrlTree(t,e,o,a){const h=this.createSegmentGroup(t,e.root,o,a);return new Pa(h,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Object.entries(t).forEach(([a,h])=>{if("string"==typeof h&&h.startsWith(":")){const E=h.substring(1);o[a]=e[E]}else o[a]=h}),o}createSegmentGroup(t,e,o,a){const h=this.createSegments(t,e.segments,o,a);let g={};return Object.entries(e.children).forEach(([E,D])=>{g[E]=this.createSegmentGroup(t,D,o,a)}),new C(h,g)}createSegments(t,e,o,a){return e.map(h=>h.path.startsWith(":")?this.findPosParam(t,h,a):this.findOrReturn(h,o))}findPosParam(t,e,o){const a=o[e.path.substring(1)];if(!a)throw new c.vHH(4001,!1);return a}findOrReturn(t,e){let o=0;for(const a of e){if(a.path===t.path)return e.splice(o),a;o++}return t}}const yp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tv(n,t,e,o,a){const h=vp(n,t,e);return h.matched?(o=function Uu(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,o),function mT(n,t,e,o){const a=t.canMatch;if(!a||0===a.length)return(0,ot.of)(!0);const h=a.map(g=>{const E=Gt(g,n);return Ao(function ju(n){return n&&zs(n.canMatch)}(E)?E.canMatch(t,e):n.runInContext(()=>E(t,e)))});return(0,ot.of)(h).pipe(Wu(),Dv())}(o,t,e).pipe((0,ft.U)(g=>!0===g?h:{...yp}))):(0,ot.of)(h)}function vp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...yp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||mm)(e,n,t);if(!a)return{...yp};const h={};Object.entries(a.posParams??{}).forEach(([E,D])=>{h[E]=D.path});const g=a.consumed.length>0?{...h,...a.consumed[a.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function Sv(n,t,e,o){return e.length>0&&function kI(n,t,e){return e.some(o=>os(n,t,o)&&p(o)!==yt)}(n,e,o)?{segmentGroup:new C(t,xI(o,new C(e,n.children))),slicedSegments:[]}:0===e.length&&function FI(n,t,e){return e.some(o=>os(n,t,o))}(n,e,o)?{segmentGroup:new C(n.segments,NI(n,0,e,o,n.children)),slicedSegments:e}:{segmentGroup:new C(n.segments,n.children),slicedSegments:e}}function NI(n,t,e,o,a){const h={};for(const g of o)if(os(n,e,g)&&!a[p(g)]){const E=new C([],{});h[p(g)]=E}return{...a,...h}}function xI(n,t){const e={};e[yt]=t;for(const o of n)if(""===o.path&&p(o)!==yt){const a=new C([],{});e[p(o)]=a}return e}function os(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class yT{constructor(t,e,o,a,h,g,E){this.injector=t,this.configLoader=e,this.rootComponentType=o,this.config=a,this.urlTree=h,this.paramsInheritanceStrategy=g,this.urlSerializer=E,this.allowRedirects=!0,this.applyRedirects=new bv(this.urlSerializer,this.urlTree)}noMatchError(t){return new c.vHH(4002,!1)}recognize(){const t=Sv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,yt).pipe(cr(e=>{if(e instanceof mp)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof gp?this.noMatchError(e):e}),(0,ft.U)(e=>{const o=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yt,this.rootComponentType,null,{}),a=new ki(o,e),h=new Eh("",a),g=function Cm(n,t,e=null,o=null){return rp(ph(n),t,e,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return g.queryParams=this.urlTree.queryParams,h.url=this.urlSerializer.serialize(g),this.inheritParamsAndData(h._root),{state:h,tree:g}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,yt).pipe(cr(o=>{throw o instanceof gp?this.noMatchError(o):o}))}inheritParamsAndData(t){const e=t.value,o=Ch(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.processChildren(t,e,o):this.processSegment(t,e,o,o.segments,a,!0)}processChildren(t,e,o){const a=[];for(const h of Object.keys(o.children))"primary"===h?a.unshift(h):a.push(h);return(0,qt.D)(a).pipe(ci(h=>{const g=o.children[h],E=function y(n,t){const e=n.filter(o=>p(o)===t);return e.push(...n.filter(o=>p(o)!==t)),e}(e,h);return this.processSegmentGroup(t,E,g,h)}),To((h,g)=>(h.push(...g),h)),bo(null),function Jc(n,t){const e=arguments.length>=2;return o=>o.pipe(n?Ni((a,h)=>n(a,h,o)):Pi.y,Yr(1),e?bo(t):Qc(()=>new Vs))}(),(0,tr.z)(h=>{if(null===h)return cd(o);const g=VI(h);return function vT(n){n.sort((t,e)=>t.value.outlet===yt?-1:e.value.outlet===yt?1:t.value.outlet.localeCompare(e.value.outlet))}(g),(0,ot.of)(g)}))}processSegment(t,e,o,a,h,g){return(0,qt.D)(e).pipe(ci(E=>this.processSegmentAgainstRoute(E._injector??t,e,E,o,a,h,g).pipe(cr(D=>{if(D instanceof gp)return(0,ot.of)(null);throw D}))),Kr(E=>!!E),cr(E=>{if(bl(E))return function LI(n,t,e){return 0===t.length&&!n.children[e]}(o,a,h)?(0,ot.of)([]):cd(o);throw E}))}processSegmentAgainstRoute(t,e,o,a,h,g,E){return function Mh(n,t,e,o){return!!(p(n)===o||o!==yt&&os(t,e,n))&&("**"===n.path||vp(t,n,e).matched)}(o,a,h,g)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,a,o,h,g,E):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,a,e,o,h,g):cd(a):cd(a)}expandSegmentAgainstRouteUsingRedirect(t,e,o,a,h,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,h,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,a){const h=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?dd(h):this.applyRedirects.lineralizeSegments(o,h).pipe((0,tr.z)(g=>{const E=new C(g,{});return this.processSegment(t,e,E,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,h,g){const{matched:E,consumedSegments:D,remainingSegments:M,positionalParamSegments:F}=vp(e,a,h);if(!E)return cd(e);const V=this.applyRedirects.applyRedirectCommands(D,a.redirectTo,F);return a.redirectTo.startsWith("/")?dd(V):this.applyRedirects.lineralizeSegments(a,V).pipe((0,tr.z)(X=>this.processSegment(t,o,e,X.concat(M),g,!1)))}matchSegmentAgainstRoute(t,e,o,a,h,g){let E;if("**"===o.path){const D=a.length>0?bn(a).parameters:{},M=new rs(a,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Av(o),p(o),o.component??o._loadedComponent??null,o,Mv(o));E=(0,ot.of)({snapshot:M,consumedSegments:[],remainingSegments:[]}),e.children={}}else E=Tv(e,o,a,t).pipe((0,ft.U)(({matched:D,consumedSegments:M,remainingSegments:F,parameters:V})=>D?{snapshot:new rs(M,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Av(o),p(o),o.component??o._loadedComponent??null,o,Mv(o)),consumedSegments:M,remainingSegments:F}:null));return E.pipe((0,Dn.w)(D=>null===D?cd(e):this.getChildConfig(t=o._injector??t,o,a).pipe((0,Dn.w)(({routes:M})=>{const F=o._loadedInjector??t,{snapshot:V,consumedSegments:X,remainingSegments:Ae}=D,{segmentGroup:Fe,slicedSegments:We}=Sv(e,X,Ae,M);if(0===We.length&&Fe.hasChildren())return this.processChildren(F,M,Fe).pipe((0,ft.U)(zt=>null===zt?null:[new ki(V,zt)]));if(0===M.length&&0===We.length)return(0,ot.of)([new ki(V,[])]);const at=p(o)===h;return this.processSegment(F,M,Fe,We,at?yt:h,!0).pipe((0,ft.U)(zt=>[new ki(V,zt)]))}))))}getChildConfig(t,e,o){return e.children?(0,ot.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,ot.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function OI(n,t,e,o){const a=t.canLoad;if(void 0===a||0===a.length)return(0,ot.of)(!0);const h=a.map(g=>{const E=Gt(g,n);return Ao(function wl(n){return n&&zs(n.canLoad)}(E)?E.canLoad(t,e):n.runInContext(()=>E(t,e)))});return(0,ot.of)(h).pipe(Wu(),Dv())}(t,e,o).pipe((0,tr.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,_n.b)(h=>{e._loadedRoutes=h.routes,e._loadedInjector=h.injector})):function Nm(n){return Yo(is(!1,3))}())):(0,ot.of)({routes:[],injector:t})}}function CT(n){const t=n.value.routeConfig;return t&&""===t.path}function VI(n){const t=[],e=new Set;for(const o of n){if(!CT(o)){t.push(o);continue}const a=t.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==a?(a.children.push(...o.children),e.add(a)):t.push(o)}for(const o of e){const a=VI(o.children);t.push(new ki(o.value,a))}return t.filter(o=>!e.has(o))}function Av(n){return n.data||{}}function Mv(n){return n.resolve||{}}function km(n){return"string"==typeof n.title||null===n.title}function Cp(n){return(0,Dn.w)(t=>{const e=n(t);return e?(0,qt.D)(e).pipe((0,ft.U)(()=>t)):(0,ot.of)(t)})}const Ph=new c.OlP("ROUTES");let Pv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,ot.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const o=Ao(e.loadComponent()).pipe((0,ft.U)(Ep),(0,_n.b)(h=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=h}),Jo(()=>{this.componentLoaders.delete(e)})),a=new wo(o,()=>new Yi.x).pipe(Io());return this.componentLoaders.set(e,a),a}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,ot.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const h=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,ft.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(o);let D,M;return Array.isArray(E)?M=E:(D=E.create(e).injector,M=D.get(Ph,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:M.map(d),injector:D}}),Jo(()=>{this.childrenLoaders.delete(o)})),g=new wo(h,()=>new Yi.x).pipe(Io());return this.childrenLoaders.set(o,g),g}loadModuleFactoryOrRoutes(e){return Ao(e()).pipe((0,ft.U)(Ep),(0,tr.z)(o=>o instanceof c.YKP||Array.isArray(o)?(0,ot.of)(o):(0,qt.D)(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ep(n){return function ET(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let hd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yi.x,this.configLoader=(0,c.f3M)(Pv),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Z),this.rootContexts=(0,c.f3M)(Cl),this.inputBindingEnabled=null!==(0,c.f3M)(fi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ot.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new ap(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Oo(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:o})}setupNavigations(e){return this.transitions=new ar.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ni(o=>0!==o.id),(0,ft.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),(0,Dn.w)(o=>{let a=!1,h=!1;return(0,ot.of)(o).pipe((0,_n.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Dn.w)(g=>{const E=e.browserUrlTree.toString(),D=!e.navigated||g.extractedUrl.toString()!==E||E!==e.currentUrlTree.toString();if(!D&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const F="";return this.events.next(new $s(g.id,e.serializeUrl(o.rawUrl),F,0)),e.rawUrlTree=g.rawUrl,g.resolve(null),Oi.E}if(e.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return jI(g.source)&&(e.browserUrlTree=g.extractedUrl),(0,ot.of)(g).pipe((0,Dn.w)(F=>{const V=this.transitions?.getValue();return this.events.next(new js(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),V!==this.transitions?.getValue()?Oi.E:Promise.resolve(F)}),function BI(n,t,e,o,a,h){return(0,tr.z)(g=>function _T(n,t,e,o,a,h,g="emptyOnly"){return new yT(n,t,e,o,a,g,h).recognize()}(n,t,e,o,g.extractedUrl,a,h).pipe((0,ft.U)(({state:E,tree:D})=>({...g,targetSnapshot:E,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,_n.b)(F=>{if(o.targetSnapshot=F.targetSnapshot,o.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!F.extras.skipLocationChange){const X=e.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);e.setBrowserUrl(X,F)}e.browserUrlTree=F.urlAfterRedirects}const V=new yl(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(V)}));if(D&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:F,extractedUrl:V,source:X,restoredState:Ae,extras:Fe}=g,We=new js(F,this.urlSerializer.serialize(V),X,Ae);this.events.next(We);const at=rr(0,this.rootComponentType).snapshot;return o={...g,targetSnapshot:at,urlAfterRedirects:V,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}},(0,ot.of)(o)}{const F="";return this.events.next(new $s(g.id,e.serializeUrl(o.extractedUrl),F,1)),e.rawUrlTree=g.rawUrl,g.resolve(null),Oi.E}}),(0,_n.b)(g=>{const E=new sp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}),(0,ft.U)(g=>o={...g,guards:ze(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function MI(n,t){return(0,tr.z)(e=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:h,canDeactivateChecks:g}}=e;return 0===g.length&&0===h.length?(0,ot.of)({...e,guardsResult:!0}):function RI(n,t,e,o){return(0,qt.D)(n).pipe((0,tr.z)(a=>function ud(n,t,e,o,a){const h=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,ot.of)(!0);const g=h.map(E=>{const D=b(t)??a,M=Gt(E,D);return Ao(function Hu(n){return n&&zs(n.canDeactivate)}(M)?M.canDeactivate(n,t,e,o):D.runInContext(()=>M(n,t,e,o))).pipe(Kr())});return(0,ot.of)(g).pipe(Wu())}(a.component,a.route,e,t,o)),Kr(a=>!0!==a,!0))}(g,o,a,n).pipe((0,tr.z)(E=>E&&function Sh(n){return"boolean"==typeof n}(E)?function PI(n,t,e,o){return(0,qt.D)(t).pipe(ci(a=>Ko(function wv(n,t){return null!==n&&t&&t(new Tm(n)),(0,ot.of)(!0)}(a.route.parent,o),function Iv(n,t){return null!==n&&t&&t(new lp(n)),(0,ot.of)(!0)}(a.route,o),function Om(n,t,e){const o=t[t.length-1],h=t.slice(0,t.length-1).reverse().map(g=>function Ye(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>ch(()=>{const E=g.guards.map(D=>{const M=b(g.node)??e,F=Gt(D,M);return Ao(function Ah(n){return n&&zs(n.canActivateChild)}(F)?F.canActivateChild(o,n):M.runInContext(()=>F(o,n))).pipe(Kr())});return(0,ot.of)(E).pipe(Wu())}));return(0,ot.of)(h).pipe(Wu())}(n,a.path,e),function pp(n,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ot.of)(!0);const a=o.map(h=>ch(()=>{const g=b(t)??e,E=Gt(h,g);return Ao(function Dl(n){return n&&zs(n.canActivate)}(E)?E.canActivate(t,n):g.runInContext(()=>E(t,n))).pipe(Kr())}));return(0,ot.of)(a).pipe(Wu())}(n,a.route,e))),Kr(a=>!0!==a,!0))}(o,h,n,t):(0,ot.of)(E)),(0,ft.U)(E=>({...e,guardsResult:E})))})}(this.environmentInjector,g=>this.events.next(g)),(0,_n.b)(g=>{if(o.guardsResult=g.guardsResult,gl(g.guardsResult))throw Lu(0,g.guardsResult);const E=new Nu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(E)}),Ni(g=>!!g.guardsResult||(e.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Cp(g=>{if(g.guards.canActivateChecks.length)return(0,ot.of)(g).pipe((0,_n.b)(E=>{const D=new id(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}),(0,Dn.w)(E=>{let D=!1;return(0,ot.of)(E).pipe(function HI(n,t){return(0,tr.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,ot.of)(e);let h=0;return(0,qt.D)(a).pipe(ci(g=>function xm(n,t,e,o){const a=n.routeConfig,h=n._resolve;return void 0!==a?.title&&!km(a)&&(h[Us]=a.title),function Na(n,t,e,o){const a=function Rh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return(0,ot.of)({});const h={};return(0,qt.D)(a).pipe((0,tr.z)(g=>function Rv(n,t,e,o){const a=b(t)??o,h=Gt(n,a);return Ao(h.resolve?h.resolve(t,e):a.runInContext(()=>h(t,e)))}(n[g],t,e,o).pipe(Kr(),(0,_n.b)(E=>{h[g]=E}))),Yr(1),function fl(n){return(0,ft.U)(()=>n)}(h),cr(g=>bl(g)?Oi.E:Yo(g)))}(h,n,t,o).pipe((0,ft.U)(g=>(n._resolvedData=g,n.data=Ch(n,e).resolve,a&&km(a)&&(n.data[Us]=a.title),null)))}(g.route,o,n,t)),(0,_n.b)(()=>h++),Yr(1),(0,tr.z)(g=>h===a.length?(0,ot.of)(e):Oi.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,_n.b)({next:()=>D=!0,complete:()=>{D||(e.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,_n.b)(E=>{const D=new od(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}))}),Cp(g=>{const E=D=>{const M=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,_n.b)(F=>{D.component=F}),(0,ft.U)(()=>{})));for(const F of D.children)M.push(...E(F));return M};return Ls(E(g.targetSnapshot.root)).pipe(bo(),Qo(1))}),Cp(()=>this.afterPreactivation()),(0,ft.U)(g=>{const E=function ku(n,t,e){const o=Fu(n,t._root,e?e._root:void 0);return new El(o,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o={...g,targetRouterState:E}}),(0,_n.b)(g=>{e.currentUrlTree=g.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),e.routerState=g.targetRouterState,"deferred"===e.urlUpdateStrategy&&(g.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,g),e.browserUrlTree=g.urlAfterRedirects)}),((n,t,e,o)=>(0,ft.U)(a=>(new K(t,a.targetRouterState,a.currentRouterState,e,o).activate(n),a)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Qo(1),(0,_n.b)({next:g=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Po(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{a=!0}}),Jo(()=>{a||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),cr(g=>{if(h=!0,to(g)){Vu(g)||(e.navigated=!0,e.restoreHistory(o,!0));const E=new Ou(o.id,this.urlSerializer.serialize(o.extractedUrl),g.message,g.cancellationCode);if(this.events.next(E),Vu(g)){const D=e.urlHandlingStrategy.merge(g.url,e.rawUrlTree),M={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||jI(o.source)};e.scheduleNavigation(D,rd,null,M,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{e.restoreHistory(o,!0);const E=new _l(o.id,this.urlSerializer.serialize(o.extractedUrl),g,o.targetSnapshot??void 0);this.events.next(E);try{o.resolve(e.errorHandler(g))}catch(D){o.reject(D)}}return Oi.E}))}))}cancelNavigationTransition(e,o,a){const h=new Ou(e.id,this.urlSerializer.serialize(e.extractedUrl),o,a);this.events.next(h),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jI(n){return n!==rd}let $I=(()=>{class n{buildTitle(e){let o,a=e.root;for(;void 0!==a;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(h=>h.outlet===yt);return o}getResolvedTitleForRoute(e){return e.data[Us]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ov)},providedIn:"root"}),n})(),Ov=(()=>{class n extends $I{constructor(e){super(),this.title=e}updateTitle(e){const o=this.buildTitle(e);void 0!==o&&this.title.setTitle(o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ba))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(zI)},providedIn:"root"}),n})();class GI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let zI=(()=>{class n extends GI{}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ip=new c.OlP("",{providedIn:"root",factory:()=>({})});let Nv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(wp)},providedIn:"root"}),n})(),wp=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,o){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var no=(()=>((no=no||{})[no.COMPLETE=0]="COMPLETE",no[no.FAILED=1]="FAILED",no[no.REDIRECTING=2]="REDIRECTING",no))();function Dp(n,t){n.events.pipe(Ni(e=>e instanceof Po||e instanceof Ou||e instanceof _l||e instanceof $s),(0,ft.U)(e=>e instanceof Po||e instanceof $s?no.COMPLETE:e instanceof Ou&&(0===e.code||1===e.code)?no.REDIRECTING:no.FAILED),Ni(e=>e!==no.REDIRECTING),Qo(1)).subscribe(()=>{t()})}function ZI(n){throw n}function ir(n,t,e){return t.parse("/")}const qI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Ip,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||ZI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ir,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Nv),this.routeReuseStrategy=(0,c.f3M)(WI),this.titleStrategy=(0,c.f3M)($I),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Ph,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(hd),this.urlSerializer=(0,c.f3M)(Z),this.location=(0,c.f3M)(Ve),this.componentInputBindingEnabled=!!(0,c.f3M)(fi,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rr(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,o,e.state)},0)}))}navigateToSyncWithBrowser(e,o,a){const h={replaceUrl:!0},g=a?.navigationId?a:null;if(a){const D={...a};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(h.state=D)}const E=this.parseUrl(e);this.scheduleNavigation(E,o,g,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(d),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:a,queryParams:h,fragment:g,queryParamsHandling:E,preserveFragment:D}=o,M=D?this.currentUrlTree.fragment:g;let V,F=null;switch(E){case"merge":F={...this.currentUrlTree.queryParams,...h};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=h||null}null!==F&&(F=this.removeEmptyProps(F));try{V=ph(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),V=this.currentUrlTree.root}return rp(V,e,F,M??null)}navigateByUrl(e,o={skipLocationChange:!1}){const a=gl(e)?e:this.parseUrl(e),h=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(h,rd,null,o)}navigate(e,o={skipLocationChange:!1}){return function xv(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new c.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return o}isActive(e,o){let a;if(a=!0===o?{...qI}:!1===o?{...KI}:o,gl(e))return nr(this.currentUrlTree,e,a);const h=this.parseUrl(e);return nr(this.currentUrlTree,h,a)}removeEmptyProps(e){return Object.keys(e).reduce((o,a)=>{const h=e[a];return null!=h&&(o[a]=h),o},{})}scheduleNavigation(e,o,a,h,g){if(this.disposed)return Promise.resolve(!1);let E,D,M;g?(E=g.resolve,D=g.reject,M=g.promise):M=new Promise((V,X)=>{E=V,D=X});const F=this.pendingTasks.add();return Dp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(F))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:h,resolve:E,reject:D,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(V=>Promise.reject(V))}setBrowserUrl(e,o){const a=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl){const g={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(a,"",g)}else{const h={...o.extras.state,...this.generateNgRouterState(o.id,(this.browserPageId??0)+1)};this.location.go(a,"",h)}}restoreHistory(e,o=!1){if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-(this.browserPageId??this.currentPageId);0!==h?this.location.historyGo(h):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zs=(()=>{class n{constructor(e,o,a,h,g,E){this.router=e,this.route=o,this.tabIndexAttribute=a,this.renderer=h,this.el=g,this.locationStrategy=E,this.href=null,this.commands=null,this.onChanges=new Yi.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const D=g.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===D||"area"===D,this.isAnchorElement?this.subscription=e.events.subscribe(M=>{M instanceof Po&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,o,a,h,g){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||o||a||h||g||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,o){const a=this.renderer,h=this.el.nativeElement;null!==o?a.setAttribute(h,e,o):a.removeAttribute(h,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Dr),c.Y36(Fi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Oe))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,o){1&e&&c.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&e&&c.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),n})();class kv{}let IT=(()=>{class n{constructor(e,o,a,h,g){this.router=e,this.injector=a,this.preloadingStrategy=h,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(e=>e instanceof Po),ci(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const a=[];for(const h of o){h.providers&&!h._injector&&(h._injector=(0,c.MMx)(h.providers,e,`Route: ${h.path}`));const g=h._injector??e,E=h._loadedInjector??g;(h.loadChildren&&!h._loadedRoutes&&void 0===h.canLoad||h.loadComponent&&!h._loadedComponent)&&a.push(this.preloadConfig(g,h)),(h.children||h._loadedRoutes)&&a.push(this.processRoutes(E,h.children??h._loadedRoutes))}return(0,qt.D)(a).pipe((0,qi.J)())}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>{let a;a=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(e,o):(0,ot.of)(null);const h=a.pipe((0,tr.z)(g=>null===g?(0,ot.of)(void 0):(o._loadedRoutes=g.routes,o._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(o.loadComponent&&!o._loadedComponent){const g=this.loader.loadComponent(o);return(0,qt.D)([h,g]).pipe((0,qi.J)())}return h})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Dr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(kv),c.LFG(Pv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gu=new c.OlP("");let Kt=(()=>{class n{constructor(e,o,a,h,g={}){this.urlSerializer=e,this.transitions=o,this.viewportScroller=a,this.zone=h,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Po?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $s&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function qs(n,t){return{\u0275kind:n,\u0275providers:t}}function Lm(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const o=n.get(Dr),a=n.get(Tp);1===n.get(Vv)&&o.initialNavigation(),n.get(Um,null,c.XFs.Optional)?.setUpPreloading(),n.get(Gu,null,c.XFs.Optional)?.init(),o.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const Tp=new c.OlP("",{factory:()=>new Yi.x}),Vv=new c.OlP("",{providedIn:"root",factory:()=>1}),Um=new c.OlP("");function Bv(n){return qs(0,[{provide:Um,useExisting:IT},{provide:kv,useExisting:n}])}const Ap=new c.OlP("ROUTER_FORROOT_GUARD"),Mp=[Ve,{provide:Z,useClass:se},Dr,Cl,{provide:Fi,useFactory:function Fm(n){return n.routerState.root},deps:[Dr]},Pv,[]];function zu(){return new c.PXZ("Router",Dr)}let No=(()=>{class n{constructor(e){}static forRoot(e,o){return{ngModule:n,providers:[Mp,[],{provide:Ph,multi:!0,useValue:e},{provide:Ap,useFactory:jv,deps:[[Dr,new c.FiY,new c.tp0]]},{provide:Ip,useValue:o||{}},o?.useHash?{provide:Oe,useClass:Te}:{provide:Oe,useClass:Be},{provide:Gu,useFactory:()=>{const n=(0,c.f3M)(Di),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(Ip),o=(0,c.f3M)(hd),a=(0,c.f3M)(Z);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Kt(a,o,n,t,e)}},o?.preloadingStrategy?Bv(o.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:zu},o?.initialNavigation?pd(o):[],o?.bindToComponentInputs?qs(8,[Dh,{provide:fi,useExisting:Dh}]).\u0275providers:[],[{provide:$v,useFactory:Lm},{provide:c.tb,multi:!0,useExisting:$v}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ph,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ap,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function jv(n){return"guarded"}function pd(n){return["disabled"===n.initialNavigation?qs(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Dr);return()=>{t.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qs(2,[{provide:Vv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(Se,Promise.resolve());return()=>e.then(()=>new Promise(o=>{const a=t.get(Dr),h=t.get(Tp);Dp(a,()=>{o(!0)}),t.get(hd).afterPreactivation=()=>(o(!0),h.closed?(0,ot.of)(void 0):h),a.initialNavigation()}))}}]).\u0275providers:[]]}const $v=new c.OlP("");let AT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[["id","home"],["src","../../assets/image/shutterstock_1539504803.jpg","alt","home"]],template:function(e,o){1&e&&(c.TgZ(0,"section",0),c._UZ(1,"img",1),c.TgZ(2,"h2"),c._uU(3,"Baby strollers for rent"),c.qZA(),c.TgZ(4,"h3"),c._uU(5,"You need of baby stroller, you are in the right place!"),c.qZA()())},styles:["#home[_ngcontent-%COMP%]{background-color:#f5dbdf}#home[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:48%;width:48%;background-color:transparent}#home[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], #home[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-style:italic;font-size:27px;color:#f00e34;text-align:center}"]}),n})();var MT=P(6321),Hm=P(3019),zv=P(3020),RT=P(3997),PT=P(2420),pi=P(8186),ro=P(6304),jm=(P(5967),P(3106)),xa=P(4537),xo=P(5861),ko=P(534),k=P(9058),Oh=P(7879);const Op="@firebase/database";let Zv="";function Np(n){Zv=n}class $m{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,k.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,k.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class qv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,k.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Kv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $m(t)}}catch{}return new qv},Zu=Kv("localStorage"),xp=Kv("sessionStorage"),qu=new Oh.Yd("@firebase/database"),Yv=function(){let n=1;return function(){return n++}}(),Qv=function(n){const t=(0,k.dS)(n),e=new k.gQ;e.update(t);const o=e.digest();return k.US.encodeByteArray(o)},kp=function(...n){let t="";for(let e=0;e<n.length;e++){const o=n[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=kp.apply(null,o):t+="object"==typeof o?(0,k.Wl)(o):o,t+=" "}return t};let Ku=null,Fp=!0;const Lp=function(n,t){(0,k.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(qu.logLevel=Oh.in.VERBOSE,Ku=qu.log.bind(qu),t&&xp.set("logging_enabled",!0)):"function"==typeof n?Ku=n:(Ku=null,xp.remove("logging_enabled"))},br=function(...n){if(!0===Fp&&(Fp=!1,null===Ku&&!0===xp.get("logging_enabled")&&Lp(!0)),Ku){const t=kp.apply(null,n);Ku(t)}},gd=function(n){return function(...t){br(n,...t)}},xh=function(...n){const t="FIREBASE INTERNAL ERROR: "+kp(...n);qu.error(t)},io=function(...n){const t=`FIREBASE FATAL ERROR: ${kp(...n)}`;throw qu.error(t),new Error(t)},Qr=function(...n){const t="FIREBASE WARNING: "+kp(...n);qu.warn(t)},Vp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Yu="[MIN_NAME]",ka="[MAX_NAME]",Ks=function(n,t){if(n===t)return 0;if(n===Yu||t===ka)return-1;if(t===Yu||n===ka)return 1;{const e=Gm(n),o=Gm(t);return null!==e?null!==o?e-o==0?n.length-t.length:e-o:-1:null!==o?1:n<t?-1:1}},aw=function(n,t){return n===t?0:n<t?-1:1},Ys=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(t))},Qu=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const t=[];for(const o in n)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,k.Wl)(t[o]),e+=":",e+=Qu(n[t[o]]);return e+="}",e},eC=function(n,t){const e=n.length;if(e<=t)return[n];const o=[];for(let a=0;a<e;a+=t)o.push(n.substring(a,a+t>e?e:a+t));return o};function hr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const tC=function(n){(0,k.hu)(!Vp(n),"Invalid JSON number");const o=1023;let a,h,g,E,D;0===n?(h=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(n)/Math.LN2),o),h=E+o,g=Math.round(n*Math.pow(2,52-E)-Math.pow(2,52))):(h=0,g=Math.round(n/Math.pow(2,-1074))));const M=[];for(D=52;D;D-=1)M.push(g%2?1:0),g=Math.floor(g/2);for(D=11;D;D-=1)M.push(h%2?1:0),h=Math.floor(h/2);M.push(a?1:0),M.reverse();const F=M.join("");let V="";for(D=0;D<64;D+=8){let X=parseInt(F.substr(D,8),2).toString(16);1===X.length&&(X="0"+X),V+=X}return V.toLowerCase()},rC=new RegExp("^-?(0*)\\d{1,10}$"),Gm=function(n){if(rC.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Fh=function(n){try{n()}catch(t){setTimeout(()=>{throw Qr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Qs=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Up{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Qr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iC{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qr(t)}}let md=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const uC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qm="websocket",cw="long_polling";class Km{constructor(t,e,o,a,h=!1,g="",E=!1,D=!1){this.secure=e,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=h,this.persistenceKey=g,this.includeNamespaceInQueryParams=E,this.isUsingEmulator=D,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dw(n,t,e){let o;if((0,k.hu)("string"==typeof t,"typeof type must == string"),(0,k.hu)("object"==typeof e,"typeof params must == object"),t===qm)o=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==cw)throw new Error("Unknown connection type: "+t);o=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function OT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return hr(e,(h,g)=>{a.push(h+"="+g)}),o+a.join("&")}class cC{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,k.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,k.p$)(this.counters_)}}const Hp={},dC={};function jp(n){const t=n.toString();return Hp[t]||(Hp[t]=new cC),Hp[t]}class hC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Fh(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fa{constructor(t,e,o,a,h,g,E){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=a,this.authToken=h,this.transportSessionId=g,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gd(t),this.stats_=jp(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),dw(e,cw,D))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new hC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Js((...h)=>{const[g,E,D,M,F]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=E,this.password=D;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[g,E]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(g,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&uC.test(location.hostname)&&(o.r="f");const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fa.forceAllow_=!0}static forceDisallow(){Fa.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!Fa.forceAllow_&&(Fa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,k.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,k.h$)(e),a=eC(o,1840);for(let h=0;h<a.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[h]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,k.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Js{constructor(t,e,o,a){if(this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Yv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Js.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(E){br("frame writing exception"),E.stack&&br(E.stack),br(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||br("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),o()})}addTag(t,e){(0,k.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||"loaded"===a||"complete"===a)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{br("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let Wp=null;typeof MozWebSocket<"u"?Wp=MozWebSocket:typeof WebSocket<"u"&&(Wp=WebSocket);let La=(()=>{class n{constructor(e,o,a,h,g,E,D){this.connId=e,this.applicationId=a,this.appCheckToken=h,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gd(this.connId),this.stats_=jp(o),this.connURL=n.connectionURL_(o,E,D,h,a),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,a,h,g){const E={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&uC.test(location.hostname)&&(E.r="f"),o&&(E.s=o),a&&(E.ls=a),h&&(E.ac=h),g&&(E.p=g),dw(e,qm,E)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zu.set("previous_websocket_failure",!0);try{let a;if((0,k.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Zv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,E=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;E&&(a.proxy={origin:E})}this.mySock=new Wp(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const h=a.message||a.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const h=a.message||a.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Wp&&!n.forceDisallow_}static previouslyFailed(){return Zu.isInMemoryStorage||!0===Zu.get("previous_websocket_failure")}markConnectionHealthy(){Zu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const a=(0,k.cI)(o);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const a=this.extractFrameCount_(o);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const o=(0,k.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const a=eC(o,16384);a.length>1&&this.sendString_(String(a.length));for(let h=0;h<a.length;h++)this.sendString_(a[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Xu=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fa,La]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=La&&La.isAvailable();let a=o&&!La.previouslyFailed();if(e.webSocketOnly&&(o||Qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[La];else{const h=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&h.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class TC{constructor(t,e,o,a,h,g,E,D,M,F){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=h,this.onMessage_=g,this.onReady_=E,this.onDisconnect_=D,this.onKill_=M,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gd("c:"+this.id+":"),this.transportManager_=new Xu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Qs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ys("t",t),o=Ys("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ys("t",t),o=Ys("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ys("t",t);if("d"in t){const o=t.d;if("h"===e){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?xh("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xh("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&Qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Qs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SC{put(t,e,o,a){}merge(t,e,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class n_{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,k.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const a=this.getInitialEvent(t);a&&e.apply(o,a)}off(t,e,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let h=0;h<a.length;h++)if(a[h].callback===e&&(!o||o===a[h].context))return void a.splice(h,1)}validateEventType_(t){(0,k.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Uh extends n_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Uh}getInitialEvent(t){return(0,k.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class At{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Yt(){return new At("")}function Nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ec(n){return n.pieces_.length-n.pieceNum_}function on(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new At(n.pieces_,t)}function Zp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Bh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function RC(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new At(t,0)}function Tn(n,t){const e=[];for(let o=n.pieceNum_;o<n.pieces_.length;o++)e.push(n.pieces_[o]);if(t instanceof At)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&e.push(o[a])}return new At(e,0)}function xt(n){return n.pieceNum_>=n.pieces_.length}function gi(n,t){const e=Nt(n),o=Nt(t);if(null===e)return t;if(e===o)return gi(on(n),on(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function r_(n,t){const e=Bh(n,0),o=Bh(t,0);for(let a=0;a<e.length&&a<o.length;a++){const h=Ks(e[a],o[a]);if(0!==h)return h}return e.length===o.length?0:e.length<o.length?-1:1}function i_(n,t){if(ec(n)!==ec(t))return!1;for(let e=n.pieceNum_,o=t.pieceNum_;e<=n.pieces_.length;e++,o++)if(n.pieces_[e]!==t.pieces_[o])return!1;return!0}function Fo(n,t){let e=n.pieceNum_,o=t.pieceNum_;if(ec(n)>ec(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class Cw{constructor(t,e){this.errorPrefix_=e,this.parts_=Bh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,k.ug)(this.parts_[o]);as(this)}}function as(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Va(n))}function Va(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class o_ extends n_{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new o_}getInitialEvent(t){return(0,k.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const yd=1e3;let jh,Tl=(()=>{class n extends SC{constructor(e,o,a,h,g,E,D,M){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=a,this.onConnectStatus_=h,this.onServerInfoUpdate_=g,this.authTokenProvider_=E,this.appCheckTokenProvider_=D,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=gd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");o_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Uh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,a){const h=++this.requestNumber_,g={r:h,a:e,b:o};this.log_((0,k.Wl)(g)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[h]=a)}get(e){this.initConnection_();const o=new k.BH,h={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:E=>{const D=E.d;"ok"===E.s?o.resolve(D):o.reject(D)}};return this.outstandingGets_.push(h),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,a,h){this.initConnection_();const g=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+g),this.listens.has(E)||this.listens.set(E,new Map),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(E).has(g),"listen() called twice for same path/queryId.");const D={onComplete:h,hashFn:o,query:e,tag:a};this.listens.get(E).set(g,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(a)})}sendListen_(e){const o=e.query,a=o._path.toString(),h=o._queryIdentifier;this.log_("Listen on "+a+" for "+h);const g={p:a};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,D=>{const M=D.d,F=D.s;n.warnOnListenWarnings_(M,o),(this.listens.get(a)&&this.listens.get(a).get(h))===e&&(this.log_("listen response",D),"ok"!==F&&this.removeListen_(a,h),e.onComplete&&e.onComplete(F,M))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,k.r3)(e,"w")){const a=(0,k.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const h='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();Qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,k.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,k.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(o,a,h=>{const g=h.s,E=h.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,a=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,a)})}unlisten(e,o){const a=e._path.toString(),h=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+h),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,h)&&this.connected_&&this.sendUnlisten_(a,h,e._queryObject,o)}sendUnlisten_(e,o,a,h){this.log_("Unlisten on "+e+" for "+o);const g={p:e};h&&(g.q=a,g.t=h),this.sendRequest("n",g)}onDisconnectPut(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:a})}onDisconnectMerge(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:a})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,a,h){const g={p:o,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,E=>{h&&setTimeout(()=>{h(E.s,E.d)},Math.floor(0))})}put(e,o,a,h){this.putInternal("p",e,o,a,h)}merge(e,o,a,h){this.putInternal("m",e,o,a,h)}putInternal(e,o,a,h,g){this.initConnection_();const E={p:o,d:a};void 0!==g&&(E.h=g),this.outstandingPuts_.push({action:e,request:E,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,a,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,k.Wl)(e));const o=e.r,a=this.requestCBHash_[o];a&&(delete this.requestCBHash_[o],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):xh("Unrecognized action received from server: "+(0,k.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),h=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,E=e.lastSessionId;let D=!1,M=null;const F=function(){M?M.close():(D=!0,h())};e.realtime_={close:F,sendRequest:function(Ae){(0,k.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(Ae)}};const X=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ae,Fe]=yield Promise.all([e.authTokenProvider_.getToken(X),e.appCheckTokenProvider_.getToken(X)]);D?br("getToken() completed but was canceled"):(br("getToken() completed. Creating connection."),e.authToken_=Ae&&Ae.accessToken,e.appCheckToken_=Fe&&Fe.token,M=new TC(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,a,h,We=>{Qr(We+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(Ae){e.log_("Failed to get token: "+Ae),D||(e.repoInfo_.nodeAdmin&&Qr(Ae),F())}}})()}interrupt(e){br("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){br("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let a;a=o?o.map(g=>Qu(g)).join("$"):"default";const h=this.removeListen_(e,a);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(e,o){const a=new At(e).toString();let h;if(this.listens.has(a)){const g=this.listens.get(a);h=g.get(o),g.delete(o),0===g.size&&this.listens.delete(a)}else h=void 0;return h}onAuthRevoked_(e,o){br("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){br("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,k.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Zv.replace(/\./g,"-")]=1,(0,k.uI)()?e["framework.cordova"]=1:(0,k.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Uh.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class Hh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new kt(Yu,t),a=new kt(Yu,e);return 0!==this.compare(o,a)}minPost(){return kt.MIN}}class Kp extends Hh{static get __EMPTY_NODE(){return jh}static set __EMPTY_NODE(t){jh=t}compare(t,e){return Ks(t.name,e.name)}isDefinedOn(t){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(ka,jh)}makePost(t,e){return(0,k.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,jh)}toString(){return".key"}}const Tr=new Kp;class Yp{constructor(t,e,o,a,h=null){this.isReverse_=a,this.resultGenerator_=h,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?o(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let OC,ls=(()=>{class n{constructor(e,o,a,h,g){this.key=e,this.value=o,this.color=a??n.RED,this.left=h??Li.EMPTY_NODE,this.right=g??Li.EMPTY_NODE}copy(e,o,a,h,g){return new n(e??this.key,o??this.value,a??this.color,h??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,a){let h=this;const g=a(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,o,a),null):0===g?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(e,o,a)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return Li.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let a,h;if(a=this,o(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,o),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===o(e,a.key)){if(a.right.isEmpty())return Li.EMPTY_NODE;h=a.right.min_(),a=a.copy(h.key,h.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,o))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Li{constructor(t,e=Li.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Li(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(t){return new Li(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,a=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(a=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Yp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Yp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Yp(this.root_,null,this.comparator_,!0,t)}}function bw(n,t){return Ks(n.name,t.name)}function u_(n,t){return Ks(n,t)}Li.EMPTY_NODE=new class l_{copy(t,e,o,a,h){return this}insert(t,e,o){return new ls(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xC=function(n){return"number"==typeof n?"number:"+tC(n):"string:"+n},$h=function(n){if(n.isLeafNode()){const t=n.val();(0,k.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,k.r3)(t,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===OC||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===OC||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let vd,Tw,kC,Ua=(()=>{class n{constructor(e,o=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$h(this.priorityNode_)}static set __childrenNodeConstructor(e){vd=e}static get __childrenNodeConstructor(){return vd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xt(e)?this:".priority"===Nt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const a=Nt(e);return null===a?o:o.isEmpty()&&".priority"!==a?this:((0,k.hu)(".priority"!==a||1===ec(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xC(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?tC(this.value_):this.value_,this.lazyHash_=Qv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,a=typeof this.value_,h=n.VALUE_TYPE_ORDER.indexOf(o),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,k.hu)(h>=0,"Unknown leaf type: "+o),(0,k.hu)(g>=0,"Unknown leaf type: "+a),h===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-h}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const yn=new class Sw extends Hh{compare(t,e){const o=t.node.getPriority(),a=e.node.getPriority(),h=o.compareTo(a);return 0===h?Ks(t.name,e.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(ka,new Ua("[PRIORITY-POST]",kC))}makePost(t,e){const o=Tw(t);return new kt(e,new Ua("[PRIORITY-POST]",o))}toString(){return".priority"}},VC=Math.log(2);class UC{constructor(t){this.count=parseInt(Math.log(t+1)/VC,10),this.current_=this.count-1;const a=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Sl=function(n,t,e,o){n.sort(t);const a=function(D,M){const F=M-D;let V,X;if(0===F)return null;if(1===F)return V=n[D],X=e?e(V):V,new ls(X,V.node,ls.BLACK,null,null);{const Ae=parseInt(F/2,10)+D,Fe=a(D,Ae),We=a(Ae+1,M);return V=n[Ae],X=e?e(V):V,new ls(X,V.node,ls.BLACK,Fe,We)}},E=function(D){let M=null,F=null,V=n.length;const X=function(Fe,We){const at=V-Fe,zt=V;V-=Fe;const fn=a(at+1,zt),Qt=n[at],en=e?e(Qt):Qt;Ae(new ls(en,Qt.node,We,null,fn))},Ae=function(Fe){M?(M.left=Fe,M=Fe):(F=Fe,M=Fe)};for(let Fe=0;Fe<D.count;++Fe){const We=D.nextBitIsOne(),at=Math.pow(2,D.count-(Fe+1));We?X(at,ls.BLACK):(X(at,ls.BLACK),X(at,ls.RED))}return F}(new UC(n.length));return new Li(o||t,E)};let c_;const tc={};class Xs{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,k.hu)(tc&&yn,"ChildrenNode.ts has not been loaded"),c_=c_||new Xs({".priority":tc},{".priority":yn}),c_}get(t){const e=(0,k.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Li?e:null}hasIndex(t){return(0,k.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,k.hu)(t!==Tr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const h=e.getIterator(kt.Wrap);let E,g=h.getNext();for(;g;)a=a||t.isDefinedOn(g.node),o.push(g),g=h.getNext();E=a?Sl(o,t.getCompare()):tc;const D=t.toString(),M=Object.assign({},this.indexSet_);M[D]=t;const F=Object.assign({},this.indexes_);return F[D]=E,new Xs(F,M)}addToIndexes(t,e){const o=(0,k.UI)(this.indexes_,(a,h)=>{const g=(0,k.DV)(this.indexSet_,h);if((0,k.hu)(g,"Missing index implementation for "+h),a===tc){if(g.isDefinedOn(t.node)){const E=[],D=e.getIterator(kt.Wrap);let M=D.getNext();for(;M;)M.name!==t.name&&E.push(M),M=D.getNext();return E.push(t),Sl(E,g.getCompare())}return tc}{const E=e.get(t.name);let D=a;return E&&(D=D.remove(new kt(t.name,E))),D.insert(t,t.node)}});return new Xs(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,k.UI)(this.indexes_,a=>{if(a===tc)return a;{const h=e.get(t.name);return h?a.remove(new kt(t.name,h)):a}});return new Xs(o,this.indexSet_)}}let Wh,Tt=(()=>{class n{constructor(e,o,a){this.children_=e,this.priorityNode_=o,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&$h(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wh||(Wh=new n(new Li(u_),null,Xs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?Wh:o}}getChild(e){const o=Nt(e);return null===o?this:this.getImmediateChild(o).getChild(on(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,k.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const a=new kt(e,o);let h,g;o.isEmpty()?(h=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(h=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(a,this.children_));const E=h.isEmpty()?Wh:this.priorityNode_;return new n(h,E,g)}}updateChild(e,o){const a=Nt(e);if(null===a)return o;{(0,k.hu)(".priority"!==Nt(e)||1===ec(e),".priority must be the last token in a path");const h=this.getImmediateChild(a).updateChild(on(e),o);return this.updateImmediateChild(a,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let a=0,h=0,g=!0;if(this.forEachChild(yn,(E,D)=>{o[E]=D.val(e),a++,g&&n.INTEGER_REGEXP_.test(E)?h=Math.max(h,Number(E)):g=!1}),!e&&g&&h<2*a){const E=[];for(const D in o)E[D]=o[D];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+xC(this.getPriority().val())+":"),this.forEachChild(yn,(o,a)=>{const h=a.hash();""!==h&&(e+=":"+o+":"+h)}),this.lazyHash_=""===e?"":Qv(e)}return this.lazyHash_}getPredecessorChildName(e,o,a){const h=this.resolveIndex_(a);if(h){const g=h.getPredecessorKey(new kt(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new kt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new kt(o,this.children_.get(o)):null}forEachChild(e,o){const a=this.resolveIndex_(e);return a?a.inorderTraversal(h=>o(h.name,h.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getIteratorFrom(e,h=>h);{const h=this.children_.getIteratorFrom(e.name,kt.Wrap);let g=h.peek();for(;null!=g&&o.compare(g,e)<0;)h.getNext(),g=h.peek();return h}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getReverseIteratorFrom(e,h=>h);{const h=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let g=h.peek();for(;null!=g&&o.compare(g,e)>0;)h.getNext(),g=h.peek();return h}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zh?-1:0}withIndex(e){if(e===Tr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Tr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const a=this.getIterator(yn),h=o.getIterator(yn);let g=a.getNext(),E=h.getNext();for(;g&&E;){if(g.name!==E.name||!g.node.equals(E.node))return!1;g=a.getNext(),E=h.getNext()}return null===g&&null===E}return!1}return!1}}resolveIndex_(e){return e===Tr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zh=new class Gh extends Tt{constructor(){super(new Li(u_),Tt.EMPTY_NODE,Xs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(kt,{MIN:{value:new kt(Yu,Tt.EMPTY_NODE)},MAX:{value:new kt(ka,zh)}}),Kp.__EMPTY_NODE=Tt.EMPTY_NODE,Ua.__childrenNodeConstructor=Tt,function NC(n){OC=n}(zh),function LC(n){kC=n}(zh);const xT=!0;function Nn(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,k.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ua(n,Nn(t));if(n instanceof Array||!xT){let e=Tt.EMPTY_NODE;return hr(n,(o,a)=>{if((0,k.r3)(n,o)&&"."!==o.substring(0,1)){const h=Nn(a);(h.isLeafNode()||!h.isEmpty())&&(e=e.updateImmediateChild(o,h))}}),e.updatePriority(Nn(t))}{const e=[];let o=!1;if(hr(n,(g,E)=>{if("."!==g.substring(0,1)){const D=Nn(E);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),e.push(new kt(g,D)))}}),0===e.length)return Tt.EMPTY_NODE;const h=Sl(e,bw,g=>g.name,u_);if(o){const g=Sl(e,yn.getCompare());return new Tt(h,Nn(t),new Xs({".priority":g},{".priority":yn}))}return new Tt(h,Nn(t),Xs.Default)}}!function FC(n){Tw=n}(Nn);class d_ extends Hh{constructor(t){super(),this.indexPath_=t,(0,k.hu)(!xt(t)&&".priority"!==Nt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),a=this.extractChild(e.node),h=o.compareTo(a);return 0===h?Ks(t.name,e.name):h}makePost(t,e){const o=Nn(t),a=Tt.EMPTY_NODE.updateChild(this.indexPath_,o);return new kt(e,a)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,zh);return new kt(ka,t)}toString(){return Bh(this.indexPath_,0).join("/")}}const h_=new class Aw extends Hh{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Ks(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const o=Nn(t);return new kt(e,o)}toString(){return".value"}};function BC(n){return{type:"value",snapshotNode:n}}function Cd(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Zh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ed(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class p_{constructor(t){this.index_=t}updateChild(t,e,o,a,h,g){(0,k.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(a).equals(o.getChild(a))&&E.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?t.hasChild(e)?g.trackChildChange(Zh(e,E)):(0,k.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?g.trackChildChange(Cd(e,o)):g.trackChildChange(Ed(e,o,E))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(yn,(a,h)=>{e.hasChild(a)||o.trackChildChange(Zh(a,h))}),e.isLeafNode()||e.forEachChild(yn,(a,h)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(h)||o.trackChildChange(Ed(a,h,g))}else o.trackChildChange(Cd(a,h))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Al{constructor(t){this.indexedFilter_=new p_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Al.getStartPost_(t),this.endPost_=Al.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&o}updateChild(t,e,o,a,h,g){return this.matches(new kt(e,o))||(o=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,a,h,g)}updateFullNode(t,e,o){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Tt.EMPTY_NODE);const h=this;return e.forEachChild(yn,(g,E)=>{h.matches(new kt(g,E))||(a=a.updateImmediateChild(g,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Mw{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=e=>{const o=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Al(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,o,a,h,g){return this.rangedFilter_.matches(new kt(e,o))||(o=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,a,h,g):this.fullLimitUpdateChild_(t,e,o,h,g)}updateFullNode(t,e,o){let a;if(e.isLeafNode()||e.isEmpty())a=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let h;a=Tt.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;h.hasNext()&&g<this.limit_;){const E=h.getNext();if(this.withinDirectionalStart(E)){if(!this.withinDirectionalEnd(E))break;a=a.updateImmediateChild(E.name,E.node),g++}}}else{let h;a=e.withIndex(this.index_),a=a.updatePriority(Tt.EMPTY_NODE),h=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let g=0;for(;h.hasNext();){const E=h.getNext();g<this.limit_&&this.withinDirectionalStart(E)&&this.withinDirectionalEnd(E)?g++:a=a.updateImmediateChild(E.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,a,h){let g;if(this.reverse_){const V=this.index_.getCompare();g=(X,Ae)=>V(Ae,X)}else g=this.index_.getCompare();const E=t;(0,k.hu)(E.numChildren()===this.limit_,"");const D=new kt(e,o),M=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),F=this.rangedFilter_.matches(D);if(E.hasChild(e)){const V=E.getImmediateChild(e);let X=a.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=X&&(X.name===e||E.hasChild(X.name));)X=a.getChildAfterChild(this.index_,X,this.reverse_);const Ae=null==X?1:g(X,D);if(F&&!o.isEmpty()&&Ae>=0)return h?.trackChildChange(Ed(e,o,V)),E.updateImmediateChild(e,o);{h?.trackChildChange(Zh(e,V));const We=E.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=X&&this.rangedFilter_.matches(X)?(h?.trackChildChange(Cd(X.name,X.node)),We.updateImmediateChild(X.name,X.node)):We}}return o.isEmpty()?t:F&&g(M,D)>=0?(null!=h&&(h.trackChildChange(Zh(M.name,M.node)),h.trackChildChange(Cd(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(M.name,Tt.EMPTY_NODE)):t}}class Qp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ka}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yn}copy(){const t=new Qp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function g_(n,t,e){const o=n.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function Jp(n,t,e){const o=n.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Xp(n,t){const e=n.copy();return e.index_=t,e}function xw(n){const t={};if(n.isDefault())return t;let e;if(n.index_===yn?e="$priority":n.index_===h_?e="$value":n.index_===Tr?e="$key":((0,k.hu)(n.index_ instanceof d_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,k.Wl)(e),n.startSet_){const o=n.startAfterSet_?"startAfter":"startAt";t[o]=(0,k.Wl)(n.indexStartValue_),n.startNameSet_&&(t[o]+=","+(0,k.Wl)(n.indexStartName_))}if(n.endSet_){const o=n.endBeforeSet_?"endBefore":"endAt";t[o]=(0,k.Wl)(n.indexEndValue_),n.endNameSet_&&(t[o]+=","+(0,k.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function m_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==yn&&(t.i=n.index_.toString()),t}class qh extends SC{constructor(t,e,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=gd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,k.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,a){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const g=qh.getListenId_(t,o),E={};this.listens_[g]=E;const D=xw(t._queryParams);this.restRequest_(h+".json",D,(M,F)=>{let V=F;if(404===M&&(V=null,M=null),null===M&&this.onDataUpdate_(h,V,!1,o),(0,k.DV)(this.listens_,g)===E){let X;X=M?401===M?"permission_denied":"rest_error:"+M:"ok",a(X,null)}})}unlisten(t,e){const o=qh.getListenId_(t,e);delete this.listens_[o]}get(t){const e=xw(t._queryParams),o=t._path.toString(),a=new k.BH;return this.restRequest_(o+".json",e,(h,g)=>{let E=g;404===h&&(E=null,h=null),null===h?(this.onDataUpdate_(o,E,!1,null),a.resolve(E)):a.reject(new Error(E))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,h])=>{a&&a.accessToken&&(e.auth=a.accessToken),h&&h.token&&(e.ac=h.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+g);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+g+" received. status:",E.status,"response:",E.responseText);let D=null;if(E.status>=200&&E.status<300){try{D=(0,k.cI)(E.responseText)}catch{Qr("Failed to parse JSON response for "+g+": "+E.responseText)}o(null,D)}else 401!==E.status&&404!==E.status&&Qr("Got unsuccessful REST response for "+g+" Status: "+E.status),o(E.status);o=null}},E.open("GET",g,!0),E.send()})}}class kT{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function nc(){return{value:null,children:new Map}}function Id(n,t,e){if(xt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const o=Nt(t);n.children.has(o)||n.children.set(o,nc()),Id(n.children.get(o),t=on(t),e)}}function __(n,t){if(xt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(yn,(o,a)=>{Id(n,new At(o),a)}),__(n,t)}}if(n.children.size>0){const e=Nt(t);return t=on(t),n.children.has(e)&&__(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Kh(n,t,e){null!==n.value?e(t,n.value):function kw(n,t){n.children.forEach((e,o)=>{t(o,e)})}(n,(o,a)=>{Kh(a,new At(t.toString()+"/"+o),e)})}class ea{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&hr(this.last_,(o,a)=>{e[o]=e[o]-a}),this.last_=t,e}}class eg{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ea(t);const o=1e4+2e4*Math.random();Qs(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;hr(t,(a,h)=>{h>0&&(0,k.r3)(this.statsToReport_,a)&&(e[a]=h,o=!0)}),o&&this.server_.reportStats(e),Qs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xt=(()=>((Xt=Xt||{})[Xt.OVERWRITE=0]="OVERWRITE",Xt[Xt.MERGE=1]="MERGE",Xt[Xt.ACK_USER_WRITE=2]="ACK_USER_WRITE",Xt[Xt.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Xt))();function Rl(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ba{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Xt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(xt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new At(t));return new Ba(Yt(),e,this.revert)}}return(0,k.hu)(Nt(this.path)===t,"operationForChild called for unrelated child."),new Ba(on(this.path),this.affectedTree,this.revert)}}class ta{constructor(t,e){this.source=t,this.path=e,this.type=Xt.LISTEN_COMPLETE}operationForChild(t){return xt(this.path)?new ta(this.source,Yt()):new ta(this.source,on(this.path))}}class Lo{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Xt.OVERWRITE}operationForChild(t){return xt(this.path)?new Lo(this.source,Yt(),this.snap.getImmediateChild(t)):new Lo(this.source,on(this.path),this.snap)}}class us{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Xt.MERGE}operationForChild(t){if(xt(this.path)){const e=this.children.subtree(new At(t));return e.isEmpty()?null:e.value?new Lo(this.source,Yt(),e.value):new us(this.source,Yt(),e)}return(0,k.hu)(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new us(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oo{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Dd{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Td(n,t,e,o,a,h){const g=o.filter(E=>E.type===e);g.sort((E,D)=>function $C(n,t,e){if(null==t.childName||null==e.childName)throw(0,k.g5)("Should only compare child_ events.");const o=new kt(t.childName,t.snapshotNode),a=new kt(e.childName,e.snapshotNode);return n.index_.compare(o,a)}(n,E,D)),g.forEach(E=>{const D=function jC(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,E,h);a.forEach(M=>{M.respondsTo(E.type)&&t.push(M.createEvent(D,n.query_))})})}function Qh(n,t){return{eventCache:n,serverCache:t}}function Sd(n,t,e,o){return Qh(new oo(t,e,o),n.serverCache)}function y_(n,t,e,o){return Qh(n.eventCache,new oo(t,e,o))}function Jh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Pl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let tg;class vn{constructor(t,e=(()=>(tg||(tg=new Li(aw)),tg))()){this.value=t,this.children=e}static fromObject(t){let e=new vn(null);return hr(t,(o,a)=>{e=e.set(new At(o),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Yt(),value:this.value};if(xt(t))return null;{const o=Nt(t),a=this.children.get(o);if(null!==a){const h=a.findRootMostMatchingPathAndValue(on(t),e);return null!=h?{path:Tn(new At(o),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xt(t))return this;{const e=Nt(t),o=this.children.get(e);return null!==o?o.subtree(on(t)):new vn(null)}}set(t,e){if(xt(t))return new vn(e,this.children);{const o=Nt(t),h=(this.children.get(o)||new vn(null)).set(on(t),e),g=this.children.insert(o,h);return new vn(this.value,g)}}remove(t){if(xt(t))return this.children.isEmpty()?new vn(null):new vn(null,this.children);{const e=Nt(t),o=this.children.get(e);if(o){const a=o.remove(on(t));let h;return h=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&h.isEmpty()?new vn(null):new vn(this.value,h)}return this}}get(t){if(xt(t))return this.value;{const e=Nt(t),o=this.children.get(e);return o?o.get(on(t)):null}}setTree(t,e){if(xt(t))return e;{const o=Nt(t),h=(this.children.get(o)||new vn(null)).setTree(on(t),e);let g;return g=h.isEmpty()?this.children.remove(o):this.children.insert(o,h),new vn(this.value,g)}}fold(t){return this.fold_(Yt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((a,h)=>{o[a]=h.fold_(Tn(t,a),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Yt(),e)}findOnPath_(t,e,o){const a=!!this.value&&o(e,this.value);if(a)return a;if(xt(t))return null;{const h=Nt(t),g=this.children.get(h);return g?g.findOnPath_(on(t),Tn(e,h),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Yt(),e)}foreachOnPath_(t,e,o){if(xt(t))return this;{this.value&&o(e,this.value);const a=Nt(t),h=this.children.get(a);return h?h.foreachOnPath_(on(t),Tn(e,a),o):new vn(null)}}foreach(t){this.foreach_(Yt(),t)}foreach_(t,e){this.children.inorderTraversal((o,a)=>{a.foreach_(Tn(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class na{constructor(t){this.writeTree_=t}static empty(){return new na(new vn(null))}}function ng(n,t,e){if(xt(t))return new na(new vn(e));{const o=n.writeTree_.findRootMostValueAndPath(t);if(null!=o){const a=o.path;let h=o.value;const g=gi(a,t);return h=h.updateChild(g,e),new na(n.writeTree_.set(a,h))}{const a=new vn(e),h=n.writeTree_.setTree(t,a);return new na(h)}}}function C_(n,t,e){let o=n;return hr(e,(a,h)=>{o=ng(o,Tn(t,a),h)}),o}function WC(n,t){if(xt(t))return na.empty();{const e=n.writeTree_.setTree(t,new vn(null));return new na(e)}}function GC(n,t){return null!=ic(n,t)}function ic(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(gi(e.path,t)):null}function Fw(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(yn,(o,a)=>{t.push(new kt(o,a))}):n.writeTree_.children.inorderTraversal((o,a)=>{null!=a.value&&t.push(new kt(o,a.value))}),t}function Ol(n,t){if(xt(t))return n;{const e=ic(n,t);return new na(null!=e?new vn(e):n.writeTree_.subtree(t))}}function E_(n){return n.writeTree_.isEmpty()}function Ad(n,t){return rg(Yt(),n.writeTree_,t)}function rg(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let o=null;return t.children.inorderTraversal((a,h)=>{".priority"===a?((0,k.hu)(null!==h.value,"Priority writes must always be leaf nodes"),o=h.value):e=rg(Tn(n,a),h,e)}),!e.getChild(n).isEmpty()&&null!==o&&(e=e.updateChild(Tn(n,".priority"),o)),e}}function Nl(n,t){return T_(t,n)}function ZC(n,t){if(n.snap)return Fo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Fo(Tn(n.path,e),t))return!0;return!1}function ef(n){return n.visible}function qC(n,t,e){let o=na.empty();for(let a=0;a<n.length;++a){const h=n[a];if(t(h)){const g=h.path;let E;if(h.snap)Fo(e,g)?(E=gi(e,g),o=ng(o,E,h.snap)):Fo(g,e)&&(E=gi(g,e),o=ng(o,Yt(),h.snap.getChild(E)));else{if(!h.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Fo(e,g))E=gi(e,g),o=C_(o,E,h.children);else if(Fo(g,e))if(E=gi(g,e),xt(E))o=C_(o,Yt(),h.children);else{const D=(0,k.DV)(h.children,Nt(E));if(D){const M=D.getChild(on(E));o=ng(o,Yt(),M)}}}}}return o}function KC(n,t,e,o,a){if(o||a){const h=Ol(n.visibleWrites,t);return!a&&E_(h)?e:a||null!=e||GC(h,Yt())?Ad(qC(n.allWrites,function(M){return(M.visible||a)&&(!o||!~o.indexOf(M.writeId))&&(Fo(M.path,t)||Fo(t,M.path))},t),e||Tt.EMPTY_NODE):null}{const h=ic(n.visibleWrites,t);if(null!=h)return h;{const g=Ol(n.visibleWrites,t);return E_(g)?e:null!=e||GC(g,Yt())?Ad(g,e||Tt.EMPTY_NODE):null}}}function ag(n,t,e,o){return KC(n.writeTree,n.treePath,t,e,o)}function D_(n,t){return function Vw(n,t,e){let o=Tt.EMPTY_NODE;const a=ic(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(yn,(h,g)=>{o=o.updateImmediateChild(h,g)}),o;if(e){const h=Ol(n.visibleWrites,t);return e.forEachChild(yn,(g,E)=>{const D=Ad(Ol(h,new At(g)),E);o=o.updateImmediateChild(g,D)}),Fw(h).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return Fw(Ol(n.visibleWrites,t)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(n.writeTree,n.treePath,t)}function lg(n,t,e,o){return function Uw(n,t,e,o,a){(0,k.hu)(o||a,"Either existingEventSnap or existingServerSnap must exist");const h=Tn(t,e);if(GC(n.visibleWrites,h))return null;{const g=Ol(n.visibleWrites,h);return E_(g)?a.getChild(e):Ad(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,o)}function ug(n,t){return function og(n,t){return ic(n.visibleWrites,t)}(n.writeTree,Tn(n.treePath,t))}function b_(n,t,e){return function w_(n,t,e,o){const a=Tn(t,e),h=ic(n.visibleWrites,a);return null!=h?h:o.isCompleteForChild(e)?Ad(Ol(n.visibleWrites,a),o.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QC(n,t){return T_(Tn(n.treePath,t),n.writeTree)}function T_(n,t){return{treePath:n,writeTree:t}}class JC{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const h=a.type;if("child_added"===e&&"child_removed"===h)this.changeMap.set(o,Ed(o,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===h)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===h)this.changeMap.set(o,Zh(o,a.oldSnap));else if("child_changed"===e&&"child_added"===h)this.changeMap.set(o,Cd(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==h)throw(0,k.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(o,Ed(o,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const eE=new class XC{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class S_{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new oo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return b_(this.writes_,t,o)}}getChildAfterChild(t,e,o){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pl(this.viewCache_),h=function YC(n,t,e,o,a,h){return function sg(n,t,e,o,a,h,g){let E;const D=Ol(n.visibleWrites,t),M=ic(D,Yt());if(null!=M)E=M;else{if(null==e)return[];E=Ad(D,e)}if(E=E.withIndex(g),E.isEmpty()||E.isLeafNode())return[];{const F=[],V=g.getCompare(),X=h?E.getReverseIteratorFrom(o,g):E.getIteratorFrom(o,g);let Ae=X.getNext();for(;Ae&&F.length<a;)0!==V(Ae,o)&&F.push(Ae),Ae=X.getNext();return F}}(n.writeTree,n.treePath,t,e,o,a,h)}(this.writes_,a,e,1,o,t);return 0===h.length?null:h[0]}}function nE(n,t,e,o,a,h){const g=t.eventCache;if(null!=ug(o,e))return t;{let E,D;if(xt(e))if((0,k.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Pl(t),V=D_(o,M instanceof Tt?M:Tt.EMPTY_NODE);E=n.filter.updateFullNode(t.eventCache.getNode(),V,h)}else{const M=ag(o,Pl(t));E=n.filter.updateFullNode(t.eventCache.getNode(),M,h)}else{const M=Nt(e);if(".priority"===M){(0,k.hu)(1===ec(e),"Can't have a priority with additional path components");const F=g.getNode();D=t.serverCache.getNode();const V=lg(o,e,F,D);E=null!=V?n.filter.updatePriority(F,V):g.getNode()}else{const F=on(e);let V;if(g.isCompleteForChild(M)){D=t.serverCache.getNode();const X=lg(o,e,g.getNode(),D);V=null!=X?g.getNode().getImmediateChild(M).updateChild(F,X):g.getNode().getImmediateChild(M)}else V=b_(o,M,t.serverCache);E=null!=V?n.filter.updateChild(g.getNode(),M,V,F,a,h):g.getNode()}}return Sd(t,E,g.isFullyInitialized()||xt(e),n.filter.filtersNodes())}}function oc(n,t,e,o,a,h,g,E){const D=t.serverCache;let M;const F=g?n.filter:n.filter.getIndexedFilter();if(xt(e))M=F.updateFullNode(D.getNode(),o,null);else if(F.filtersNodes()&&!D.isFiltered()){const Ae=D.getNode().updateChild(e,o);M=F.updateFullNode(D.getNode(),Ae,null)}else{const Ae=Nt(e);if(!D.isCompleteForPath(e)&&ec(e)>1)return t;const Fe=on(e),at=D.getNode().getImmediateChild(Ae).updateChild(Fe,o);M=".priority"===Ae?F.updatePriority(D.getNode(),at):F.updateChild(D.getNode(),Ae,at,Fe,eE,null)}const V=y_(t,M,D.isFullyInitialized()||xt(e),F.filtersNodes());return nE(n,V,e,a,new S_(a,V,h),E)}function Md(n,t,e,o,a,h,g){const E=t.eventCache;let D,M;const F=new S_(a,t,h);if(xt(e))M=n.filter.updateFullNode(t.eventCache.getNode(),o,g),D=Sd(t,M,!0,n.filter.filtersNodes());else{const V=Nt(e);if(".priority"===V)M=n.filter.updatePriority(t.eventCache.getNode(),o),D=Sd(t,M,E.isFullyInitialized(),E.isFiltered());else{const X=on(e),Ae=E.getNode().getImmediateChild(V);let Fe;if(xt(X))Fe=o;else{const We=F.getCompleteChild(V);Fe=null!=We?".priority"===Zp(X)&&We.getChild(RC(X)).isEmpty()?We:We.updateChild(X,o):Tt.EMPTY_NODE}D=Ae.equals(Fe)?t:Sd(t,n.filter.updateChild(E.getNode(),V,Fe,X,F,g),E.isFullyInitialized(),n.filter.filtersNodes())}}return D}function cg(n,t){return n.eventCache.isCompleteForChild(t)}function iE(n,t,e){return e.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function R_(n,t,e,o,a,h,g,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,D=t;M=xt(e)?o:new vn(null).setTree(e,o);const F=t.serverCache.getNode();return M.children.inorderTraversal((V,X)=>{if(F.hasChild(V)){const Fe=iE(0,t.serverCache.getNode().getImmediateChild(V),X);D=oc(n,D,new At(V),Fe,a,h,g,E)}}),M.children.inorderTraversal((V,X)=>{const Ae=!t.serverCache.isCompleteForChild(V)&&null===X.value;if(!F.hasChild(V)&&!Ae){const We=iE(0,t.serverCache.getNode().getImmediateChild(V),X);D=oc(n,D,new At(V),We,a,h,g,E)}}),D}class oE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new p_(o.getIndex()),h=function Rw(n){return n.loadsAllData()?new p_(n.getIndex()):n.hasLimit()?new Mw(n):new Al(n)}(o);this.processor_=function Bw(n){return{filter:n}}(h);const g=e.serverCache,E=e.eventCache,D=a.updateFullNode(Tt.EMPTY_NODE,g.getNode(),null),M=h.updateFullNode(Tt.EMPTY_NODE,E.getNode(),null),F=new oo(D,g.isFullyInitialized(),a.filtersNodes()),V=new oo(M,E.isFullyInitialized(),h.filtersNodes());this.viewCache_=Qh(V,F),this.eventGenerator_=new Dd(this.query_)}get query(){return this.query_}}function $w(n,t){const e=Pl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!xt(t)&&!e.getImmediateChild(Nt(t)).isEmpty())?e.getChild(t):null}function N_(n){return 0===n.eventRegistrations_.length}function k_(n,t,e){const o=[];if(e){(0,k.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(h=>{const g=h.createCancelEvent(e,a);g&&o.push(g)})}if(t){let a=[];for(let h=0;h<n.eventRegistrations_.length;++h){const g=n.eventRegistrations_[h];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(h+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return o}function dg(n,t,e,o){t.type===Xt.MERGE&&null!==t.source.queryId&&((0,k.hu)(Pl(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(Jh(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,h=function A_(n,t,e,o,a){const h=new JC;let g,E;if(e.type===Xt.OVERWRITE){const M=e;M.source.fromUser?g=Md(n,t,M.path,M.snap,o,a,h):((0,k.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered()&&!xt(M.path),g=oc(n,t,M.path,M.snap,o,a,E,h))}else if(e.type===Xt.MERGE){const M=e;M.source.fromUser?g=function rE(n,t,e,o,a,h,g){let E=t;return o.foreach((D,M)=>{const F=Tn(e,D);cg(t,Nt(F))&&(E=Md(n,E,F,M,a,h,g))}),o.foreach((D,M)=>{const F=Tn(e,D);cg(t,Nt(F))||(E=Md(n,E,F,M,a,h,g))}),E}(n,t,M.path,M.children,o,a,h):((0,k.hu)(M.source.fromServer,"Unknown source."),E=M.source.tagged||t.serverCache.isFiltered(),g=R_(n,t,M.path,M.children,o,a,E,h))}else if(e.type===Xt.ACK_USER_WRITE){const M=e;g=M.revert?function O_(n,t,e,o,a,h){let g;if(null!=ug(o,e))return t;{const E=new S_(o,t,a),D=t.eventCache.getNode();let M;if(xt(e)||".priority"===Nt(e)){let F;if(t.serverCache.isFullyInitialized())F=ag(o,Pl(t));else{const V=t.serverCache.getNode();(0,k.hu)(V instanceof Tt,"serverChildren would be complete if leaf node"),F=D_(o,V)}M=n.filter.updateFullNode(D,F,h)}else{const F=Nt(e);let V=b_(o,F,t.serverCache);null==V&&t.serverCache.isCompleteForChild(F)&&(V=D.getImmediateChild(F)),M=null!=V?n.filter.updateChild(D,F,V,on(e),E,h):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(D,F,Tt.EMPTY_NODE,on(e),E,h):D,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=ag(o,Pl(t)),g.isLeafNode()&&(M=n.filter.updateFullNode(M,g,h)))}return g=t.serverCache.isFullyInitialized()||null!=ug(o,Yt()),Sd(t,M,g,n.filter.filtersNodes())}}(n,t,M.path,o,a,h):function Hw(n,t,e,o,a,h,g){if(null!=ug(a,e))return t;const E=t.serverCache.isFiltered(),D=t.serverCache;if(null!=o.value){if(xt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return oc(n,t,e,D.getNode().getChild(e),a,h,E,g);if(xt(e)){let M=new vn(null);return D.getNode().forEachChild(Tr,(F,V)=>{M=M.set(new At(F),V)}),R_(n,t,e,M,a,h,E,g)}return t}{let M=new vn(null);return o.foreach((F,V)=>{const X=Tn(e,F);D.isCompleteForPath(X)&&(M=M.set(F,D.getNode().getChild(X)))}),R_(n,t,e,M,a,h,E,g)}}(n,t,M.path,M.affectedTree,o,a,h)}else{if(e.type!==Xt.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+e.type);g=function P_(n,t,e,o,a){const h=t.serverCache;return nE(n,y_(t,h.getNode(),h.isFullyInitialized()||xt(e),h.isFiltered()),e,o,eE,a)}(n,t,e.path,o,h)}const D=h.getChanges();return function M_(n,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=Jh(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&e.push(BC(Jh(t)))}}(t,g,D),{viewCache:g,changes:D}}(n.processor_,a,t,e,o);return function tE(n,t){(0,k.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,h.viewCache),(0,k.hu)(h.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=h.viewCache,lE(n,h.changes,h.viewCache.eventCache.getNode(),null)}function lE(n,t,e,o){return function bd(n,t,e,o){const a=[],h=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&h.push(function f_(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Td(n,a,"child_removed",t,o,e),Td(n,a,"child_added",t,o,e),Td(n,a,"child_moved",h,o,e),Td(n,a,"child_changed",t,o,e),Td(n,a,"value",t,o,e),a}(n.eventGenerator_,t,e,o?[o]:n.eventRegistrations_)}let tf,rf;class F_{constructor(){this.views=new Map}}function L_(n,t,e,o){const a=t.source.queryId;if(null!==a){const h=n.views.get(a);return(0,k.hu)(null!=h,"SyncTree gave us an op for an invalid query."),dg(h,t,e,o)}{let h=[];for(const g of n.views.values())h=h.concat(dg(g,t,e,o));return h}}function dE(n,t,e,o,a){const g=n.views.get(t._queryIdentifier);if(!g){let E=ag(e,a?o:null),D=!1;E?D=!0:o instanceof Tt?(E=D_(e,o),D=!1):(E=Tt.EMPTY_NODE,D=!1);const M=Qh(new oo(E,D,!1),new oo(o,a,!1));return new oE(t,M)}return g}function U_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ha(n,t){let e=null;for(const o of n.views.values())e=e||$w(o,t);return e}function B_(n,t){return t._queryParams.loadsAllData()?nf(n):n.views.get(t._queryIdentifier)}function H_(n,t){return null!=B_(n,t)}function ja(n){return null!=nf(n)}function nf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xl=1;class fE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new vn(null),this.pendingWriteTree_=function FT(){return{visibleWrites:na.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j_(n,t,e,o,a){return function I_(n,t,e,o,a){(0,k.hu)(o>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:o,visible:a}),a&&(n.visibleWrites=ng(n.visibleWrites,t,e)),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o,a),a?ac(n,new Lo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Vi(n,t,e=!1){const o=function zC(n,t){for(let e=0;e<n.allWrites.length;e++){const o=n.allWrites[e];if(o.writeId===t)return o}return null}(n.pendingWriteTree_,t);if(function Xh(n,t){const e=n.allWrites.findIndex(E=>E.writeId===t);(0,k.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=n.allWrites[e];n.allWrites.splice(e,1);let a=o.visible,h=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const E=n.allWrites[g];E.visible&&(g>=e&&ZC(E,o.path)?a=!1:Fo(o.path,E.path)&&(h=!0)),g--}return!!a&&(h?(function Lw(n){n.visibleWrites=qC(n.allWrites,ef,Yt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(o.snap?n.visibleWrites=WC(n.visibleWrites,o.path):hr(o.children,D=>{n.visibleWrites=WC(n.visibleWrites,Tn(o.path,D))}),!0))}(n.pendingWriteTree_,t)){let h=new vn(null);return null!=o.snap?h=h.set(Yt(),!0):hr(o.children,g=>{h=h.set(new At(g),!0)}),ac(n,new Ba(o.path,h,e))}return[]}function sc(n,t,e){return ac(n,new Lo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function G_(n,t,e,o,a=!1){const h=t._path,g=n.syncPointTree_.get(h);let E=[];if(g&&("default"===t._queryIdentifier||H_(g,t))){const D=function hg(n,t,e,o){const a=t._queryIdentifier,h=[];let g=[];const E=ja(n);if("default"===a)for(const[D,M]of n.views.entries())g=g.concat(k_(M,e,o)),N_(M)&&(n.views.delete(D),M.query._queryParams.loadsAllData()||h.push(M.query));else{const D=n.views.get(a);D&&(g=g.concat(k_(D,e,o)),N_(D)&&(n.views.delete(a),D.query._queryParams.loadsAllData()||h.push(D.query)))}return E&&!ja(n)&&h.push(new(function cE(){return(0,k.hu)(tf,"Reference.ts has not been loaded"),tf}())(t._repo,t._path)),{removed:h,events:g}}(g,t,e,o);(function Ww(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(h));const M=D.removed;if(E=D.events,!a){const F=-1!==M.findIndex(X=>X._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(h,(X,Ae)=>ja(Ae));if(F&&!V){const X=n.syncPointTree_.subtree(h);if(!X.isEmpty()){const Ae=function Zw(n){return n.fold((t,e,o)=>{if(e&&ja(e))return[nf(e)];{let a=[];return e&&(a=U_(e)),hr(o,(h,g)=>{a=a.concat(g)}),a}})}(X);for(let Fe=0;Fe<Ae.length;++Fe){const We=Ae[Fe],at=We.query,zt=z_(n,We);n.listenProvider_.startListening(Rd(at),sf(n,at),zt.hashFn,zt.onComplete)}}}!V&&M.length>0&&!o&&(F?n.listenProvider_.stopListening(Rd(t),null):M.forEach(X=>{const Ae=n.queryToTagMap.get(af(X));n.listenProvider_.stopListening(Rd(X),Ae)}))}!function qw(n,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const a=af(o),h=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(h)}}}(n,M)}return E}function pE(n,t,e,o){const a=mg(n,o);if(null!=a){const h=kl(a),g=h.path,E=h.queryId,D=gi(g,t);return Z_(n,g,new Lo(Rl(E),D,e))}return[]}function pg(n,t,e,o=!1){const a=t._path;let h=null,g=!1;n.syncPointTree_.foreachOnPath(a,(X,Ae)=>{const Fe=gi(X,a);h=h||Ha(Ae,Fe),g=g||ja(Ae)});let D,E=n.syncPointTree_.get(a);E?(g=g||ja(E),h=h||Ha(E,Yt())):(E=new F_,n.syncPointTree_=n.syncPointTree_.set(a,E)),null!=h?D=!0:(D=!1,h=Tt.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Ae,Fe)=>{const We=Ha(Fe,Yt());We&&(h=h.updateImmediateChild(Ae,We))}));const M=H_(E,t);if(!M&&!t._queryParams.loadsAllData()){const X=af(t);(0,k.hu)(!n.queryToTagMap.has(X),"View does not exist, but we have a tag");const Ae=function _E(){return xl++}();n.queryToTagMap.set(X,Ae),n.tagToQueryMap.set(Ae,X)}let V=function V_(n,t,e,o,a,h){const g=dE(n,t,o,a,h);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function x_(n,t){n.eventRegistrations_.push(t)}(g,e),function aE(n,t){const e=n.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(yn,(h,g)=>{o.push(Cd(h,g))}),e.isFullyInitialized()&&o.push(BC(e.getNode())),lE(n,o,e.getNode(),t)}(g,e)}(E,t,e,Nl(n.pendingWriteTree_,a),h,D);if(!M&&!g&&!o){const X=B_(E,t);V=V.concat(function VT(n,t,e){const o=t._path,a=sf(n,t),h=z_(n,e),g=n.listenProvider_.startListening(Rd(t),a,h.hashFn,h.onComplete),E=n.syncPointTree_.subtree(o);if(a)(0,k.hu)(!ja(E.value),"If we're adding a query, it shouldn't be shadowed");else{const D=E.fold((M,F,V)=>{if(!xt(M)&&F&&ja(F))return[nf(F).query];{let X=[];return F&&(X=X.concat(U_(F).map(Ae=>Ae.query))),hr(V,(Ae,Fe)=>{X=X.concat(Fe)}),X}});for(let M=0;M<D.length;++M){const F=D[M];n.listenProvider_.stopListening(Rd(F),sf(n,F))}}return g}(n,t,X))}return V}function gg(n,t,e){const a=n.pendingWriteTree_,h=n.syncPointTree_.findOnPath(t,(g,E)=>{const M=Ha(E,gi(g,t));if(M)return M});return KC(a,t,h,e,!0)}function ac(n,t){return gE(t,n.syncPointTree_,null,Nl(n.pendingWriteTree_,Yt()))}function gE(n,t,e,o){if(xt(n.path))return mE(n,t,e,o);{const a=t.get(Yt());null==e&&null!=a&&(e=Ha(a,Yt()));let h=[];const g=Nt(n.path),E=n.operationForChild(g),D=t.children.get(g);if(D&&E){const M=e?e.getImmediateChild(g):null,F=QC(o,g);h=h.concat(gE(E,D,M,F))}return a&&(h=h.concat(L_(a,n,o,e))),h}}function mE(n,t,e,o){const a=t.get(Yt());null==e&&null!=a&&(e=Ha(a,Yt()));let h=[];return t.children.inorderTraversal((g,E)=>{const D=e?e.getImmediateChild(g):null,M=QC(o,g),F=n.operationForChild(g);F&&(h=h.concat(mE(F,E,D,M)))}),a&&(h=h.concat(L_(a,n,o,e))),h}function z_(n,t){const e=t.query,o=sf(n,e);return{hashFn:()=>(function sE(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return o?function LT(n,t,e){const o=mg(n,e);if(o){const a=kl(o),h=a.path,g=a.queryId,E=gi(h,t);return Z_(n,h,new ta(Rl(g),E))}return[]}(n,e._path,o):function W_(n,t){return ac(n,new ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const h=function nC(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const o=new Error(n+" at "+t._path.toString()+": "+e);return o.code=n.toUpperCase(),o}(a,e);return G_(n,e,null,h)}}}}function sf(n,t){const e=af(t);return n.queryToTagMap.get(e)}function af(n){return n._path.toString()+"$"+n._queryIdentifier}function mg(n,t){return n.tagToQueryMap.get(t)}function kl(n){const t=n.indexOf("$");return(0,k.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new At(n.substr(0,t))}}function Z_(n,t,e){const o=n.syncPointTree_.get(t);return(0,k.hu)(o,"Missing sync point for query tag that we're tracking"),L_(o,e,Nl(n.pendingWriteTree_,t),null)}function Rd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function fg(){return(0,k.hu)(rf,"Reference.ts has not been loaded"),rf}())(n._repo,n._path):n}class _g{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new _g(e)}node(){return this.node_}}class lf{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Tn(this.path_,t);return new lf(this.syncTree_,e)}node(){return gg(this.syncTree_,this.path_)}}const ra=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},yE=function(n,t,e){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Kw(n[".sv"],t,e):"object"==typeof n[".sv"]?ia(n[".sv"],t):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Kw=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},ia=function(n,t,e){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const o=n.increment;"number"!=typeof o&&(0,k.hu)(!1,"Unexpected increment value: "+o);const a=t.node();if((0,k.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const g=a.getValue();return"number"!=typeof g?o:g+o},Vo=function(n,t,e,o){return yg(t,new lf(e,n),o)},so=function(n,t,e){return yg(n,new _g(t),e)};function yg(n,t,e){const o=n.getPriority().val(),a=yE(o,t.getImmediateChild(".priority"),e);let h;if(n.isLeafNode()){const g=n,E=yE(g.getValue(),t,e);return E!==g.getValue()||a!==g.getPriority().val()?new Ua(E,Nn(a)):n}{const g=n;return h=g,a!==g.getPriority().val()&&(h=h.updatePriority(new Ua(a))),g.forEachChild(yn,(E,D)=>{const M=yg(D,t.getImmediateChild(E),e);M!==D&&(h=h.updateImmediateChild(E,M))}),h}}class vg{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function Cg(n,t){let e=t instanceof At?t:new At(t),o=n,a=Nt(e);for(;null!==a;){const h=(0,k.DV)(o.node.children,a)||{children:{},childCount:0};o=new vg(a,o,h),e=on(e),a=Nt(e)}return o}function lc(n){return n.node.value}function q_(n,t){n.node.value=t,Y_(n)}function vE(n){return n.node.childCount>0}function Fl(n,t){hr(n.node.children,(e,o)=>{t(new vg(e,n,o))})}function CE(n,t,e,o){e&&!o&&t(n),Fl(n,a=>{CE(a,t,!0,o)}),e&&o&&t(n)}function uf(n){return new At(null===n.parent?n.name:uf(n.parent)+"/"+n.name)}function Y_(n){null!==n.parent&&function IE(n,t,e){const o=function K_(n){return void 0===lc(n)&&!vE(n)}(e),a=(0,k.r3)(n.node.children,t);o&&a?(delete n.node.children[t],n.node.childCount--,Y_(n)):!o&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Y_(n))}(n.parent,n.name,n)}const wE=/[\[\].#$\/\u0000-\u001F\u007F]/,Eg=/[\[\].#$\u0000-\u001F\u007F]/,Q_=10485760,cf=function(n){return"string"==typeof n&&0!==n.length&&!wE.test(n)},J_=function(n){return"string"==typeof n&&0!==n.length&&!Eg.test(n)},df=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Vp(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},oa=function(n,t,e,o){o&&void 0===t||uc((0,k.gK)(n,"value"),t,e)},uc=function(n,t,e){const o=e instanceof At?new Cw(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Va(o));if("function"==typeof t)throw new Error(n+"contains a function "+Va(o)+" with contents = "+t.toString());if(Vp(t))throw new Error(n+"contains "+t.toString()+" "+Va(o));if("string"==typeof t&&t.length>Q_/3&&(0,k.ug)(t)>Q_)throw new Error(n+"contains a string greater than "+Q_+" utf8 bytes "+Va(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,h=!1;if(hr(t,(g,E)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(h=!0,!cf(g)))throw new Error(n+" contains an invalid key ("+g+") "+Va(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ew(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,k.ug)(t),as(n)})(o,g),uc(n,E,o),function Iw(n){const t=n.parts_.pop();n.byteLength_-=(0,k.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(o)}),a&&h)throw new Error(n+' contains ".value" child '+Va(o)+" in addition to actual children.")}},X_=function(n,t,e,o){if(o&&void 0===t)return;const a=(0,k.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const h=[];hr(t,(g,E)=>{const D=new At(g);if(uc(a,E,Tn(e,D)),".priority"===Zp(D)&&!df(E))throw new Error(a+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(D)}),function(n,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const h=Bh(o);for(let g=0;g<h.length;g++)if((".priority"!==h[g]||g!==h.length-1)&&!cf(h[g]))throw new Error(n+"contains an invalid key ("+h[g]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(r_);let a=null;for(e=0;e<t.length;e++){if(o=t[e],null!==a&&Fo(a,o))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}}(a,h)},wg=function(n,t,e){if(!e||void 0!==t){if(Vp(t))throw new Error((0,k.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!df(t))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pd=function(n,t,e,o){if(!(o&&void 0===e||cf(e)))throw new Error((0,k.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Od=function(n,t,e,o){if(!(o&&void 0===e||J_(e)))throw new Error((0,k.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bE=function(n,t,e,o){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Od(n,t,e,o)},ao=function(n,t){if(".info"===Nt(t))throw new Error(n+" failed = Can't modify data under /.info/")},ey=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!cf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),J_(n)}(e))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dg(n,t){let e=null;for(let o=0;o<t.length;o++){const a=t[o],h=a.getPath();null!==e&&!i_(h,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:h}),e.events.push(a)}e&&n.eventLists_.push(e)}function SE(n,t,e){Dg(n,e),AE(n,o=>i_(o,t))}function lo(n,t,e){Dg(n,e),AE(n,o=>Fo(o,t)||Fo(t,o))}function AE(n,t){n.recursionDepth_++;let e=!0;for(let o=0;o<n.eventLists_.length;o++){const a=n.eventLists_[o];a&&(t(a.path)?(Yw(n.eventLists_[o]),n.eventLists_[o]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Yw(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const o=e.getEventRunner();Ku&&br("event: "+e.toString()),Fh(o)}}}const ME="repo_interrupt",Qw=25;class Jw{constructor(t,e,o,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nc(),this.transactionQueueTree_=new vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RE(n){const e=n.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hf(n){return ra({timestamp:RE(n)})}function PE(n,t,e,o,a){n.dataUpdateCount++;const h=new At(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(o){const D=(0,k.UI)(e,M=>Nn(M));g=function zw(n,t,e,o){const a=mg(n,o);if(a){const h=kl(a),g=h.path,E=h.queryId,D=gi(g,t),M=vn.fromObject(e);return Z_(n,g,new us(Rl(E),D,M))}return[]}(n.serverSyncTree_,h,D,a)}else{const D=Nn(e);g=pE(n.serverSyncTree_,h,D,a)}else if(o){const D=(0,k.UI)(e,M=>Nn(M));g=function Gw(n,t,e){const o=vn.fromObject(e);return ac(n,new us({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,h,D)}else{const D=Nn(e);g=sc(n.serverSyncTree_,h,D)}let E=h;g.length>0&&(E=Ll(n,h)),lo(n.eventQueue_,E,g)}function OE(n,t){ty(n,"connected",t),!1===t&&function xE(n){cc(n,"onDisconnectEvents");const t=hf(n),e=nc();Kh(n.onDisconnect_,Yt(),(a,h)=>{const g=Vo(a,h,n.serverSyncTree_,t);Id(e,a,g)});let o=[];Kh(e,Yt(),(a,h)=>{o=o.concat(sc(n.serverSyncTree_,a,h));const g=ly(n,a);Ll(n,g)}),n.onDisconnect_=nc(),lo(n.eventQueue_,Yt(),o)}(n)}function ty(n,t,e){const o=new At("/.info/"+t),a=Nn(e);n.infoData_.updateSnapshot(o,a);const h=sc(n.infoSyncTree_,o,a);lo(n.eventQueue_,o,h)}function bg(n){return n.nextWriteId_++}function ny(n,t,e,o,a){cc(n,"set",{path:t.toString(),value:e,priority:o});const h=hf(n),g=Nn(e,o),E=gg(n.serverSyncTree_,t),D=so(g,E,h),M=bg(n),F=j_(n.serverSyncTree_,t,D,M,!0);Dg(n.eventQueue_,F),n.server_.put(t.toString(),g.val(!0),(X,Ae)=>{const Fe="ok"===X;Fe||Qr("set at "+t+" failed: "+X);const We=Vi(n.serverSyncTree_,M,!Fe);lo(n.eventQueue_,t,We),Ui(0,a,X,Ae)});const V=ly(n,t);Ll(n,V),lo(n.eventQueue_,V,[])}function kE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(o,a)=>{"ok"===o&&__(n.onDisconnect_,t),Ui(0,e,o,a)})}function ry(n,t,e,o){const a=Nn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(h,g)=>{"ok"===h&&Id(n.onDisconnect_,t,a),Ui(0,o,h,g)})}function Tg(n,t,e){let o;o=".info"===Nt(t._path)?G_(n.infoSyncTree_,t,e):G_(n.serverSyncTree_,t,e),SE(n.eventQueue_,t._path,o)}function iy(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ME)}function cc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),br(e,...t)}function Ui(n,t,e,o){t&&Fh(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let h=a;o&&(h+=": "+o);const g=new Error(h);g.code=a,t(g)}})}function oy(n,t,e){return gg(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function $a(n,t=n.transactionQueueTree_){if(t||ut(n,t),lc(t)){const e=ay(n,t);(0,k.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function UT(n,t,e){const o=e.map(M=>M.currentWriteId),a=oy(n,t,o);let h=a;const g=a.hash();for(let M=0;M<e.length;M++){const F=e[M];(0,k.hu)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const V=gi(t,F.path);h=h.updateChild(V,F.currentOutputSnapshotRaw)}const E=h.val(!0),D=t;n.server_.put(D.toString(),E,M=>{cc(n,"transaction put response",{path:D.toString(),status:M});let F=[];if("ok"===M){const V=[];for(let X=0;X<e.length;X++)e[X].status=2,F=F.concat(Vi(n.serverSyncTree_,e[X].currentWriteId)),e[X].onComplete&&V.push(()=>e[X].onComplete(null,!0,e[X].currentOutputSnapshotResolved)),e[X].unwatcher();ut(n,Cg(n.transactionQueueTree_,t)),$a(n,n.transactionQueueTree_),lo(n.eventQueue_,t,F);for(let X=0;X<V.length;X++)Fh(V[X])}else{if("datastale"===M)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{Qr("transaction at "+D.toString()+" failed: "+M);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=M}Ll(n,t)}},g)}(n,uf(t),e)}else vE(t)&&Fl(t,e=>{$a(n,e)})}function Ll(n,t){const e=sy(n,t),o=uf(e);return function BT(n,t,e){if(0===t.length)return;const o=[];let a=[];const g=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const D=t[E],M=gi(e,D.path);let V,F=!1;if((0,k.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)F=!0,V=D.abortReason,a=a.concat(Vi(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=Qw)F=!0,V="maxretry",a=a.concat(Vi(n.serverSyncTree_,D.currentWriteId,!0));else{const X=oy(n,D.path,g);D.currentInputSnapshot=X;const Ae=t[E].update(X.val());if(void 0!==Ae){uc("transaction failed: Data returned ",Ae,D.path);let Fe=Nn(Ae);"object"==typeof Ae&&null!=Ae&&(0,k.r3)(Ae,".priority")||(Fe=Fe.updatePriority(X.getPriority()));const at=D.currentWriteId,zt=hf(n),fn=so(Fe,X,zt);D.currentOutputSnapshotRaw=Fe,D.currentOutputSnapshotResolved=fn,D.currentWriteId=bg(n),g.splice(g.indexOf(at),1),a=a.concat(j_(n.serverSyncTree_,D.path,fn,D.currentWriteId,D.applyLocally)),a=a.concat(Vi(n.serverSyncTree_,at,!0))}else F=!0,V="nodata",a=a.concat(Vi(n.serverSyncTree_,D.currentWriteId,!0))}lo(n.eventQueue_,e,a),a=[],F&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&o.push("nodata"===V?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(V),!1,null)))}ut(n,n.transactionQueueTree_);for(let E=0;E<o.length;E++)Fh(o[E]);$a(n,n.transactionQueueTree_)}(n,ay(n,e),o),o}function sy(n,t){let e,o=n.transactionQueueTree_;for(e=Nt(t);null!==e&&void 0===lc(o);)o=Cg(o,e),e=Nt(t=on(t));return o}function ay(n,t){const e=[];return rD(n,t,e),e.sort((o,a)=>o.order-a.order),e}function rD(n,t,e){const o=lc(t);if(o)for(let a=0;a<o.length;a++)e.push(o[a]);Fl(t,a=>{rD(n,a,e)})}function ut(n,t){const e=lc(t);if(e){let o=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[o]=e[a],o++);e.length=o,q_(t,e.length>0?e:void 0)}Fl(t,o=>{ut(n,o)})}function ly(n,t){const e=uf(sy(n,t)),o=Cg(n.transactionQueueTree_,t);return function EE(n,t,e){let o=e?n:n.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,a=>{uy(n,a)}),uy(n,o),CE(o,a=>{uy(n,a)}),e}function uy(n,t){const e=lc(t);if(e){const o=[];let a=[],h=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,k.hu)(h===g-1,"All SENT items should be at beginning of queue."),h=g,e[g].status=3,e[g].abortReason="set"):((0,k.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(Vi(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===h?q_(t,void 0):e.length=h+1,lo(n.eventQueue_,uf(t),a);for(let g=0;g<o.length;g++)Fh(o[g])}}const cy=function(n,t){const e=Sg(n),o=e.namespace;return"firebase.com"===e.domain&&io(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Km(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new At(e.pathString)}},Sg=function(n){let t="",e="",o="",a="",h="",g=!0,E="https",D=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(E=n.substring(0,M-1),n=n.substring(M+2));let F=n.indexOf("/");-1===F&&(F=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(F,V)),F<V&&(a=function iD(n){let t="";const e=n.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let a=e[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(F,V)));const X=function Nd(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Qr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));M=t.indexOf(":"),M>=0?(g="https"===E||"wss"===E,D=parseInt(t.substring(M+1),10)):M=t.length;const Ae=t.slice(0,M);if("localhost"===Ae.toLowerCase())e="localhost";else if(Ae.split(".").length<=2)e=Ae;else{const Fe=t.indexOf(".");o=t.substring(0,Fe).toLowerCase(),e=t.substring(Fe+1),h=o}"ns"in X&&(h=X.ns)}return{host:t,port:D,domain:e,subdomain:o,secure:g,scheme:E,pathString:a,namespace:h}},ff="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ln=function(){let n=0;const t=[];return function(e){const o=e===n;let a;n=e;const h=new Array(8);for(a=7;a>=0;a--)h[a]=ff.charAt(e%64),e=Math.floor(e/64);(0,k.hu)(0===e,"Cannot push at time == 0");let g=h.join("");if(o){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=ff.charAt(t[a]);return(0,k.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class oD{constructor(t,e,o,a){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Wl)(this.snapshot.exportVal())}}class dy{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ag{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class BE{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new k.BH;return kE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ao("OnDisconnect.remove",this._path);const t=new k.BH;return ry(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ao("OnDisconnect.set",this._path),oa("OnDisconnect.set",t,this._path,!1);const e=new k.BH;return ry(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ao("OnDisconnect.setWithPriority",this._path),oa("OnDisconnect.setWithPriority",t,this._path,!1),wg("OnDisconnect.setWithPriority",e,!1);const o=new k.BH;return function FE(n,t,e,o,a){const h=Nn(e,o);n.server_.onDisconnectPut(t.toString(),h.val(!0),(g,E)=>{"ok"===g&&Id(n.onDisconnect_,t,h),Ui(0,a,g,E)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){ao("OnDisconnect.update",this._path),X_("OnDisconnect.update",t,this._path,!1);const e=new k.BH;return function LE(n,t,e,o){if((0,k.xb)(e))return br("onDisconnect().update() called with empty data.  Don't do anything."),void Ui(0,o,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,h)=>{"ok"===a&&hr(e,(g,E)=>{const D=Nn(E);Id(n.onDisconnect_,Tn(t,g),D)}),Ui(0,o,a,h)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class mi{constructor(t,e,o,a){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=a}get key(){return xt(this._path)?null:Zp(this._path)}get ref(){return new Uo(this._repo,this._path)}get _queryIdentifier(){const t=m_(this._queryParams),e=Qu(t);return"{}"===e?"default":e}get _queryObject(){return m_(this._queryParams)}isEqual(t){if(!((t=(0,k.m9)(t))instanceof mi))return!1;const e=this._repo===t._repo,o=i_(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function pf(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Wa(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Tr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Yu)throw new Error(o);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ka)throw new Error(o);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===yn){if(null!=t&&!df(t)||null!=e&&!df(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof d_||n.getIndex()===h_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gf(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Uo extends mi{constructor(t,e){super(t,e,new Qp,!1)}get parent(){const t=RC(this._path);return null===t?null:new Uo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class dc{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new At(t),o=hc(this.ref,t);return new dc(this._node.getChild(e),o,yn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,a)=>t(new dc(a,hc(this.ref,o),yn)))}hasChild(t){const e=new At(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function HE(n,t){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==t?hc(n._root,t):n._root}function xd(n,t){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const e=cy(t,n._repo.repoInfo_.nodeAdmin);ey("refFromURL",e);const o=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&o.host!==n._repo.repoInfo_.host&&io("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),HE(n,e.path.toString())}function hc(n,t){return null===Nt((n=(0,k.m9)(n))._path)?bE("child","path",t,!1):Od("child","path",t,!1),new Uo(n._repo,Tn(n._path,t))}function Rg(n,t){n=(0,k.m9)(n),ao("set",n._path),oa("set",t,n._path,!1);const e=new k.BH;return ny(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function aD(n,t){X_("update",t,n._path,!1);const e=new k.BH;return function NE(n,t,e,o){cc(n,"update",{path:t.toString(),value:e});let a=!0;const h=hf(n),g={};if(hr(e,(E,D)=>{a=!1,g[E]=Vo(Tn(t,E),Nn(D),n.serverSyncTree_,h)}),a)br("update() called with empty data.  Don't do anything."),Ui(0,o,"ok",void 0);else{const E=bg(n),D=function $_(n,t,e,o){!function ig(n,t,e,o){(0,k.hu)(o>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:o,visible:!0}),n.visibleWrites=C_(n.visibleWrites,t,e),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o);const a=vn.fromObject(e);return ac(n,new us({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,E);Dg(n.eventQueue_,D),n.server_.merge(t.toString(),e,(M,F)=>{const V="ok"===M;V||Qr("update at "+t+" failed: "+M);const X=Vi(n.serverSyncTree_,E,!V),Ae=X.length>0?Ll(n,t):t;lo(n.eventQueue_,Ae,X),Ui(0,o,M,F)}),hr(e,M=>{const F=ly(n,Tn(t,M));Ll(n,F)}),lo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function mf(n){n=(0,k.m9)(n);const t=new Ag(()=>{}),e=new Ga(t);return function tD(n,t,e){const o=function fr(n,t){const e=t._path;let o=null;n.syncPointTree_.foreachOnPath(e,(M,F)=>{const V=gi(M,e);o=o||Ha(F,V)});let a=n.syncPointTree_.get(e);a?o=o||Ha(a,Yt()):(a=new F_,n.syncPointTree_=n.syncPointTree_.set(e,a));const h=null!=o,g=h?new oo(o,!0,!1):null;return function jw(n){return Jh(n.viewCache_)}(dE(a,t,Nl(n.pendingWriteTree_,t._path),h?g.getNode():Tt.EMPTY_NODE,h))}(n.serverSyncTree_,t);return null!=o?Promise.resolve(o):n.server_.get(t).then(a=>{const h=Nn(a).withIndex(t._queryParams.getIndex());let g;if(pg(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=sc(n.serverSyncTree_,t._path,h);else{const E=sf(n.serverSyncTree_,t);g=pE(n.serverSyncTree_,t._path,h,E)}return lo(n.eventQueue_,t._path,g),G_(n.serverSyncTree_,t,e,null,!0),h},a=>(cc(n,"get for query "+(0,k.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(o=>new dc(o,new Uo(n._repo,n._path),n._queryParams.getIndex()))}class Ga{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new oD("value",this,new dc(t.snapshotNode,new Uo(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dy(this,t,e):null}matches(t){return t instanceof Ga&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Pg{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dy(this,t,e):null}createEvent(t,e){(0,k.hu)(null!=t.childName,"Child events should have a childName.");const o=hc(new Uo(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new oD(t.type,this,new dc(t.snapshotNode,o,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Pg&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _f(n,t,e,o,a){let h;if("object"==typeof o&&(h=void 0,a=o),"function"==typeof o&&(h=o),a&&a.onlyOnce){const D=e,M=(F,V)=>{Tg(n._repo,n,E),D(F,V)};M.userCallback=e.userCallback,M.context=e.context,e=M}const g=new Ag(e,h||void 0),E="value"===t?new Ga(g):new Pg(t,g);return function VE(n,t,e){let o;o=".info"===Nt(t._path)?pg(n.infoSyncTree_,t,e):pg(n.serverSyncTree_,t,e),SE(n.eventQueue_,t._path,o)}(n._repo,n,E),()=>Tg(n._repo,n,E)}function hy(n,t,e,o){return _f(n,"value",t,e,o)}function fy(n,t,e,o){return _f(n,"child_added",t,e,o)}function py(n,t,e,o){return _f(n,"child_changed",t,e,o)}function gy(n,t,e,o){return _f(n,"child_moved",t,e,o)}function WE(n,t,e,o){return _f(n,"child_removed",t,e,o)}function my(n,t,e){let o=null;const a=e?new Ag(e):null;"value"===t?o=new Ga(a):t&&(o=new Pg(t,a)),Tg(n._repo,n,o)}class cs{}class GE extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oa("endAt",this._value,t._path,!0);const e=Jp(t._queryParams,this._value,this._key);if(gf(e),Wa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)}}class $T extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oa("endBefore",this._value,t._path,!1);const e=function HC(n,t,e){let o;return o=Jp(n,t,n.index_===Tr||e?e:Yu),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(gf(e),Wa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)}}class lD extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oa("startAt",this._value,t._path,!0);const e=g_(t._queryParams,this._value,this._key);if(gf(e),Wa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)}}class Og extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){oa("startAfter",this._value,t._path,!1);const e=function Nw(n,t,e){let o;return o=g_(n,t,n.index_===Tr||e?e:ka),o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(gf(e),Wa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mi(t._repo,t._path,e,t._orderByCalled)}}class cD extends cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(t._repo,t._path,function Pw(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class yf extends cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(t._repo,t._path,function Ow(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class hD extends cs{constructor(t){super(),this._path=t}_apply(t){pf(t,"orderByChild");const e=new At(this._path);if(xt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new d_(e),a=Xp(t._queryParams,o);return Wa(a),new mi(t._repo,t._path,a,!0)}}class pD extends cs{_apply(t){pf(t,"orderByKey");const e=Xp(t._queryParams,Tr);return Wa(e),new mi(t._repo,t._path,e,!0)}}class gD extends cs{_apply(t){pf(t,"orderByPriority");const e=Xp(t._queryParams,yn);return Wa(e),new mi(t._repo,t._path,e,!0)}}class mD extends cs{_apply(t){pf(t,"orderByValue");const e=Xp(t._queryParams,h_);return Wa(e),new mi(t._repo,t._path,e,!0)}}class vf extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(oa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GE(this._value,this._key)._apply(new lD(this._value,this._key)._apply(t))}}function Bo(n,...t){let e=(0,k.m9)(n);for(const o of t)e=o._apply(e);return e}(function uE(n){(0,k.hu)(!tf,"__referenceConstructor has already been defined"),tf=n})(Uo),function hE(n){(0,k.hu)(!rf,"__referenceConstructor has already been defined"),rf=n}(Uo);const Ng={};function QE(n,t,e,o,a){let h=o||n.options.databaseURL;void 0===h&&(n.options.projectId||io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),br("Using default host for project ",n.options.projectId),h=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,M,g=cy(h,a),E=g.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(D=!0,h=`http://${M}?ns=${E.namespace}`,g=cy(h,a),E=g.repoInfo):D=!g.repoInfo.secure;const F=a&&D?new md(md.OWNER):new iC(n.name,n.options,t);ey("Invalid Firebase Database URL",g),xt(g.path)||io("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function CD(n,t,e,o){let a=Ng[t.name];a||(a={},Ng[t.name]=a);let h=a[n.toURLString()];return h&&io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new Jw(n,false,e,o),a[n.toURLString()]=h,h}(E,n,F,new Up(n.name,e));return new XE(V,n)}class XE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Xw(n,t,e){if(n.stats_=jp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new qh(n.repoInfo_,(o,a,h,g)=>{PE(n,o,a,h,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>OE(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}n.persistentConnection_=new Tl(n.repoInfo_,t,(o,a,h,g)=>{PE(n,o,a,h,g)},o=>{OE(n,o)},o=>{!function eD(n,t){hr(t,(e,o)=>{ty(n,e,o)})}(n,o)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(o=>{n.server_.refreshAuthToken(o)}),n.appCheckProvider_.addTokenChangeListener(o=>{n.server_.refreshAppCheckToken(o.token)}),n.statsReporter_=function $p(n,t){const e=n.toString();return dC[e]||(dC[e]=t()),dC[e]}(n.repoInfo_,()=>new eg(n.stats_,n.server_)),n.infoData_=new kT,n.infoSyncTree_=new fE({startListening:(o,a,h,g)=>{let E=[];const D=n.infoData_.getNode(o._path);return D.isEmpty()||(E=sc(n.infoSyncTree_,o._path,D),setTimeout(()=>{g("ok")},0)),E},stopListening:()=>{}}),ty(n,"connected",!1),n.serverSyncTree_=new fE({startListening:(o,a,h,g)=>(n.server_.listen(o,h,a,(E,D)=>{const M=g(E,D);lo(n.eventQueue_,o._path,M)}),[]),stopListening:(o,a)=>{n.server_.unlisten(o,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Uo(this._repo,Yt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _y(n,t){const e=Ng[t];(!e||e[n.key]!==n)&&io(`Database ${t}(${n.repoInfo_}) has already been deleted.`),iy(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&io("Cannot call "+t+" on a deleted database.")}}function e0(){Xu.IS_TRANSPORT_INITIALIZED&&Qr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ED(){e0(),Fa.forceDisallow()}function ID(){e0(),La.forceDisallow(),Fa.forceAllow()}function t0(n,t,e,o={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&io("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let h;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new md(md.OWNER);else if(o.mockUserToken){const g="string"==typeof o.mockUserToken?o.mockUserToken:(0,k.Sg)(o.mockUserToken,n.app.options.projectId);h=new md(g)}!function YE(n,t,e,o){n.repoInfo_=new Km(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),o&&(n.authTokenProvider_=o)}(a,t,e,h)}function DD(n,t){Lp(n,t)}const TD={".sv":"timestamp"};class MD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Tl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Tl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function bD(n){Np(ko.SDK_VERSION),(0,ko._registerComponent)(new xa.wA("database",(t,{instanceIdentifier:e})=>QE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ko.registerVersion)(Op,"0.14.4",n),(0,ko.registerVersion)(Op,"0.14.4","esm2017")}();const r0=new Oh.Yd("@firebase/database-compat"),o0=function(n){r0.warn("FIREBASE WARNING: "+n)};class vy{constructor(t){this._delegate=t}cancel(t){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const a=this._delegate.setWithPriority(t,e);return o&&a.then(()=>o(null),h=>o(h)),a}update(t,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let h=0;h<t.length;++h)a[""+h]=t[h];t=a,o0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),a=>e(a)),o}}class Cy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class za{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Od("DataSnapshot.child","path",t,!1),new za(this._database,this._delegate.child(t))}hasChild(t){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Od("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new za(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new uo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class pr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,a){var h;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const g=pr.getCancelAndContextArgs_("Query.on",o,a),E=(M,F)=>{e.call(g.context,new za(this.database,M),F)};E.userCallback=e,E.context=g.context;const D=null===(h=g.cancel)||void 0===h?void 0:h.bind(g.context);switch(t){case"value":return hy(this._delegate,E,D),e;case"child_added":return fy(this._delegate,E,D),e;case"child_removed":return WE(this._delegate,E,D),e;case"child_changed":return py(this._delegate,E,D),e;case"child_moved":return gy(this._delegate,E,D),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",o,!0),e){const a=()=>{};a.userCallback=e,a.context=o,my(this._delegate,t,a)}else my(this._delegate,t)}get(){return mf(this._delegate).then(t=>new za(this.database,t))}once(t,e,o,a){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const h=pr.getCancelAndContextArgs_("Query.once",o,a),g=new k.BH,E=(M,F)=>{const V=new za(this.database,M);e&&e.call(h.context,V,F),g.resolve(V)};E.userCallback=e,E.context=h.context;const D=M=>{h.cancel&&h.cancel.call(h.context,M),g.reject(M)};switch(t){case"value":hy(this._delegate,E,D,{onlyOnce:!0});break;case"child_added":fy(this._delegate,E,D,{onlyOnce:!0});break;case"child_removed":WE(this._delegate,E,D,{onlyOnce:!0});break;case"child_changed":py(this._delegate,E,D,{onlyOnce:!0});break;case"child_moved":gy(this._delegate,E,D,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new pr(this.database,Bo(this._delegate,function ZE(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cD(n)}(t)))}limitToLast(t){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new pr(this.database,Bo(this._delegate,function dD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new yf(n)}(t)))}orderByChild(t){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new pr(this.database,Bo(this._delegate,function fD(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Od("orderByChild","path",n,!1),new hD(n)}(t)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new pr(this.database,Bo(this._delegate,function GT(){return new pD}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new pr(this.database,Bo(this._delegate,function qE(){return new gD}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new pr(this.database,Bo(this._delegate,function _D(){return new mD}()))}startAt(t=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new pr(this.database,Bo(this._delegate,function zE(n=null,t){return Pd("startAt","key",t,!0),new lD(n,t)}(t,e)))}startAfter(t=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new pr(this.database,Bo(this._delegate,function uD(n,t){return Pd("startAfter","key",t,!0),new Og(n,t)}(t,e)))}endAt(t=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new pr(this.database,Bo(this._delegate,function jT(n,t){return Pd("endAt","key",t,!0),new GE(n,t)}(t,e)))}endBefore(t=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new pr(this.database,Bo(this._delegate,function WT(n,t){return Pd("endBefore","key",t,!0),new $T(n,t)}(t,e)))}equalTo(t,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new pr(this.database,Bo(this._delegate,function yD(n,t){return Pd("equalTo","key",t,!0),new vf(n,t)}(t,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof pr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const a={cancel:void 0,context:void 0};if(e&&o)a.cancel=e,(0,k.Wj)(t,"cancel",a.cancel,!0),a.context=o,(0,k.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new uo(this.database,new Uo(this._delegate._repo,this._delegate._path))}}class uo extends pr{constructor(t,e){super(t,new mi(e._repo,e._path,new Qp,!1)),this.database=t,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new uo(this.database,hc(this._delegate,t))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new uo(this.database,t):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new uo(this.database,this._delegate.root)}set(t,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const o=Rg(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}update(t,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let h=0;h<t.length;++h)a[""+h]=t[h];t=a,o0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ao("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const o=aD(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",o,!0);const a=function $E(n,t,e){if(ao("setWithPriority",n._path),oa("setWithPriority",t,n._path,!1),wg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const o=new k.BH;return ny(n._repo,n._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&a.then(()=>o(null),h=>o(h)),a}remove(t){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",t,!0);const e=function Mg(n){return ao("remove",n._path),Rg(n,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const a=function RD(n,t,e){var o;if(n=(0,k.m9)(n),ao("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(o=e?.applyLocally)||void 0===o||o,h=new k.BH,E=hy(n,()=>{});return function nD(n,t,e,o,a,h){cc(n,"transaction on "+t);const g={path:t,update:e,onComplete:o,status:null,order:Yv(),applyLocally:h,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=oy(n,t,void 0);g.currentInputSnapshot=E;const D=g.update(E.val());if(void 0===D)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{uc("transaction failed: Data returned ",D,g.path),g.status=0;const M=Cg(n.transactionQueueTree_,t),F=lc(M)||[];let V;F.push(g),q_(M,F),"object"==typeof D&&null!==D&&(0,k.r3)(D,".priority")?(V=(0,k.DV)(D,".priority"),(0,k.hu)(df(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(gg(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const X=hf(n),Ae=Nn(D,V),Fe=so(Ae,E,X);g.currentOutputSnapshotRaw=Ae,g.currentOutputSnapshotResolved=Fe,g.currentWriteId=bg(n);const We=j_(n.serverSyncTree_,t,Fe,g.currentWriteId,g.applyLocally);lo(n.eventQueue_,t,We),$a(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(D,M,F)=>{let V=null;D?h.reject(D):(V=new dc(F,new Uo(n._repo,n._path),yn),h.resolve(new MD(M,V)))},E,a),h.promise}(this._delegate,t,{applyLocally:o}).then(h=>new Cy(h.committed,new za(this.database,h.snapshot)));return e&&a.then(h=>e(null,h.committed,h.snapshot),h=>e(h,!1,null)),a}setPriority(t,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const o=function jE(n,t){n=(0,k.m9)(n),ao("setPriority",n._path),wg("setPriority",t,!1);const e=new k.BH;return ny(n._repo,Tn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}push(t,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const o=function sD(n,t){n=(0,k.m9)(n),ao("push",n._path),oa("push",t,n._path,!0);const e=RE(n._repo),o=Ln(e),a=hc(n,o),h=hc(n,o);let g;return g=null!=t?Rg(h,t).then(()=>h):Promise.resolve(h),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=o.then(g=>new uo(this.database,g));e&&a.then(()=>e(null),g=>e(g));const h=new uo(this.database,o);return h.then=a.then.bind(a),h.catch=a.catch.bind(a,void 0),h}onDisconnect(){return ao("Reference.onDisconnect",this._delegate._path),new vy(new BE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cf{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ED,forceLongPolling:ID}}useEmulator(t,e,o={}){t0(this._delegate,t,e,o)}ref(t){if((0,k.Dv)("database.ref",0,1,arguments.length),t instanceof uo){const e=xd(this._delegate,t.toString());return new uo(this,e)}{const e=HE(this._delegate,t);return new uo(this,e)}}refFromURL(t){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const o=xd(this._delegate,t);return new uo(this,o)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function n0(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),iy(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function wD(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function UE(n){n.persistentConnection_&&n.persistentConnection_.resume(ME)}(n._repo)}(this._delegate)}}Cf.ServerValue={TIMESTAMP:function SD(){return TD}(),increment:n=>function AD(n){return{".sv":{increment:n}}}(n)};var LD=Object.freeze({__proto__:null,initStandalone:function Ey({app:n,url:t,version:e,customAuthImpl:o,namespace:a,nodeAdmin:h=!1}){Np(e);const g=new xa.zt("auth-internal",new xa.H0("database-standalone"));return g.setComponent(new xa.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Cf(QE(n,g,void 0,t,h),n),namespace:a}}});const s0=Cf.ServerValue;!function kd(n){n.INTERNAL.registerComponent(new xa.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Cf(a,o)},"PUBLIC").setServiceProps({Reference:uo,Query:pr,Database:Cf,DataSnapshot:za,enableLogging:DD,INTERNAL:LD,ServerValue:s0}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(jm.Z);var Ef=P(3093),VD=P(4552);class zT extends Yi.x{constructor(t=1/0,e=1/0,o=VD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:a,_timestampProvider:h,_windowTime:g}=this;e||(o.push(t),!a&&o.push(h.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:a}=this,h=a.slice();for(let g=0;g<h.length&&!t.closed;g+=o?1:2)t.next(h[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:a}=this,h=(a?1:2)*t;if(t<1/0&&h<o.length&&o.splice(0,o.length-h),!a){const g=e.now();let E=0;for(let D=1;D<o.length&&o[D]<=g;D+=2)E=D;E&&o.splice(0,E+1)}}}function xg(n,t,e){let o,a=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):o=n??1/0,(0,zv.B)({connector:()=>new zT(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function kg(n,t){return(0,Ri.m)(t)?(0,Dn.w)(()=>n,t):(0,Dn.w)(()=>n)}var Iy=P(5137),Fg=P(3182);const l0=new Map,u0={activated:!1,tokenObservers:[]},zD={initialized:!1,enabled:!1};function Vn(n){return l0.get(n)||Object.assign({},u0)}function Vg(){return zD}const Dy="https://content-firebaseappcheck.googleapis.com/v1",YD="exchangeDebugToken",c0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class JD{constructor(t,e,o,a,h){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=a,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=a,a>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xo.Z)(function*(){e.stop();try{e.pending=new k.BH,yield function wf(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new k.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Sr=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ug(n){if(!Vn(n).activated)throw Sr.create("use-before-activation",{appName:n.name})}function Hg(n,t){return h0.apply(this,arguments)}function h0(){return(h0=(0,xo.Z)(function*({url:n,body:t},e){const o={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const V=yield a.getHeartbeatsHeader();V&&(o["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(t),headers:o};let g,E;try{g=yield fetch(n,h)}catch(V){throw Sr.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==g.status)throw Sr.create("fetch-status-error",{httpStatus:g.status});try{E=yield g.json()}catch(V){throw Sr.create("fetch-parse-error",{originalErrorMessage:V?.message})}const D=E.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Sr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const M=1e3*Number(D[1]),F=Date.now();return{token:E.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}})).apply(this,arguments)}function p0(n,t){const{projectId:e,appId:o,apiKey:a}=n.options;return{url:`${Dy}/projects/${e}/apps/${o}:${YD}?key=${a}`,body:{debug_token:t}}}const XD="firebase-app-check-database",eb=1,Tf="firebase-app-check-store";let jg=null;function Ty(){return(Ty=(0,xo.Z)(function*(n,t){const o=(yield function $g(){return jg||(jg=new Promise((n,t)=>{try{const e=indexedDB.open(XD,eb);e.onsuccess=o=>{n(o.target.result)},e.onerror=o=>{var a;t(Sr.create("storage-open",{originalErrorMessage:null===(a=o.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Tf,{keyPath:"compositeKey"})}}catch(e){t(Sr.create("storage-open",{originalErrorMessage:e?.message}))}}),jg)}()).transaction(Tf,"readwrite"),h=o.objectStore(Tf).put({compositeKey:n,value:t});return new Promise((g,E)=>{h.onsuccess=D=>{g()},o.onerror=D=>{var M;E(Sr.create("storage-set",{originalErrorMessage:null===(M=D.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const Af=new Oh.Yd("@firebase/app-check");function Ay(n,t){return(0,k.hl)()?function tb(n,t){return function g0(n,t){return Ty.apply(this,arguments)}(function Sy(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Af.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function My(){return Vg().enabled}function Ry(){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,xo.Z)(function*(){const n=Vg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ib={error:"UNKNOWN_ERROR"};function ob(n){return k.US.encodeString(JSON.stringify(n),!1)}function Rf(n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,xo.Z)(function*(n,t=!1){const e=n.app;Ug(e);const o=Vn(e);let h,a=o.token;if(a&&!Vl(a)&&(o.token=void 0,a=void 0),!a){const D=yield o.cachedTokenPromise;D&&(Vl(D)?a=D:yield Ay(e,void 0))}if(!t&&a&&Vl(a))return{token:a.token};let E,g=!1;if(My()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Hg(p0(e,yield Ry()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),g=!0);const D=yield o.exchangeTokenPromise;return yield Ay(e,D),o.token=D,{token:D.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),g=!0),a=yield Vn(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?Af.warn(D.message):Af.error(D),h=D}return a?h?E=Vl(a)?{token:a.token,internalError:h}:Qg(h):(E={token:a.token},o.token=a,yield Ay(e,a)):E=Qg(h),g&&function _0(n,t){const e=Vn(n).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}(e,E),E})).apply(this,arguments)}function qg(n){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,xo.Z)(function*(n){const t=n.app;Ug(t);const{provider:e}=Vn(t);if(My()){const o=yield Ry(),{token:a}=yield Hg(p0(t,o),n.heartbeatServiceProvider);return{token:a}}{const{token:o}=yield e.getToken();return{token:o}}})).apply(this,arguments)}function Yg(n,t){const e=Vn(n),o=e.tokenObservers.filter(a=>a.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function Oy(n){const{app:t}=n,e=Vn(t);let o=e.tokenRefresher;o||(o=function sb(n){const{app:t}=n;return new JD((0,xo.Z)(function*(){let o;if(o=Vn(t).token?yield Rf(n,!0):yield Rf(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=Vn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},c0.RETRIAL_MIN_WAIT,c0.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Vl(n){return n.expireTimeMillis-Date.now()>0}function Qg(n){return{token:ob(ib),error:n}}class y0{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Vn(this.app);for(const e of t)Yg(this.app,e.next);return Promise.resolve()}}const tm="app-check-internal";!function pb(){(0,ko._registerComponent)(new xa.wA("app-check",n=>function Ny(n,t){return new y0(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(tm).initialize()})),(0,ko._registerComponent)(new xa.wA(tm,n=>function xy(n){return{getToken:t=>Rf(n,t),getLimitedUseToken:()=>qg(n),addTokenListener:t=>function Py(n,t,e,o){const{app:a}=n,h=Vn(a);if(h.tokenObservers=[...h.tokenObservers,{next:e,error:o,type:t}],h.token&&Vl(h.token)){const E=h.token;Promise.resolve().then(()=>{e({token:E.token}),Oy(n)}).catch(()=>{})}h.cachedTokenPromise.then(()=>Oy(n))}(n,"INTERNAL",t),removeTokenListener:t=>Yg(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ko.registerVersion)("@firebase/app-check","0.8.0")}();class By{constructor(){return(0,pi.vb)("app-check")}}typeof window<"u"&&window;var A0=P(7142);const M0=new c.OlP("angularfire2.auth.use-emulator"),R0=new c.OlP("angularfire2.auth.settings"),P0=new c.OlP("angularfire2.auth.tenant-id"),$y=new c.OlP("angularfire2.auth.langugage-code"),Wy=new c.OlP("angularfire2.auth.use-device-language"),O0=new c.OlP("angularfire.auth.persistence"),Gy=(n,t,e,o,a,h,g,E)=>(0,ro.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=t.runOutsideAngular(()=>n.auth());if(e&&D.useEmulator(...e),o&&(D.tenantId=o),D.languageCode=a,h&&D.useDeviceLanguage(),g)for(const[M,F]of Object.entries(g))D.settings[M]=F;return E&&D.setPersistence(E),D},[e,o,a,h,g,E]);let xf=(()=>{class n{constructor(e,o,a,h,g,E,D,M,F,V,X,Ae){const Fe=new Yi.x,We=(0,ot.of)(void 0).pipe((0,Ef.Q)(g.outsideAngular),(0,Dn.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5967)))),(0,ft.U)(()=>(0,ro.on)(e,h,o)),(0,ft.U)(at=>Gy(at,h,E,M,F,V,D,X)),xg({bufferSize:1,refCount:!1}));if(Es(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{We.pipe(Kr()).subscribe();const zt=We.pipe((0,Dn.w)(en=>en.getRedirectResult().then(Pr=>Pr,()=>null)),pi.iC,xg({bufferSize:1,refCount:!1})),fn=We.pipe((0,Dn.w)(en=>new si.y(Pr=>({unsubscribe:h.runOutsideAngular(()=>en.onAuthStateChanged(Zl=>Pr.next(Zl),Zl=>Pr.error(Zl),()=>Pr.complete()))})))),Qt=We.pipe((0,Dn.w)(en=>new si.y(Pr=>({unsubscribe:h.runOutsideAngular(()=>en.onIdTokenChanged(Zl=>Pr.next(Zl),Zl=>Pr.error(Zl),()=>Pr.complete()))}))));this.authState=zt.pipe(kg(fn),(0,Iy.R)(g.outsideAngular),(0,Ef.Q)(g.insideAngular)),this.user=zt.pipe(kg(Qt),(0,Iy.R)(g.outsideAngular),(0,Ef.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,Dn.w)(en=>en?(0,qt.D)(en.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe((0,Dn.w)(en=>en?(0,qt.D)(en.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,Hm.T)(zt,Fe,this.authState.pipe(Ni(en=>!en))).pipe((0,ft.U)(en=>en?.user?en:null),(0,Iy.R)(g.outsideAngular),(0,Ef.Q)(g.insideAngular))}return(0,ro.pX)(this,We,h,{spy:{apply:(at,zt,fn)=>{(at.startsWith("signIn")||at.startsWith("createUser"))&&fn.then(Qt=>Fe.next(Qt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ro.Dh),c.LFG(ro.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(pi.HU),c.LFG(M0,8),c.LFG(R0,8),c.LFG(P0,8),c.LFG($y,8),c.LFG(Wy,8),c.LFG(O0,8),c.LFG(By,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vb=(()=>{class n{constructor(){A0.Z.registerVersion("angularfire",pi.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xf]}),n})();function x0(n){return null==n}function zy(n){return"function"==typeof n.set}function Zy(n,t){return zy(t)?t:n.ref(t)}function qy(n,t){if(function Cb(n){return"string"==typeof n}(n))return t.stringCase();if(zy(n))return t.firebaseCase();if(function N0(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Vd(n,t,e="on",o=MT.z){return new si.y(a=>{let h=null;return h=n[e](t,(g,E)=>{o.schedule(()=>{a.next({snapshot:g,prevKey:E})}),"once"===e&&o.schedule(()=>a.complete())},g=>{o.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=h&&n.off(t,h)}}:{unsubscribe(){}}}).pipe((0,ft.U)(a=>{const{snapshot:h,prevKey:g}=a;let E=null;return h.exists()&&(E=h.key),{type:t,payload:h,prevKey:g,key:E}}),(0,zv.B)())}function k0(n,t){const e=n.length;for(let o=0;o<e;o++)if(n[o].payload.key===t)return o;return-1}function F0(n,t){const{payload:e,prevKey:o,key:a}=t,h=k0(n,a),g=function oS(n,t){if(x0(t))return 0;{const e=k0(n,t);return-1===e?n.length:e+1}}(n,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(D=>{const M={payload:D,type:"value",prevKey:E,key:D.key};return E=D.key,n=[...n,M],!1})}return n;case"child_added":if(h>-1){const E=n[h-1];(E&&E.key||null)!==o&&(n=n.filter(D=>D.payload.key!==e.key)).splice(g,0,t)}else{if(null==o)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(E=>E.payload.key!==e.key);case"child_changed":return n.map(E=>E.payload.key===a?t:E);case"child_moved":if(h>-1){const E=n.splice(h,1)[0];return(n=n.slice()).splice(g,0,E),n}return n;default:return n}}function Ib(n){return(x0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function wb(n,t,e){return function Eb(n,t,e){return Vd(n,"value","once",e).pipe((0,Dn.w)(o=>{const a=[(0,ot.of)(o)];return t.forEach(h=>a.push(Vd(n,h,"on",e))),(0,Hm.T)(...a).pipe(To(F0,[]))}),(0,RT.x)())}(n,t=Ib(t),e)}function Db(n,t,e){const o=(t=Ib(t)).map(a=>Vd(n,a,"on",e));return(0,Hm.T)(...o)}function bb(n,t){return function(o,a){return qy(o,{stringCase:()=>n.child(o)[t](a),firebaseCase:()=>o[t](a),snapshotCase:()=>o.ref[t](a)})}}function uS(n){return function(e){return e?qy(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Ky(n,t){return function(){return Vd(n,"value","on",t)}}const L0=new c.OlP("angularfire2.realtimeDatabaseURL"),Tb=new c.OlP("angularfire2.database.use-emulator");let Ul=(()=>{class n{constructor(e,o,a,h,g,E,D,M,F,V,X,Ae,Fe,We,at){this.schedulers=E;const zt=D,fn=(0,ro.on)(e,g,o);M&&Gy(fn,g,F,X,Ae,Fe,V,We),this.database=(0,ro.cc)(`${fn.name}.database.${a}`,"AngularFireDatabase",fn.name,()=>{const Qt=g.runOutsideAngular(()=>fn.database(a||void 0));return zt&&Qt.useEmulator(...zt),Qt},[zt])}list(e,o){const a=this.schedulers.ngZone.runOutsideAngular(()=>Zy(this.database,e));let h=a;return o&&(h=o(a)),function cS(n,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:bb(o,"update"),set:bb(o,"set"),push:a=>o.push(a),remove:uS(o),snapshotChanges:a=>wb(n,a,e).pipe(pi.iC),stateChanges:a=>Db(n,a,e).pipe(pi.iC),auditTrail:a=>function sS(n,t,e){return function lS(n,t,e){return function aS(n,t){return Vd(n,"value","on",t).pipe((0,ft.U)(e=>{let o;return e.payload.forEach(a=>(o=a.key,!1)),{data:e,lastKeyToLoad:o}}))}(n,e).pipe(function Rp(...n){const t=(0,ai.jO)(n);return(0,qr.e)((e,o)=>{const a=n.length,h=new Array(a);let g=n.map(()=>!1),E=!1;for(let D=0;D<a;D++)(0,Ki.Xf)(n[D]).subscribe((0,ur.x)(o,M=>{h[D]=M,!E&&!g[D]&&(g[D]=!0,(E=g.every(Pi.y))&&(g=null))},PT.Z));e.subscribe((0,ur.x)(o,D=>{if(E){const M=[D,...h];o.next(t?t(...M):M)}}))})}(t),(0,ft.U)(([a,h])=>{const g=a.lastKeyToLoad,E=h.map(D=>D.key);return{actions:h,lastKeyToLoad:g,loadedKeys:E}}),function sw(n){return(0,qr.e)((t,e)=>{let o=!1,a=0;t.subscribe((0,ur.x)(e,h=>(o||(o=!n(h,a++)))&&e.next(h)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,ft.U)(a=>a.actions))}(n,Db(n,t).pipe(To((a,h)=>[...a,h],[])),e)}(n,a,e).pipe(pi.iC),valueChanges:(a,h)=>wb(n,a,e).pipe((0,ft.U)(E=>E.map(D=>h&&h.idField?Object.assign(Object.assign({},D.payload.val()),{[h.idField]:D.key}):D.payload.val())),pi.iC)}}(h,this)}object(e){return function Yy(n,t){return{query:n,snapshotChanges:()=>Ky(n,t.schedulers.outsideAngular)().pipe(pi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Ky(n,t.schedulers.outsideAngular)().pipe(pi.iC,(0,ft.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Zy(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ro.Dh),c.LFG(ro.xv,8),c.LFG(L0,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(pi.HU),c.LFG(Tb,8),c.LFG(xf,8),c.LFG(M0,8),c.LFG(R0,8),c.LFG(P0,8),c.LFG($y,8),c.LFG(Wy,8),c.LFG(O0,8),c.LFG(By,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sb=(()=>{class n{constructor(){A0.Z.registerVersion("angularfire",pi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ul]}),n})(),Ab=(()=>{class n{constructor(e){this.afdb=e,this.items=[]}addToCart(e){this.items.push(e),this.saveCart()}saveCart(){localStorage.setItem("cart_items",JSON.stringify(this.items))}getItems(){return this.items}loadCart(){return this.items=JSON.parse(localStorage.getItem("cart_items"))||[],this.items}productInCart(e){return this.items.findIndex(o=>o.id===e.id)>-1}removeProduct(e){const o=this.items.findIndex(a=>a.id===e.id);o>-1&&(this.items.splice(o,1),this.saveCart())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ul))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ud=(()=>{class n{constructor(e,o,a){this.auth=e,this.router=o,this.afdb=a,this.auth.authState.subscribe(h=>{h?(this.userdata=h,localStorage.setItem("user",JSON.stringify(this.userdata)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}login(e,o){return this.auth.signInWithEmailAndPassword(e,o).then(a=>{this.auth.authState.subscribe(h=>{h&&this.router.navigate(["stroller/catalog"])})}).catch(a=>{alert(a.message)})}register(e,o){return this.auth.createUserWithEmailAndPassword(e,o).then(a=>{this.setUserData(a.user?.uid,a.user?.email),this.router.navigate(["stroller/catalog"])}).catch(a=>{alert(a.message)})}setUserData(e,o){const a={email:o,rent:[{brand:"",image:"",id:""}]};this.afdb.database.ref("users/"+e).update(a).then(()=>{console.log("User data saved!")}).catch(h=>{console.error(h)})}get userId(){return JSON.parse(localStorage.getItem("user")).uid}get isLoggedIn(){return!!JSON.parse(localStorage.getItem("user"))}getUserData(e){return this.afdb.object("/users/"+e)}logout(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("cart_items"),this.router.navigate([""])})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xf),c.LFG(Dr),c.LFG(Ul))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V0=(()=>{class n{constructor(e){this.db=e,this.dbPathData="/data",this.strollersRef=e.list(this.dbPathData)}getStrollers(){return this.strollersRef}getStroller(e){return this.db.object(this.dbPathData+`/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ul))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-loader"]],decls:12,vars:0,consts:[[1,"container"],[1,"row"],["id","loader"],[1,"dot"],[1,"loading"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"div",3)(4,"div",3)(5,"div",3)(6,"div",3)(7,"div",3)(8,"div",3)(9,"div",3)(10,"div",3)(11,"div",4),c.qZA()()())},styles:['#loader[_ngcontent-%COMP%]{height:175px;inset:0;margin:auto;position:absolute;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:100%;inset:0;margin:auto;position:absolute;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running _ngcontent-%COMP%_load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running _ngcontent-%COMP%_load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running _ngcontent-%COMP%_load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running _ngcontent-%COMP%_load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running _ngcontent-%COMP%_load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running _ngcontent-%COMP%_load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running _ngcontent-%COMP%_load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running _ngcontent-%COMP%_load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes _ngcontent-%COMP%_load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%]{text-align:center}']}),n})();function Mb(n,t){1&n&&c._UZ(0,"app-loader")}function Rb(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",4)(1,"div",5)(2,"p",6),c._uU(3),c.qZA(),c._UZ(4,"img",7),c.TgZ(5,"p",8),c._uU(6),c.ALo(7,"currency"),c.qZA(),c.TgZ(8,"p")(9,"a",9),c._uU(10,"Continue shopping"),c.qZA()(),c.TgZ(11,"a",10),c.NdJ("click",function(){const h=c.CHM(e).$implicit,g=c.oxw(2);return c.KtG(g.rent(h))}),c._uU(12,"Rent it"),c.qZA(),c.TgZ(13,"a",11),c.NdJ("click",function(){const h=c.CHM(e).$implicit,g=c.oxw(2);return c.KtG(g.removeItem(h))}),c._uU(14,"Remove it"),c.qZA()()()}if(2&n){const e=t.$implicit,o=c.oxw(2);c.xp6(3),c.hij("Barnd: ",null==e?null:e.brand,""),c.xp6(1),c.s9C("src",null==e?null:e.image,c.LSH),c.xp6(2),c.hij("Price: ",c.lcZ(7,4,null==e?null:e.price),""),c.xp6(5),c.MGl("routerLink","/auth/profile/",o.userId,"")}}function Pb(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,Mb,1,0,"app-loader",1),c.YNc(2,Rb,15,6,"div",3),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",!e.items),c.xp6(1),c.Q6J("ngForOf",e.items)}}function dS(n,t){1&n&&(c.TgZ(0,"div",5)(1,"h2"),c._uU(2,"Your shopping cart is empty!"),c.qZA(),c.TgZ(3,"div",12)(4,"a",9),c._uU(5,"Continue"),c.qZA()()())}const U0=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"home",component:AT},{path:"cart",component:(()=>{class n{constructor(e,o,a,h,g){this.afdb=e,this.cartService=o,this.authService=a,this.strollerService=h,this.activatedRoute=g,this.items=[]}ngOnInit(){this.userId=this.authService.userdata?.uid,console.log(this.userId),this.authService.getUserData(this.userId).valueChanges().subscribe(e=>{e&&(this.currentUser=e)}),this.items=this.cartService.loadCart(),this.haveItems=this.items.length>0}rent(e){this.currentStroller=e,console.log(this.currentStroller);let o=this.currentStroller;if(void 0!==o){let a=o?.brand,h=o?.image,g=o.id;if(this.currentUser.rent)if(""==this.currentUser.rent[0].brand)g&&this.currentUser.rent.splice(0,1,{brand:a,image:h,id:g});else{if(this.currentUser.rent.find(({id:M})=>M===g))return void alert("This stroller is alredy rent for you!");let D=g;D&&this.currentUser?.rent.push({brand:a,image:h,id:D})}this.afdb.database.ref("users/"+this.userId).update(this.currentUser),this.cartService.removeProduct(e)}}removeItem(e){this.cartService.removeProduct(e),this.items=this.cartService.getItems(),this.haveItems=this.items.length>0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ul),c.Y36(Ab),c.Y36(Ud),c.Y36(V0),c.Y36(Fi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart"]],decls:5,vars:2,consts:[["id","details"],[4,"ngIf"],["id","details-description",4,"ngIf"],["id","details-wrapper",4,"ngFor","ngForOf"],["id","details-wrapper"],["id","details-description"],["id","details-title"],["id","details-img",3,"src"],["id","details-price"],["routerLink","/stroller/catalog",1,"rent-btn"],[1,"rent-btn",3,"routerLink","click"],["routerLink","/cart",1,"rent-btn",3,"click"],["id","rentBtn"]],template:function(e,o){1&e&&(c.TgZ(0,"section",0)(1,"h2"),c._uU(2,"Shopping Cart"),c.qZA(),c.YNc(3,Pb,3,2,"div",1),c.YNc(4,dS,6,0,"div",2),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf",o.haveItems),c.xp6(1),c.Q6J("ngIf",!o.haveItems))},dependencies:[ms,ni,Zs,kf,Jl],styles:["#details-wrapper[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto;height:71%;width:60%;border:2px ridge rgb(210,208,208);box-shadow:0 0 10px #0003,0 3px 3px #0000003d}#rentBtn[_ngcontent-%COMP%]{text-align:center}#details-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:10px auto;height:30vh;width:40vh}#details-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:20px}#details-category[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:15px}#details-price[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:13px}#details-description[_ngcontent-%COMP%]{width:85%;margin:30px auto;height:auto;text-align:center}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{text-align:center;font-size:19px}span[_ngcontent-%COMP%]{font-size:17px}#action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:25px}#action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;margin:auto 50px;font-size:21px;width:130px;padding:10px;text-align:center;color:#fff;background:rgb(231,103,124);border-radius:5px}.rent-btn[_ngcontent-%COMP%]{text-decoration:none;font-size:23px;width:160px;border-radius:3px;text-align:center;color:#fff;background:rgb(231,103,124);margin:2px}"]}),n})()}];let B0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[No.forRoot(U0),No]}),n})(),fS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart-bar"]],decls:4,vars:0,consts:[["routerLink","/cart","id","cart"],["id","logo-img","src","../../../assets/image/263142.png"]],template:function(e,o){1&e&&(c.TgZ(0,"nav")(1,"a",0),c._UZ(2,"img",1),c._uU(3,"Shopping Cart"),c.qZA()())},dependencies:[Zs],styles:["nav[_ngcontent-%COMP%]{height:0px;margin-bottom:40px;display:flex;justify-content:space-between;padding:0 32px}#logo-img[_ngcontent-%COMP%]{height:30px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;color:#f00e34;font-weight:400}#cart[_ngcontent-%COMP%]{margin-top:-7px;text-decoration:none}"]}),n})();function ds(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",5)(1,"a",6),c._uU(2,"My profile"),c.qZA(),c.TgZ(3,"a",7),c.NdJ("click",function(){c.CHM(e);const a=c.oxw();return c.KtG(a.logout())}),c._uU(4,"Logout"),c.qZA(),c._UZ(5,"app-cart-bar"),c.qZA()}if(2&n){const e=c.oxw();c.xp6(1),c.MGl("routerLink","/auth/profile/",e.userId,"")}}function H0(n,t){1&n&&(c.TgZ(0,"div",8)(1,"a",9),c._uU(2,"Login"),c.qZA(),c.TgZ(3,"a",10),c._uU(4,"Register"),c.qZA()())}let Ob=(()=>{class n{constructor(e,o){this.authService=e,this.router=o}get isLoggedIn(){return this.authService.isLoggedIn}get userId(){return this.currentUserId=this.authService.userId,this.authService.userId}ngOnInit(){}logout(){this.authService.logout(),this.router.navigate(["/auth/login"])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ud),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:9,vars:2,consts:[["id","logo","href","/"],["id","logo-img","src","../../../assets/image/collection-baby-carriage-cliparts-6.png","alt",""],["routerLink","/stroller/catalog"],["class","user",4,"ngIf"],["class","guest",4,"ngIf"],[1,"user"],[3,"routerLink"],[3,"click"],[1,"guest"],["routerLink","/auth/login"],["routerLink","/auth/register"]],template:function(e,o){1&e&&(c.TgZ(0,"header")(1,"a",0),c._UZ(2,"img",1),c.qZA(),c.TgZ(3,"nav")(4,"div")(5,"a",2),c._uU(6,"Products"),c.qZA()(),c.YNc(7,ds,6,1,"div",3),c.YNc(8,H0,5,0,"div",4),c.qZA()()),2&e&&(c.xp6(7),c.Q6J("ngIf",o.isLoggedIn),c.xp6(1),c.Q6J("ngIf",!o.isLoggedIn))},dependencies:[ni,Zs,fS],styles:["header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3em 3em;background:rgb(245,219,223);border-bottom:3px dotted rgb(231,103,124);width:91vw}nav[_ngcontent-%COMP%]{height:0px;margin-bottom:46px;display:flex}#logo-img[_ngcontent-%COMP%]{height:60px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.5rem;color:#f00e34;font-weight:400}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 10px;text-decoration:none}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#790d0d}"]}),n})(),pS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,template:function(e,o){1&e&&(c.TgZ(0,"footer")(1,"p"),c._uU(2,"@Baby rent a car"),c.qZA()())},styles:["footer[_ngcontent-%COMP%]{background-color:#e0ecf1;color:#f00e34;font-weight:bolder;text-align:center;position:fixed;bottom:0;left:0;width:100%;height:28px}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:-1px}"]}),n})(),_i=(()=>{class n{constructor(){this.title="app"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,o){1&e&&c._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[ld,Ob,pS]}),n})();const j0_firebase={apiKey:"AIzaSyC-JAyRIrtj1LNgtUhaJTHO2QCBqLfHeuE",authDomain:"babyrentacar-b0505.firebaseapp.com",databaseURL:"https://babyrentacar-b0505-default-rtdb.firebaseio.com",projectId:"babyrentacar-b0505",storageBucket:"babyrentacar-b0505.appspot.com",messagingSenderId:"472232355864",appId:"1:472232355864:web:b4a2a458493ad432327b6d",measurementId:"G-NFVYTKDSRT"};!function yy(n=(0,ko.getApp)(),t){const e=(0,ko._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const o=(0,k.P0)("database");o&&t0(e,...o)}}((0,Fg.ZF)(j0_firebase));let nm=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Bl=(()=>{class n extends nm{}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const hs=new c.OlP("NgValueAccessor"),$0={provide:hs,useExisting:(0,c.Gpc)(()=>Ff),multi:!0},G0=new c.OlP("CompositionEventMode");let Ff=(()=>{class n extends nm{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W0(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(G0,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&c.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[c._Bn([$0]),c.qOj]}),n})();function Za(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function z0(n){return null!=n&&"number"==typeof n.length}const Ar=new c.OlP("NgValidators"),yi=new c.OlP("NgAsyncValidators"),Z0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function kb(n){return Za(n.value)?{required:!0}:null}function Y0(n){return Za(n.value)||Z0.test(n.value)?null:{email:!0}}function Lf(n){return null}function Fb(n){return null!=n}function ev(n){return(0,c.QGY)(n)?(0,qt.D)(n):n}function eI(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function tv(n,t){return t.map(e=>e(n))}function im(n){return n.map(t=>function mS(n){return!n.validate}(t)?t:e=>t.validate(e))}function om(n){return null!=n?function nv(n){if(!n)return null;const t=n.filter(Fb);return 0==t.length?null:function(e){return eI(tv(e,t))}}(im(n)):null}function sm(n){return null!=n?function tI(n){if(!n)return null;const t=n.filter(Fb);return 0==t.length?null:function(e){return function Nb(...n){const t=(0,ai.jO)(n),{args:e,keys:o}=ll(n),a=new si.y(h=>{const{length:g}=e;if(!g)return void h.complete();const E=new Array(g);let D=g,M=g;for(let F=0;F<g;F++){let V=!1;(0,Ki.Xf)(e[F]).subscribe((0,ur.x)(h,X=>{V||(V=!0,M--),E[F]=X},()=>D--,void 0,()=>{(!D||!V)&&(M||h.next(o?Eo(o,E):E),h.complete())}))}});return t?a.pipe(Fs(t)):a}(tv(e,t).map(ev)).pipe((0,ft.U)(eI))}}(im(n)):null}function rv(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function am(n){return n?Array.isArray(n)?n:[n]:[]}function Uf(n,t){return Array.isArray(n)?n.includes(t):n===t}function nI(n,t){const e=am(t);return am(n).forEach(a=>{Uf(e,a)||e.push(a)}),e}function rI(n,t){return am(t).filter(e=>!Uf(n,e))}class Lb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=om(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=sm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ei extends Lb{get formDirective(){return null}get path(){return null}}class Hl extends Lb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oI=(()=>{class n extends iI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Hl,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&c.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[c.qOj]}),n})(),lm=(()=>{class n extends iI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ei,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&c.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[c.qOj]}),n})();const Bf="VALID",Bd="INVALID",$l="PENDING",Wl="DISABLED";function cI(n){return(cm(n)?n.validators:n)||null}function dI(n,t){return(cm(t)?t.asyncValidators:n)||null}function cm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class gI{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Bf}get invalid(){return this.status===Bd}get pending(){return this.status==$l}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rI(t,this._rawAsyncValidators))}hasValidator(t){return Uf(this._rawValidators,t)}hasAsyncValidator(t){return Uf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$l,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bf,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bf||this.status===$l)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:Bf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator=!0;const e=ev(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,a)=>o&&o._find(a),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?Bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(Bd)?Bd:Bf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function ES(n){return Array.isArray(n)?om(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function hI(n){return Array.isArray(n)?sm(n):n||null}(this._rawAsyncValidators)}}class dm extends gI{constructor(t,e,o){super(cI(e),dI(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function pI(n,t,e){n._forEachChild((o,a)=>{if(void 0===e[a])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(o=>{(function fI(n,t,e){const o=n.controls;if(!(t?Object.keys(o):o).length)throw new c.vHH(1e3,"");if(!o[e])throw new c.vHH(1001,"")})(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const a=this.controls[o];a&&a.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,a)=>((o.enabled||this.disabled)&&(e[a]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((a,h)=>{o=e(o,a,h)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const gc=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hd}),Hd="always";function jd(n,t,e=Hd){mI(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Wb(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_I(n,t)})}(n,t),function zb(n,t){const e=(o,a)=>{t.valueAccessor.writeValue(o),a&&t.viewToModelUpdate(o)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Gb(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_I(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $b(n,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mI(n,t){const e=function pc(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(rv(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const o=function Vf(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(rv(o,t.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const a=()=>n.updateValueAndValidity();hm(t._rawValidators,a),hm(t._rawAsyncValidators,a)}function _I(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const wS={provide:ei,useExisting:(0,c.Gpc)(()=>Gl)},jf=(()=>Promise.resolve())();let Gl=(()=>{class n extends ei{constructor(e,o,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new dm({},om(e),sm(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jf.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),jd(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jf.then(()=>{const o=this._findContainer(e.path),a=new dm({});(function lv(n,t){mI(n,t)})(a,e),o.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){jf.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function vI(n,t){n._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ar,10),c.Y36(yi,10),c.Y36(gc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&c.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([wS]),c.qOj]}),n})();function Qb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function EI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jb=class extends gI{constructor(t=null,e,o){super(cI(e),dI(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=EI(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){EI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},DS={provide:Hl,useExisting:(0,c.Gpc)(()=>hv)},rT=(()=>Promise.resolve())();let hv=(()=>{class n extends Hl{constructor(e,o,a,h,g,E){super(),this._changeDetectorRef=g,this.callSetDisabledState=E,this.control=new Jb,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function dv(n,t){if(!t)return null;let e,o,a;return Array.isArray(t),t.forEach(h=>{h.constructor===Ff?e=h:function cv(n){return Object.getPrototypeOf(n.constructor)===Bl}(h)?o=h:a=h}),a||o||e||null}(0,h)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function uv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){rT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=0!==o&&(0,c.VuI)(o);rT.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function sv(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ei,9),c.Y36(Ar,10),c.Y36(yi,10),c.Y36(hs,10),c.Y36(c.sBO,8),c.Y36(gc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([DS]),c.qOj,c.TTD]}),n})(),II=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),s=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function bS(n){return"number"==typeof n?n:parseInt(n,10)}let $f=(()=>{class n{constructor(){this._validator=Lf}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Lf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const hA={provide:Ar,useExisting:(0,c.Gpc)(()=>fv),multi:!0};let fv=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=e=>kb}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&c.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([hA]),c.qOj]}),n})();const pA={provide:Ar,useExisting:(0,c.Gpc)(()=>lT),multi:!0};let lT=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.VuI,this.createValidator=e=>Y0}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([pA]),c.qOj]}),n})();const gA={provide:Ar,useExisting:(0,c.Gpc)(()=>uT),multi:!0};let uT=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>bS(e),this.createValidator=e=>function Q0(n){return t=>Za(t.value)||!z0(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&c.uIk("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([gA]),c.qOj]}),n})();const mA={provide:Ar,useExisting:(0,c.Gpc)(()=>cT),multi:!0};let cT=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>bS(e),this.createValidator=e=>function J0(n){return t=>z0(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&c.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([mA]),c.qOj]}),n})();const _A={provide:Ar,useExisting:(0,c.Gpc)(()=>dT),multi:!0};let dT=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>function X0(n){if(!n)return Lf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),o=>{if(Za(o.value))return null;const a=o.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(e)}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&c.uIk("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([_A]),c.qOj]}),n})(),yA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s]}),n})(),CA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:gc,useValue:e.callSetDisabledState??Hd}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yA]}),n})(),EA=(()=>{class n{constructor(e,o){this.authService=e,this.router=o}login(e){if(e.invalid)return;const{email:o,password:a}=e.value;this.authService.login(o,a)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ud),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:0,consts:[["id","login"],[1,"form"],[1,"login-form",3,"ngSubmit"],["LoginForm","ngForm"],["type","text","name","email","id","email","placeholder","email","ngModel","","required",""],["inputEmail","ngModel"],["type","password","name","password","id","password","placeholder","password","ngModel","","required",""],["inputPassword","ngModel"],["type","submit"],[1,"message"],["routerLink","/auth/register"]],template:function(e,o){if(1&e){const a=c.EpF();c.TgZ(0,"section",0)(1,"div",1)(2,"h2"),c._uU(3,"Login"),c.qZA(),c.TgZ(4,"form",2,3),c.NdJ("ngSubmit",function(){c.CHM(a);const g=c.MAs(5);return c.KtG(o.login(g))}),c._UZ(6,"input",4,5)(8,"input",6,7),c.TgZ(10,"button",8),c._uU(11,"login"),c.qZA(),c.TgZ(12,"p",9),c._uU(13," Not registered? "),c.TgZ(14,"a",10),c._uU(15,"Create an account"),c.qZA()()()()()}},dependencies:[Zs,II,Ff,oI,lm,fv,hv,Gl],styles:['@import"https://fonts.googleapis.com/css?family=Roboto:300";.login-page[_ngcontent-%COMP%]{width:360px;padding:8% 0 0;margin:auto}.form[_ngcontent-%COMP%]{background:rgb(248,231,234);max-width:440px;margin:50px auto;padding:45px;text-align:center;border-radius:10px;border:1px solid;box-shadow:0 0 20px #0003,0 5px 5px #0000003d}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:50px;font-size:30px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0;background:#f2f2f2;width:100%;height:50px;border:0;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px}.form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgb(206,206,206);width:99%;max-width:99%;min-width:99%;min-height:50px;margin-bottom:10px;background-color:#f2f2f2}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Alkalami,serif;font-family:Kaushan Script,cursive;text-transform:uppercase;outline:0;background:rgb(231,103,124);width:100%;border:0;padding:15px;color:#fff;font-size:14px;cursor:pointer;border-radius:5px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#bd2c2c}.container[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:300px;margin:0 auto}.container[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:15px 0 0;color:#6b6767;font-size:17px}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bd2c2c;text-decoration:none}']}),n})();function IA(n,t){1&n&&c._UZ(0,"app-loader")}function wA(n,t){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"img",6),c.TgZ(2,"p"),c._uU(3),c.qZA()()),2&n){const e=t.$implicit;c.xp6(1),c.s9C("src",e.image,c.LSH),c.xp6(2),c.Oqu(e.brand)}}function DA(n,t){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,wA,4,2,"div",5),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",null==e.currentUser?null:e.currentUser.rent)}}function bA(n,t){1&n&&(c.TgZ(0,"div")(1,"p",7),c._uU(2,"You don`t have rent stroller."),c.qZA()())}let TA=(()=>{class n{constructor(e,o){this.authService=e,this.activatedRoute=o,this.haveRentStroller=!1}ngOnInit(){this.retriveUser()}get userEmail(){return this.authService.userdata?.email}retriveUser(){this.authService.getUserData(this.activatedRoute.snapshot.params.userId).valueChanges().subscribe(o=>{o&&(this.currentUser=o,this.currentUser.rent&&""!==this.currentUser.rent[0].brand&&(this.haveRentStroller=!0))})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ud),c.Y36(Fi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:12,vars:4,consts:[["id","user-profile-page",1,"user-profile"],[4,"ngIf"],[1,"user-info"],[1,"user-content"],["id","details-wrapper"],[4,"ngFor","ngForOf"],[1,"details-img",3,"src"],[1,"no-memes"]],template:function(e,o){1&e&&(c.TgZ(0,"section",0),c.YNc(1,IA,1,0,"app-loader",1),c.TgZ(2,"article",2)(3,"div",3)(4,"p"),c._uU(5),c.qZA()()(),c.TgZ(6,"div",4)(7,"div")(8,"h1"),c._uU(9,"My rent stroller"),c.qZA(),c.YNc(10,DA,2,1,"div",1),c.qZA(),c.YNc(11,bA,3,0,"div",1),c.qZA()()),2&e&&(c.xp6(1),c.Q6J("ngIf",!o.currentUser),c.xp6(4),c.hij("Email: ",null==o.currentUser?null:o.currentUser.email,""),c.xp6(5),c.Q6J("ngIf",o.haveRentStroller),c.xp6(1),c.Q6J("ngIf",!o.haveRentStroller))},dependencies:[ms,ni,kf],styles:[".user-profile[_ngcontent-%COMP%]{background:rgb(248,231,234);max-width:440px;margin:50px auto;padding:45px;text-align:center;border-radius:10px;border:1px solid;box-shadow:0 0 20px #0003,0 5px 5px #0000003d}.user-profile[_ngcontent-%COMP%]{margin-bottom:50px;font-size:30px}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Alkalami,serif;font-family:Kaushan Script,cursive;text-transform:uppercase;outline:0;background:rgb(231,103,124);width:100%;border:0;padding:15px;color:#fff;font-size:14px;cursor:pointer;border-radius:5px}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#bd2c2c}#details-wrapper[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto;height:71%;width:71%;border:2px ridge rgb(210,208,208);box-shadow:0 0 10px #0003,0 3px 3px #0000003d}#details-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:10px auto;height:30vh;width:40vh}"]}),n})();function SA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Email is required"),c.qZA()())}function AA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"This doesn't seem like a real email"),c.qZA()())}function MA(n,t){if(1&n&&(c.TgZ(0,"div",14),c.YNc(1,SA,3,0,"div",15),c.YNc(2,AA,3,0,"div",15),c.qZA()),2&n){c.oxw();const e=c.MAs(7);c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.email)}}function RA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Password is required"),c.qZA()())}function PA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Password should be at least 6 characters long"),c.qZA()())}function OA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Password should be no more than 25 characters long"),c.qZA()())}function NA(n,t){if(1&n&&(c.TgZ(0,"div",14),c.YNc(1,RA,3,0,"div",15),c.YNc(2,PA,3,0,"div",15),c.YNc(3,OA,3,0,"div",15),c.qZA()),2&n){c.oxw();const e=c.MAs(10);c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.minlength),c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.maxlength)}}function xA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Repeat password is required"),c.qZA()())}function kA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"Password and repeat password don't match"),c.qZA()())}function FA(n,t){if(1&n&&(c.TgZ(0,"div",14),c.YNc(1,xA,3,0,"div",15),c.YNc(2,kA,3,0,"div",15),c.qZA()),2&n){c.oxw();const e=c.MAs(13);c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.required),c.xp6(1),c.Q6J("ngIf",null==e.errors?null:e.errors.pattern)}}const LA=[{path:"auth",children:[{path:"login",component:EA},{path:"register",component:(()=>{class n{constructor(e,o){this.authService=e,this.router=o}register(e){if(e.invalid)return;const{email:o,password:a}=e.value;this.authService.register(o,a)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ud),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:4,consts:[["id","register"],[1,"form"],[1,"register-form",3,"ngSubmit"],["registerForm","ngForm"],["type","text","name","email","id","register-email","placeholder","email","ngModel","","email","","required",""],["inputEmail","ngModel"],["class","alert",4,"ngIf"],["type","password","name","password","id","register-password","placeholder","password","ngModel","","required","","minlength","6","maxlength","25"],["inputPassword","ngModel"],["type","password","name","re-password","id","repeat-password","placeholder","repeat password","ngModel","","required","",3,"pattern"],["inputRePassword","ngModel"],["type","submit"],[1,"message"],["routerLink","/auth/login"],[1,"alert"],[4,"ngIf"]],template:function(e,o){if(1&e){const a=c.EpF();c.TgZ(0,"section",0)(1,"div",1)(2,"h2"),c._uU(3,"Register"),c.qZA(),c.TgZ(4,"form",2,3),c.NdJ("ngSubmit",function(){c.CHM(a);const g=c.MAs(5);return c.KtG(o.register(g))}),c._UZ(6,"input",4,5),c.YNc(8,MA,3,2,"div",6),c._UZ(9,"input",7,8),c.YNc(11,NA,4,3,"div",6),c._UZ(12,"input",9,10),c.YNc(14,FA,3,2,"div",6),c.TgZ(15,"button",11),c._uU(16,"register"),c.qZA(),c.TgZ(17,"p",12),c._uU(18,"Already registered? "),c.TgZ(19,"a",13),c._uU(20,"Login"),c.qZA()()()()()}if(2&e){const a=c.MAs(7),h=c.MAs(10),g=c.MAs(13);c.xp6(8),c.Q6J("ngIf",a.invalid&&(a.dirty||a.touched)),c.xp6(3),c.Q6J("ngIf",h.invalid&&(h.dirty||h.touched)),c.xp6(1),c.s9C("pattern",h.value),c.xp6(2),c.Q6J("ngIf",g.invalid&&h.dirty)}},dependencies:[ni,Zs,II,Ff,oI,lm,fv,uT,cT,dT,lT,hv,Gl],styles:['.form[_ngcontent-%COMP%]{background:rgb(248,231,234);max-width:440px;margin:50px auto;padding:45px;text-align:center;border-radius:10px;border:1px solid;box-shadow:0 0 20px #0003,0 5px 5px #0000003d}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:50px;font-size:30px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0;background:#f2f2f2;width:100%;height:50px;border:0;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px}.form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid rgb(206,206,206);width:99%;max-width:99%;min-width:99%;min-height:50px;margin-bottom:10px;background-color:#f2f2f2}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Alkalami,serif;font-family:Kaushan Script,cursive;text-transform:uppercase;outline:0;background:rgb(231,103,124);width:100%;border:0;padding:15px;color:#fff;font-size:14px;cursor:pointer;border-radius:5px}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#bd2c2c}.container[_ngcontent-%COMP%]{position:relative;z-index:1;max-width:300px;margin:0 auto}.container[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:15px 0 0;color:#6b6767;font-size:17px}.form[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bd2c2c;text-decoration:none}']}),n})()},{path:"profile/:userId",component:TA,canActivate:[(()=>{class n{constructor(e){this.authService=e}canActivate(e,o){return this.authService.isLoggedIn}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ud))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}]}];let VA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[No.forChild(LA),No]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gn,No]}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gn,VA,CA,No,DI]}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gn,No,UA]}),n})();function HA(n,t){1&n&&c._UZ(0,"app-loader")}function jA(n,t){if(1&n&&(c.TgZ(0,"section",2)(1,"div",3),c._UZ(2,"img",4),c.TgZ(3,"p",5),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.qZA(),c.TgZ(7,"p"),c._uU(8,"Price:"),c.TgZ(9,"span",6),c._uU(10),c.qZA(),c._uU(11,"Euro per day"),c.qZA(),c.TgZ(12,"a",7),c._uU(13,"Details"),c.qZA()()()),2&n){const e=t.$implicit;c.xp6(2),c.s9C("src",e.image,c.LSH),c.xp6(2),c.hij(" ",e.brand," "),c.xp6(2),c.hij("Mounth: ",e.mounth,""),c.xp6(4),c.Oqu(e.price),c.xp6(2),c.MGl("routerLink","/stroller/",null==e?null:e.key,"")}}function WA(n,t){1&n&&c._UZ(0,"app-loader")}function GA(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div")(1,"a",11),c.NdJ("click",function(){c.CHM(e);const a=c.oxw(2);return c.KtG(a.addToCart(a.currentStroller))}),c._uU(2,"Add to cart"),c.qZA(),c.TgZ(3,"p")(4,"a",12),c._uU(5,"Cancel"),c.qZA()()()}}function zA(n,t){1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2,"If you want to rent stroller "),c.TgZ(3,"a",13),c._uU(4,"Login"),c.qZA()()())}function ZA(n,t){if(1&n&&(c.TgZ(0,"section",1),c.YNc(1,WA,1,0,"app-loader",2),c.TgZ(2,"div",3),c._UZ(3,"img",4),c.TgZ(4,"p",5),c._uU(5),c.qZA(),c.TgZ(6,"p",6),c._uU(7," Price: "),c.TgZ(8,"span",7),c._uU(9),c.qZA(),c._uU(10,"$ per day"),c.qZA(),c.TgZ(11,"div",8)(12,"div",9),c._uU(13," Mounth: "),c.TgZ(14,"span",10),c._uU(15),c.qZA(),c.TgZ(16,"p"),c._uU(17),c.qZA(),c.YNc(18,GA,6,0,"div",2),c.YNc(19,zA,5,0,"div",2),c.qZA()()()()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",!e.currentStroller),c.xp6(2),c.s9C("src",e.currentStroller.image,c.LSH),c.xp6(2),c.hij("Brand: ",e.currentStroller.brand,""),c.xp6(4),c.Oqu(e.currentStroller.price),c.xp6(6),c.Oqu(e.currentStroller.mounth),c.xp6(2),c.hij("Description: ",e.currentStroller.description,""),c.xp6(1),c.Q6J("ngIf",e.isLoggedIn),c.xp6(1),c.Q6J("ngIf",!e.isLoggedIn)}}const KA=No.forChild([{path:"stroller",children:[{path:"catalog",component:(()=>{class n{constructor(e){this.strollerService=e}ngOnInit(){this.retriveStrollers()}retriveStrollers(){this.strollerService.getStrollers().snapshotChanges().pipe((0,ft.U)(e=>e.map(o=>({key:o.payload.key,...o.payload.val()})))).subscribe(e=>{this.strollersList=e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(V0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-catalog"]],decls:4,vars:2,consts:[[4,"ngIf"],["id","dashboard",4,"ngFor","ngForOf"],["id","dashboard"],[1,"product"],[3,"src"],[1,"title"],[1,"price"],[1,"details-btn",3,"routerLink"]],template:function(e,o){1&e&&(c.TgZ(0,"h2"),c._uU(1,"All strollers"),c.qZA(),c.YNc(2,HA,1,0,"app-loader",0),c.YNc(3,jA,14,5,"section",1)),2&e&&(c.xp6(2),c.Q6J("ngIf",!o.strollersList),c.xp6(1),c.Q6J("ngForOf",o.strollersList))},dependencies:[ms,ni,Zs,kf],styles:["#dashboard[_ngcontent-%COMP%]{display:inline-block;align-items:center;justify-content:center;margin:76px}h2[_ngcontent-%COMP%]{text-align:center;font-size:50px}.product[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:21vw;height:52vh;padding:1px;margin:auto;background-color:#f8e7ea;border-radius:5px;border:1px solid;box-shadow:-4px 3px 25px 1px #0000008c;-webkit-box-shadow:-4px 3px 25px 1px rgba(0,0,0,.55);-moz-box-shadow:-4px 3px 25px 1px rgba(0,0,0,.55)}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16vw;padding:10px}.details-btn[_ngcontent-%COMP%], .rent-btn[_ngcontent-%COMP%]{text-decoration:none;font-size:21px;width:160px;border-radius:3px;text-align:center;color:#fff;background:rgb(231,103,124);margin:2px}.details-btn[_ngcontent-%COMP%]:hover{background:#bd2c2c}.product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700;width:65%;text-align:center;color:#f00e34}.product[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;margin:auto}"]}),n})()},{path:":strollerId",component:(()=>{class n{constructor(e,o,a,h){this.authService=e,this.strollerService=o,this.activatedRoute=a,this.cartService=h,this.items=[]}get isLoggedIn(){return this.authService.isLoggedIn}ngOnInit(){this.retriveStrollerByKey()}retriveStrollerByKey(){this.strollerId=this.activatedRoute.snapshot.params.strollerId,this.strollerService.getStroller(this.strollerId).valueChanges().subscribe(e=>{e&&(this.currentStroller=e)})}addToCart(e){this.cartService.productInCart(e)?window.alert("This product alredy in your shipping cart!"):(this.cartService.addToCart(e),window.alert("Your product has been added to the cart!"))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ud),c.Y36(V0),c.Y36(Fi),c.Y36(Ab))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-stroller"]],decls:1,vars:1,consts:[["id","details",4,"ngIf"],["id","details"],[4,"ngIf"],["id","details-wrapper"],["id","details-img",3,"src"],["id","details-title"],["id","details-price"],["id","price-number"],["id","info-wrapper"],["id","details-description"],["id","buys"],["routerLink","/cart",1,"rent-btn",3,"click"],["routerLink","/stroller/catalog",1,"rent-btn"],["routerLink","/auth/login"]],template:function(e,o){1&e&&c.YNc(0,ZA,20,8,"section",0),2&e&&c.Q6J("ngIf",o.currentStroller)},dependencies:[ni,Zs,kf],styles:["#details-wrapper[_ngcontent-%COMP%]{background-color:#fff;margin:50px auto;height:71%;width:60%;border:2px ridge rgb(210,208,208);box-shadow:0 0 10px #0003,0 3px 3px #0000003d}#details-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:10px auto;height:30vh;width:30vh}#details-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:20px}#details-price[_ngcontent-%COMP%]{text-align:center;font-size:17px}#details-description[_ngcontent-%COMP%]{width:85%;margin:20px auto;height:auto;text-align:center;font-size:17px}h4[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{text-align:center;font-size:19px}span[_ngcontent-%COMP%]{font-size:17px}#action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:25px}#action-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;margin:auto 50px;font-size:21px;width:130px;padding:10px;text-align:center;color:#fff;background:rgb(231,103,124);border-radius:5px}.rent-btn[_ngcontent-%COMP%]{text-decoration:none;font-size:21px;width:160px;border-radius:3px;text-align:center;color:#fff;background:rgb(231,103,124);margin:2px}"]}),n})()}]},{path:"**",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,o){1&e&&(c.TgZ(0,"p"),c._uU(1,"page-not-found works!"),c.qZA())}}),n})()}]);let YA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gn,No,KA,DI]}),n})();class bI{}class TI{}class zl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const a=e.slice(0,o),h=a.toLowerCase(),g=e.slice(o+1).trim();this.maybeSetNormalizedName(a,h),this.headers.has(h)?this.headers.get(h).push(g):this.headers.set(h,[g])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,o)=>{this.setHeaderEntries(o,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,o])=>{this.setHeaderEntries(e,o)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...o),this.headers.set(e,a);break;case"d":const h=t.value;if(h){let g=this.headers.get(e);if(!g)return;g=g.filter(E=>-1===h.indexOf(E)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const o=(Array.isArray(e)?e:[e]).map(h=>h.toString()),a=t.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(t,a)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class QA{encodeKey(t){return RS(t)}encodeValue(t){return RS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const XA=/%(\d[a-f0-9])/gi,eM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RS(n){return encodeURIComponent(n).replace(XA,(t,e)=>eM[e]??t)}function SI(n){return`${n}`}class Wd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new QA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JA(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const h=a.indexOf("="),[g,E]=-1==h?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,h)),t.decodeValue(a.slice(h+1))],D=e.get(g)||[];D.push(E),e.set(g,D)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],a=Array.isArray(o)?o.map(SI):[SI(o)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const a=t[o];Array.isArray(a)?a.forEach(h=>{e.push({param:o,value:h,op:"a"})}):e.push({param:o,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(SI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const a=o.indexOf(SI(t.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tM{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function PS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OS(n){return typeof Blob<"u"&&n instanceof Blob}function NS(n){return typeof FormData<"u"&&n instanceof FormData}class pv{constructor(t,e,o,a){let h;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function nM(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,h=a):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new zl),this.context||(this.context=new tM),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const E=e.indexOf("?");this.urlWithParams=e+(-1===E?"?":E<e.length-1?"&":"")+g}}else this.params=new Wd,this.urlWithParams=e}serializeBody(){return null===this.body?null:PS(this.body)||OS(this.body)||NS(this.body)||function rM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NS(this.body)?null:OS(this.body)?this.body.type||null:PS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,a=t.responseType||this.responseType,h=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,E=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let D=t.headers||this.headers,M=t.params||this.params;const F=t.context??this.context;return void 0!==t.setHeaders&&(D=Object.keys(t.setHeaders).reduce((V,X)=>V.set(X,t.setHeaders[X]),D)),t.setParams&&(M=Object.keys(t.setParams).reduce((V,X)=>V.set(X,t.setParams[X]),M)),new pv(e,o,h,{params:M,headers:D,context:F,reportProgress:E,responseType:a,withCredentials:g})}}var Rr=(()=>((Rr=Rr||{})[Rr.Sent=0]="Sent",Rr[Rr.UploadProgress=1]="UploadProgress",Rr[Rr.ResponseHeader=2]="ResponseHeader",Rr[Rr.DownloadProgress=3]="DownloadProgress",Rr[Rr.Response=4]="Response",Rr[Rr.User=5]="User",Rr))();class hT{constructor(t,e=200,o="OK"){this.headers=t.headers||new zl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class fT extends hT{constructor(t={}){super(t),this.type=Rr.ResponseHeader}clone(t={}){return new fT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class pm extends hT{constructor(t={}){super(t),this.type=Rr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new pm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xS extends hT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function pT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iM=(()=>{class n{constructor(e){this.handler=e}request(e,o,a={}){let h;if(e instanceof pv)h=e;else{let D,M;D=a.headers instanceof zl?a.headers:new zl(a.headers),a.params&&(M=a.params instanceof Wd?a.params:new Wd({fromObject:a.params})),h=new pv(e,o,void 0!==a.body?a.body:null,{headers:D,context:a.context,params:M,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=(0,ot.of)(h).pipe(ci(D=>this.handler.handle(D)));if(e instanceof pv||"events"===a.observe)return g;const E=g.pipe(Ni(D=>D instanceof pm));switch(a.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return E.pipe((0,ft.U)(D=>{if(null!==D.body&&!(D.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return D.body}));case"blob":return E.pipe((0,ft.U)(D=>{if(null!==D.body&&!(D.body instanceof Blob))throw new Error("Response is not a Blob.");return D.body}));case"text":return E.pipe((0,ft.U)(D=>{if(null!==D.body&&"string"!=typeof D.body)throw new Error("Response is not a string.");return D.body}));default:return E.pipe((0,ft.U)(D=>D.body))}case"response":return E;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Wd).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,a={}){return this.request("PATCH",e,pT(a,o))}post(e,o,a={}){return this.request("POST",e,pT(a,o))}put(e,o,a={}){return this.request("PUT",e,pT(a,o))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(bI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function LS(n,t){return t(n)}function sM(n,t){return(e,o)=>t.intercept(e,{handle:a=>n(a,o)})}const lM=new c.OlP(""),gv=new c.OlP(""),VS=new c.OlP("");function uM(){let n=null;return(t,e)=>{null===n&&(n=((0,c.f3M)(lM,{optional:!0})??[]).reduceRight(sM,LS));const o=(0,c.f3M)(c.HDt),a=o.add();return n(t,e).pipe(Jo(()=>o.remove(a)))}}let US=(()=>{class n extends bI{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(e){if(null===this.chain){const a=Array.from(new Set([...this.injector.get(gv),...this.injector.get(VS,[])]));this.chain=a.reduceRight((h,g)=>function aM(n,t,e){return(o,a)=>e.runInContext(()=>t(o,h=>n(h,a)))}(h,g,this.injector),LS)}const o=this.pendingTasks.add();return this.chain(e,a=>this.backend.handle(a)).pipe(Jo(()=>this.pendingTasks.remove(o)))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(TI),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fM=/^\)\]\}',?\n/;let HS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new c.vHH(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?(0,qt.D)(o.\u0275loadImpl()):(0,ot.of)(null)).pipe((0,Dn.w)(()=>new si.y(h=>{const g=o.build();if(g.open(e.method,e.urlWithParams),e.withCredentials&&(g.withCredentials=!0),e.headers.forEach((We,at)=>g.setRequestHeader(We,at.join(","))),e.headers.has("Accept")||g.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const We=e.detectContentTypeHeader();null!==We&&g.setRequestHeader("Content-Type",We)}if(e.responseType){const We=e.responseType.toLowerCase();g.responseType="json"!==We?We:"text"}const E=e.serializeBody();let D=null;const M=()=>{if(null!==D)return D;const We=g.statusText||"OK",at=new zl(g.getAllResponseHeaders()),zt=function pM(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(g)||e.url;return D=new fT({headers:at,status:g.status,statusText:We,url:zt}),D},F=()=>{let{headers:We,status:at,statusText:zt,url:fn}=M(),Qt=null;204!==at&&(Qt=typeof g.response>"u"?g.responseText:g.response),0===at&&(at=Qt?200:0);let en=at>=200&&at<300;if("json"===e.responseType&&"string"==typeof Qt){const Pr=Qt;Qt=Qt.replace(fM,"");try{Qt=""!==Qt?JSON.parse(Qt):null}catch(Zl){Qt=Pr,en&&(en=!1,Qt={error:Zl,text:Qt})}}en?(h.next(new pm({body:Qt,headers:We,status:at,statusText:zt,url:fn||void 0})),h.complete()):h.error(new xS({error:Qt,headers:We,status:at,statusText:zt,url:fn||void 0}))},V=We=>{const{url:at}=M(),zt=new xS({error:We,status:g.status||0,statusText:g.statusText||"Unknown Error",url:at||void 0});h.error(zt)};let X=!1;const Ae=We=>{X||(h.next(M()),X=!0);let at={type:Rr.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(at.total=We.total),"text"===e.responseType&&g.responseText&&(at.partialText=g.responseText),h.next(at)},Fe=We=>{let at={type:Rr.UploadProgress,loaded:We.loaded};We.lengthComputable&&(at.total=We.total),h.next(at)};return g.addEventListener("load",F),g.addEventListener("error",V),g.addEventListener("timeout",V),g.addEventListener("abort",V),e.reportProgress&&(g.addEventListener("progress",Ae),null!==E&&g.upload&&g.upload.addEventListener("progress",Fe)),g.send(E),h.next({type:Rr.Sent}),()=>{g.removeEventListener("error",V),g.removeEventListener("abort",V),g.removeEventListener("load",F),g.removeEventListener("timeout",V),e.reportProgress&&(g.removeEventListener("progress",Ae),null!==E&&g.upload&&g.upload.removeEventListener("progress",Fe)),g.readyState!==g.DONE&&g.abort()}})))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Fn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gT=new c.OlP("XSRF_ENABLED"),jS=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$S=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class WS{}let _M=(()=>{class n{constructor(e,o,a){this.doc=e,this.platform=o,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=po(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce),c.LFG(c.Lbi),c.LFG(jS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function yM(n,t){const e=n.url.toLowerCase();if(!(0,c.f3M)(gT)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const o=(0,c.f3M)(WS).getToken(),a=(0,c.f3M)($S);return null!=o&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,o)})),t(n)}var Un=(()=>((Un=Un||{})[Un.Interceptors=0]="Interceptors",Un[Un.LegacyInterceptors=1]="LegacyInterceptors",Un[Un.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Un[Un.NoXsrfProtection=3]="NoXsrfProtection",Un[Un.JsonpSupport=4]="JsonpSupport",Un[Un.RequestsMadeViaParent=5]="RequestsMadeViaParent",Un[Un.Fetch=6]="Fetch",Un))();function Wf(n,t){return{\u0275kind:n,\u0275providers:t}}function vM(...n){const t=[iM,HS,US,{provide:bI,useExisting:US},{provide:TI,useExisting:HS},{provide:gv,useValue:yM,multi:!0},{provide:gT,useValue:!0},{provide:WS,useClass:_M}];for(const e of n)t.push(...e.\u0275providers);return(0,c.MR2)(t)}const GS=new c.OlP("LEGACY_INTERCEPTOR_FN");let EM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vM(Wf(Un.LegacyInterceptors,[{provide:GS,useFactory:uM},{provide:gv,useExisting:GS,multi:!0}]))]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gn,No,DI]}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[_i]}),n.\u0275inj=c.cJS({imports:[Ia,B0,ro.hO.initializeApp(j0_firebase),vb,Sb,BA,YA,EM,DI,SM]}),n})();rl().bootstrapModule(AM).catch(n=>console.error(n))},5619:(Qe,ve,P)=>{P.d(ve,{X:()=>z});var c=P(8645);class z extends c.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const ee=super._subscribe(J);return!ee.closed&&J.next(this._value),ee}getValue(){const{hasError:J,thrownError:ee,_value:ce}=this;if(J)throw ee;return this._throwIfClosed(),ce}next(J){super.next(this._value=J)}}},5592:(Qe,ve,P)=>{P.d(ve,{y:()=>Se});var c=P(305),z=P(7394),N=P(4850),J=P(8407),ee=P(2653),ce=P(4674),de=P(1441);let Se=(()=>{class Q{constructor(we){we&&(this._subscribe=we)}lift(we){const Be=new Q;return Be.source=this,Be.operator=we,Be}subscribe(we,Be,Te){const Ve=function j(Q){return Q&&Q instanceof c.Lv||function U(Q){return Q&&(0,ce.m)(Q.next)&&(0,ce.m)(Q.error)&&(0,ce.m)(Q.complete)}(Q)&&(0,z.Nn)(Q)}(we)?we:new c.Hp(we,Be,Te);return(0,de.x)(()=>{const{operator:Pe,source:st}=this;Ve.add(Pe?Pe.call(Ve,st):st?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe(we){try{return this._subscribe(we)}catch(Be){we.error(Be)}}forEach(we,Be){return new(Be=ae(Be))((Te,Ve)=>{const Pe=new c.Hp({next:st=>{try{we(st)}catch(Xe){Ve(Xe),Pe.unsubscribe()}},error:Ve,complete:Te});this.subscribe(Pe)})}_subscribe(we){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(we)}[N.L](){return this}pipe(...we){return(0,J.U)(we)(this)}toPromise(we){return new(we=ae(we))((Be,Te)=>{let Ve;this.subscribe(Pe=>Ve=Pe,Pe=>Te(Pe),()=>Be(Ve))})}}return Q.create=Oe=>new Q(Oe),Q})();function ae(Q){var Oe;return null!==(Oe=Q??ee.config.Promise)&&void 0!==Oe?Oe:Promise}},8645:(Qe,ve,P)=>{P.d(ve,{x:()=>de});var c=P(5592),z=P(7394);const J=(0,P(2306).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=P(9039),ce=P(1441);let de=(()=>{class ae extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new Se(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new J}next(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Oe,observers:we}=this;return Q||Oe?z.Lc:(this.currentObservers=null,we.push(j),new z.w0(()=>{this.currentObservers=null,(0,ee.P)(we,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Oe,isStopped:we}=this;Q?j.error(Oe):we&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return ae.create=(U,j)=>new Se(U,j),ae})();class Se extends de{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,U)}error(U){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==Q?Q:z.Lc}}},305:(Qe,ve,P)=>{P.d(ve,{Hp:()=>Te,Lv:()=>Q});var c=P(4674),z=P(7394),N=P(2653),J=P(3894),ee=P(2420);const ce=ae("C",void 0,void 0);function ae(ne,fe,Y){return{kind:ne,value:fe,error:Y}}var U=P(7599),j=P(1441);class Q extends z.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,z.Nn)(fe)&&fe.add(this)):this.destination=Xe}static create(fe,Y,he){return new Te(fe,Y,he)}next(fe){this.isStopped?st(function Se(ne){return ae("N",ne,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?st(function de(ne){return ae("E",void 0,ne)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?st(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function we(ne,fe){return Oe.call(ne,fe)}class Be{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Y}=this;if(Y.next)try{Y.next(fe)}catch(he){Ve(he)}}error(fe){const{partialObserver:Y}=this;if(Y.error)try{Y.error(fe)}catch(he){Ve(he)}else Ve(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Y){Ve(Y)}}}class Te extends Q{constructor(fe,Y,he){let be;if(super(),(0,c.m)(fe)||!fe)be={next:fe??void 0,error:Y??void 0,complete:he??void 0};else{let Ne;this&&N.config.useDeprecatedNextContext?(Ne=Object.create(fe),Ne.unsubscribe=()=>this.unsubscribe(),be={next:fe.next&&we(fe.next,Ne),error:fe.error&&we(fe.error,Ne),complete:fe.complete&&we(fe.complete,Ne)}):be=fe}this.destination=new Be(be)}}function Ve(ne){N.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(ne):(0,J.h)(ne)}function st(ne,fe){const{onStoppedNotification:Y}=N.config;Y&&U.z.setTimeout(()=>Y(ne,fe))}const Xe={closed:!0,next:ee.Z,error:function Pe(ne){throw ne},complete:ee.Z}},7394:(Qe,ve,P)=>{P.d(ve,{Lc:()=>ce,w0:()=>ee,Nn:()=>de});var c=P(4674);const N=(0,P(2306).d)(ae=>function(j){ae(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Oe)=>`${Oe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var J=P(9039);class ee{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const we of j)we.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(we){U=we instanceof N?we.errors:[we]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const we of Oe)try{Se(we)}catch(Be){U=U??[],Be instanceof N?U=[...U,...Be.errors]:U.push(Be)}}if(U)throw new N(U)}}add(U){var j;if(U&&U!==this)if(this.closed)Se(U);else{if(U instanceof ee){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,J.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,J.P)(j,U),U instanceof ee&&U._removeParent(this)}}ee.EMPTY=(()=>{const ae=new ee;return ae.closed=!0,ae})();const ce=ee.EMPTY;function de(ae){return ae instanceof ee||ae&&"closed"in ae&&(0,c.m)(ae.remove)&&(0,c.m)(ae.add)&&(0,c.m)(ae.unsubscribe)}function Se(ae){(0,c.m)(ae)?ae():ae.unsubscribe()}},2653:(Qe,ve,P)=>{P.d(ve,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Qe,ve,P)=>{P.d(ve,{E:()=>z});const z=new(P(5592).y)(ee=>ee.complete())},2459:(Qe,ve,P)=>{P.d(ve,{D:()=>fe});var c=P(4829),z=P(3093),N=P(5137),ce=P(5592),Se=P(4971),ae=P(4674),U=P(7103);function Q(Y,he){if(!Y)throw new Error("Iterable cannot be null");return new ce.y(be=>{(0,U.f)(be,he,()=>{const Ne=Y[Symbol.asyncIterator]();(0,U.f)(be,he,()=>{Ne.next().then(re=>{re.done?be.complete():be.next(re.value)})},0,!0)})})}var Oe=P(8382),we=P(4026),Be=P(4266),Te=P(3664),Ve=P(5726),Pe=P(9853),st=P(541);function fe(Y,he){return he?function ne(Y,he){if(null!=Y){if((0,Oe.c)(Y))return function J(Y,he){return(0,c.Xf)(Y).pipe((0,N.R)(he),(0,z.Q)(he))}(Y,he);if((0,Be.z)(Y))return function de(Y,he){return new ce.y(be=>{let Ne=0;return he.schedule(function(){Ne===Y.length?be.complete():(be.next(Y[Ne++]),be.closed||this.schedule())})})}(Y,he);if((0,we.t)(Y))return function ee(Y,he){return(0,c.Xf)(Y).pipe((0,N.R)(he),(0,z.Q)(he))}(Y,he);if((0,Ve.D)(Y))return Q(Y,he);if((0,Te.T)(Y))return function j(Y,he){return new ce.y(be=>{let Ne;return(0,U.f)(be,he,()=>{Ne=Y[Se.h](),(0,U.f)(be,he,()=>{let re,Le;try{({value:re,done:Le}=Ne.next())}catch(St){return void be.error(St)}Le?be.complete():be.next(re)},0,!0)}),()=>(0,ae.m)(Ne?.return)&&Ne.return()})}(Y,he);if((0,st.L)(Y))return function Xe(Y,he){return Q((0,st.Q)(Y),he)}(Y,he)}throw(0,Pe.z)(Y)}(Y,he):(0,c.Xf)(Y)}},4829:(Qe,ve,P)=>{P.d(ve,{Xf:()=>Oe});var c=P(7582),z=P(4266),N=P(4026),J=P(5592),ee=P(8382),ce=P(5726),de=P(9853),Se=P(3664),ae=P(541),U=P(4674),j=P(3894),Q=P(4850);function Oe(ne){if(ne instanceof J.y)return ne;if(null!=ne){if((0,ee.c)(ne))return function we(ne){return new J.y(fe=>{const Y=ne[Q.L]();if((0,U.m)(Y.subscribe))return Y.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,z.z)(ne))return function Be(ne){return new J.y(fe=>{for(let Y=0;Y<ne.length&&!fe.closed;Y++)fe.next(ne[Y]);fe.complete()})}(ne);if((0,N.t)(ne))return function Te(ne){return new J.y(fe=>{ne.then(Y=>{fe.closed||(fe.next(Y),fe.complete())},Y=>fe.error(Y)).then(null,j.h)})}(ne);if((0,ce.D)(ne))return Pe(ne);if((0,Se.T)(ne))return function Ve(ne){return new J.y(fe=>{for(const Y of ne)if(fe.next(Y),fe.closed)return;fe.complete()})}(ne);if((0,ae.L)(ne))return function st(ne){return Pe((0,ae.Q)(ne))}(ne)}throw(0,de.z)(ne)}function Pe(ne){return new J.y(fe=>{(function Xe(ne,fe){var Y,he,be,Ne;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Y=(0,c.KL)(ne);!(he=yield Y.next()).done;)if(fe.next(he.value),fe.closed)return}catch(re){be={error:re}}finally{try{he&&!he.done&&(Ne=Y.return)&&(yield Ne.call(Y))}finally{if(be)throw be.error}}fe.complete()})})(ne,fe).catch(Y=>fe.error(Y))})}},3019:(Qe,ve,P)=>{P.d(ve,{T:()=>ce});var c=P(7537),z=P(4829),N=P(6232),J=P(4564),ee=P(2459);function ce(...de){const Se=(0,J.yG)(de),ae=(0,J._6)(de,1/0),U=de;return U.length?1===U.length?(0,z.Xf)(U[0]):(0,c.J)(ae)((0,ee.D)(U,Se)):N.E}},2096:(Qe,ve,P)=>{P.d(ve,{of:()=>N});var c=P(4564),z=P(2459);function N(...J){const ee=(0,c.yG)(J);return(0,z.D)(J,ee)}},8251:(Qe,ve,P)=>{P.d(ve,{x:()=>z});var c=P(305);function z(J,ee,ce,de,Se){return new N(J,ee,ce,de,Se)}class N extends c.Lv{constructor(ee,ce,de,Se,ae,U){super(ee),this.onFinalize=ae,this.shouldUnsubscribe=U,this._next=ce?function(j){try{ce(j)}catch(Q){ee.error(Q)}}:super._next,this._error=Se?function(j){try{Se(j)}catch(Q){ee.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(j){ee.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},3997:(Qe,ve,P)=>{P.d(ve,{x:()=>J});var c=P(2737),z=P(9360),N=P(8251);function J(ce,de=c.y){return ce=ce??ee,(0,z.e)((Se,ae)=>{let U,j=!0;Se.subscribe((0,N.x)(ae,Q=>{const Oe=de(Q);(j||!ce(U,Oe))&&(j=!1,U=Oe,ae.next(Q))}))})}function ee(ce,de){return ce===de}},7398:(Qe,ve,P)=>{P.d(ve,{U:()=>N});var c=P(9360),z=P(8251);function N(J,ee){return(0,c.e)((ce,de)=>{let Se=0;ce.subscribe((0,z.x)(de,ae=>{de.next(J.call(ee,ae,Se++))}))})}},7537:(Qe,ve,P)=>{P.d(ve,{J:()=>N});var c=P(1631),z=P(2737);function N(J=1/0){return(0,c.z)(z.y,J)}},1631:(Qe,ve,P)=>{P.d(ve,{z:()=>Se});var c=P(7398),z=P(4829),N=P(9360),J=P(7103),ee=P(8251),de=P(4674);function Se(ae,U,j=1/0){return(0,de.m)(U)?Se((Q,Oe)=>(0,c.U)((we,Be)=>U(Q,we,Oe,Be))((0,z.Xf)(ae(Q,Oe))),j):("number"==typeof U&&(j=U),(0,N.e)((Q,Oe)=>function ce(ae,U,j,Q,Oe,we,Be,Te){const Ve=[];let Pe=0,st=0,Xe=!1;const ne=()=>{Xe&&!Ve.length&&!Pe&&U.complete()},fe=he=>Pe<Q?Y(he):Ve.push(he),Y=he=>{we&&U.next(he),Pe++;let be=!1;(0,z.Xf)(j(he,st++)).subscribe((0,ee.x)(U,Ne=>{Oe?.(Ne),we?fe(Ne):U.next(Ne)},()=>{be=!0},void 0,()=>{if(be)try{for(Pe--;Ve.length&&Pe<Q;){const Ne=Ve.shift();Be?(0,J.f)(U,Be,()=>Y(Ne)):Y(Ne)}ne()}catch(Ne){U.error(Ne)}}))};return ae.subscribe((0,ee.x)(U,fe,()=>{Xe=!0,ne()})),()=>{Te?.()}}(Q,Oe,ae,j)))}},3093:(Qe,ve,P)=>{P.d(ve,{Q:()=>J});var c=P(7103),z=P(9360),N=P(8251);function J(ee,ce=0){return(0,z.e)((de,Se)=>{de.subscribe((0,N.x)(Se,ae=>(0,c.f)(Se,ee,()=>Se.next(ae),ce),()=>(0,c.f)(Se,ee,()=>Se.complete(),ce),ae=>(0,c.f)(Se,ee,()=>Se.error(ae),ce)))})}},3020:(Qe,ve,P)=>{P.d(ve,{B:()=>ee});var c=P(4829),z=P(8645),N=P(305),J=P(9360);function ee(de={}){const{connector:Se=(()=>new z.x),resetOnError:ae=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=de;return Q=>{let Oe,we,Be,Te=0,Ve=!1,Pe=!1;const st=()=>{we?.unsubscribe(),we=void 0},Xe=()=>{st(),Oe=Be=void 0,Ve=Pe=!1},ne=()=>{const fe=Oe;Xe(),fe?.unsubscribe()};return(0,J.e)((fe,Y)=>{Te++,!Pe&&!Ve&&st();const he=Be=Be??Se();Y.add(()=>{Te--,0===Te&&!Pe&&!Ve&&(we=ce(ne,j))}),he.subscribe(Y),!Oe&&Te>0&&(Oe=new N.Hp({next:be=>he.next(be),error:be=>{Pe=!0,st(),we=ce(Xe,ae,be),he.error(be)},complete:()=>{Ve=!0,st(),we=ce(Xe,U),he.complete()}}),(0,c.Xf)(fe).subscribe(Oe))})(Q)}}function ce(de,Se,...ae){if(!0===Se)return void de();if(!1===Se)return;const U=new N.Hp({next:()=>{U.unsubscribe(),de()}});return(0,c.Xf)(Se(...ae)).subscribe(U)}},5137:(Qe,ve,P)=>{P.d(ve,{R:()=>z});var c=P(9360);function z(N,J=0){return(0,c.e)((ee,ce)=>{ce.add(N.schedule(()=>ee.subscribe(ce),J))})}},4664:(Qe,ve,P)=>{P.d(ve,{w:()=>J});var c=P(4829),z=P(9360),N=P(8251);function J(ee,ce){return(0,z.e)((de,Se)=>{let ae=null,U=0,j=!1;const Q=()=>j&&!ae&&Se.complete();de.subscribe((0,N.x)(Se,Oe=>{ae?.unsubscribe();let we=0;const Be=U++;(0,c.Xf)(ee(Oe,Be)).subscribe(ae=(0,N.x)(Se,Te=>Se.next(ce?ce(Oe,Te,Be,we++):Te),()=>{ae=null,Q()}))},()=>{j=!0,Q()}))})}},9397:(Qe,ve,P)=>{P.d(ve,{b:()=>ee});var c=P(4674),z=P(9360),N=P(8251),J=P(2737);function ee(ce,de,Se){const ae=(0,c.m)(ce)||de||Se?{next:ce,error:de,complete:Se}:ce;return ae?(0,z.e)((U,j)=>{var Q;null===(Q=ae.subscribe)||void 0===Q||Q.call(ae);let Oe=!0;U.subscribe((0,N.x)(j,we=>{var Be;null===(Be=ae.next)||void 0===Be||Be.call(ae,we),j.next(we)},()=>{var we;Oe=!1,null===(we=ae.complete)||void 0===we||we.call(ae),j.complete()},we=>{var Be;Oe=!1,null===(Be=ae.error)||void 0===Be||Be.call(ae,we),j.error(we)},()=>{var we,Be;Oe&&(null===(we=ae.unsubscribe)||void 0===we||we.call(ae)),null===(Be=ae.finalize)||void 0===Be||Be.call(ae)}))}):J.y}},1954:(Qe,ve,P)=>{P.d(ve,{o:()=>ee});var c=P(7394);class z extends c.w0{constructor(de,Se){super()}schedule(de,Se=0){return this}}const N={setInterval(ce,de,...Se){const{delegate:ae}=N;return ae?.setInterval?ae.setInterval(ce,de,...Se):setInterval(ce,de,...Se)},clearInterval(ce){const{delegate:de}=N;return(de?.clearInterval||clearInterval)(ce)},delegate:void 0};var J=P(9039);class ee extends z{constructor(de,Se){super(de,Se),this.scheduler=de,this.work=Se,this.pending=!1}schedule(de,Se=0){var ae;if(this.closed)return this;this.state=de;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,Se)),this.pending=!0,this.delay=Se,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(j,this.id,Se),this}requestAsyncId(de,Se,ae=0){return N.setInterval(de.flush.bind(de,this),ae)}recycleAsyncId(de,Se,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return Se;null!=Se&&N.clearInterval(Se)}execute(de,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(de,Se);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Se){let U,ae=!1;try{this.work(de)}catch(j){ae=!0,U=j||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:de,scheduler:Se}=this,{actions:ae}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(ae,this),null!=de&&(this.id=this.recycleAsyncId(Se,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qe,ve,P)=>{P.d(ve,{v:()=>N});var c=P(4552);class z{constructor(ee,ce=z.now){this.schedulerActionCtor=ee,this.now=ce}schedule(ee,ce=0,de){return new this.schedulerActionCtor(this,ee).schedule(de,ce)}}z.now=c.l.now;class N extends z{constructor(ee,ce=z.now){super(ee,ce),this.actions=[],this._active=!1}flush(ee){const{actions:ce}=this;if(this._active)return void ce.push(ee);let de;this._active=!0;do{if(de=ee.execute(ee.state,ee.delay))break}while(ee=ce.shift());if(this._active=!1,de){for(;ee=ce.shift();)ee.unsubscribe();throw de}}}},6321:(Qe,ve,P)=>{P.d(ve,{z:()=>N});var c=P(1954);const N=new(P(2631).v)(c.o)},4552:(Qe,ve,P)=>{P.d(ve,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(Qe,ve,P)=>{P.d(ve,{z:()=>c});const c={setTimeout(z,N,...J){const{delegate:ee}=c;return ee?.setTimeout?ee.setTimeout(z,N,...J):setTimeout(z,N,...J)},clearTimeout(z){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4971:(Qe,ve,P)=>{P.d(ve,{h:()=>z});const z=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qe,ve,P)=>{P.d(ve,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Qe,ve,P)=>{P.d(ve,{_6:()=>ce,jO:()=>J,yG:()=>ee});var c=P(4674);function N(de){return de[de.length-1]}function J(de){return(0,c.m)(N(de))?de.pop():void 0}function ee(de){return function z(de){return de&&(0,c.m)(de.schedule)}(N(de))?de.pop():void 0}function ce(de,Se){return"number"==typeof N(de)?de.pop():Se}},9039:(Qe,ve,P)=>{function c(z,N){if(z){const J=z.indexOf(N);0<=J&&z.splice(J,1)}}P.d(ve,{P:()=>c})},2306:(Qe,ve,P)=>{function c(z){const J=z(ee=>{Error.call(ee),ee.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}P.d(ve,{d:()=>c})},1441:(Qe,ve,P)=>{P.d(ve,{O:()=>J,x:()=>N});var c=P(2653);let z=null;function N(ee){if(c.config.useDeprecatedSynchronousErrorHandling){const ce=!z;if(ce&&(z={errorThrown:!1,error:null}),ee(),ce){const{errorThrown:de,error:Se}=z;if(z=null,de)throw Se}}else ee()}function J(ee){c.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ee)}},7103:(Qe,ve,P)=>{function c(z,N,J,ee=0,ce=!1){const de=N.schedule(function(){J(),ce?z.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(z.add(de),!ce)return de}P.d(ve,{f:()=>c})},2737:(Qe,ve,P)=>{function c(z){return z}P.d(ve,{y:()=>c})},4266:(Qe,ve,P)=>{P.d(ve,{z:()=>c});const c=z=>z&&"number"==typeof z.length&&"function"!=typeof z},5726:(Qe,ve,P)=>{P.d(ve,{D:()=>z});var c=P(4674);function z(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},4674:(Qe,ve,P)=>{function c(z){return"function"==typeof z}P.d(ve,{m:()=>c})},8382:(Qe,ve,P)=>{P.d(ve,{c:()=>N});var c=P(4850),z=P(4674);function N(J){return(0,z.m)(J[c.L])}},3664:(Qe,ve,P)=>{P.d(ve,{T:()=>N});var c=P(4971),z=P(4674);function N(J){return(0,z.m)(J?.[c.h])}},4026:(Qe,ve,P)=>{P.d(ve,{t:()=>z});var c=P(4674);function z(N){return(0,c.m)(N?.then)}},541:(Qe,ve,P)=>{P.d(ve,{L:()=>J,Q:()=>N});var c=P(7582),z=P(4674);function N(ee){return(0,c.FC)(this,arguments,function*(){const de=ee.getReader();try{for(;;){const{value:Se,done:ae}=yield(0,c.qq)(de.read());if(ae)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Se)}}finally{de.releaseLock()}})}function J(ee){return(0,z.m)(ee?.getReader)}},9360:(Qe,ve,P)=>{P.d(ve,{A:()=>z,e:()=>N});var c=P(4674);function z(J){return(0,c.m)(J?.lift)}function N(J){return ee=>{if(z(ee))return ee.lift(function(ce){try{return J(ce,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Qe,ve,P)=>{function c(){}P.d(ve,{Z:()=>c})},8407:(Qe,ve,P)=>{P.d(ve,{U:()=>N,z:()=>z});var c=P(2737);function z(...J){return N(J)}function N(J){return 0===J.length?c.y:1===J.length?J[0]:function(ce){return J.reduce((de,Se)=>Se(de),ce)}}},3894:(Qe,ve,P)=>{P.d(ve,{h:()=>N});var c=P(2653),z=P(7599);function N(J){z.z.setTimeout(()=>{const{onUnhandledError:ee}=c.config;if(!ee)throw J;ee(J)})}},9853:(Qe,ve,P)=>{function c(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ve,{z:()=>c})},5879:(Qe,ve,P)=>{P.d(ve,{$8M:()=>Kr,$WT:()=>go,$Z:()=>CC,AFp:()=>iw,ALo:()=>bf,AaK:()=>Q,CHM:()=>sh,CRH:()=>Jg,EJc:()=>Sb,EpF:()=>N_,F4k:()=>k_,FYo:()=>hr,FiY:()=>es,GfV:()=>nC,Gpc:()=>Be,HDt:()=>kf,JOm:()=>Oo,KtG:()=>yo,LFG:()=>Vt,LSH:()=>Dr,Lbi:()=>Gv,Lck:()=>VD,MAs:()=>tE,MGl:()=>hg,MMx:()=>If,MR2:()=>Lv,NdJ:()=>dg,Ojb:()=>Hm,OlP:()=>Kt,Oqu:()=>uc,P3R:()=>JI,PXZ:()=>Q0,Q6J:()=>A_,QGY:()=>x_,Qsj:()=>tC,R0b:()=>_i,RDi:()=>cd,Rgc:()=>Sf,SBq:()=>Qu,Sil:()=>Rb,Suo:()=>Fy,TTD:()=>Rs,TgZ:()=>oc,VuI:()=>Xb,X6Q:()=>iI,XFs:()=>He,Xpm:()=>jo,Xq5:()=>qh,Xts:()=>bp,Y36:()=>_d,YKP:()=>Ef,YNc:()=>T_,Yjl:()=>Yl,Yz7:()=>vt,Z0I:()=>$t,ZZ4:()=>Hd,_Bn:()=>s0,_UZ:()=>cg,_c5:()=>Wb,_uU:()=>J_,aQg:()=>$d,c2e:()=>L0,cJS:()=>an,cg1:()=>Ll,dDg:()=>Ff,dqk:()=>Ut,eFA:()=>ev,eJc:()=>b0,ekj:()=>lf,eoX:()=>Za,f3M:()=>Pt,g9A:()=>ow,h0i:()=>kd,hGG:()=>Gb,hij:()=>Ig,iGM:()=>Pf,ifc:()=>nn,ip1:()=>Ky,jDz:()=>BD,kL8:()=>sy,lG2:()=>Kl,lcZ:()=>f0,lqb:()=>zu,lri:()=>W0,n5z:()=>tr,oAB:()=>ji,oxw:()=>cE,q4F:()=>rC,qFp:()=>iT,qLn:()=>Qs,qOj:()=>f_,qZA:()=>Md,rWj:()=>G0,rg0:()=>xc,s9C:()=>V_,sBO:()=>iv,s_b:()=>zg,soG:()=>Ul,tb:()=>rm,tp0:()=>Ir,uIk:()=>Yh,vHH:()=>ne,vpe:()=>sa,wAp:()=>ut,xp6:()=>pC,z2F:()=>pc,zSh:()=>Hv,zs3:()=>Js});var c=P(8645),z=P(7394),N=P(5619),J=P(5592),ee=P(3019),ce=P(2096),de=P(3020),Se=P(4664),ae=P(3997);function U(r){for(let i in r)if(r[i]===U)return i;throw Error("Could not find renamed property on target object.")}function j(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function Q(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Q).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Oe(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const we=U({__forward_ref__:U});function Be(r){return r.__forward_ref__=Be,r.toString=function(){return Q(this())},r}function Te(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(we)&&r.__forward_ref__===Be}function Pe(r){return r&&!!r.\u0275providers}const Xe="https://g.co/ng/security#xss";class ne extends Error{constructor(i,s){super(function fe(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,s)),this.code=i}}function Y(r){return"string"==typeof r?r:null==r?"":String(r)}function Le(r,i){throw new ne(-201,!1)}function Ge(r,i){null==r&&function Ke(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function vt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function an(r){return{providers:r.providers||[],imports:r.imports||[]}}function xn(r){return Zn(r,Nr)||Zn(r,ho)}function $t(r){return null!==xn(r)}function Zn(r,i){return r.hasOwnProperty(i)?r[i]:null}function fs(r){return r&&(r.hasOwnProperty(xr)||r.hasOwnProperty(aa))?r[xr]:null}const Nr=U({\u0275prov:U}),xr=U({\u0275inj:U}),ho=U({ngInjectableDef:U}),aa=U({ngInjectorDef:U});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let et;function Jt(r){const i=et;return et=r,i}function cn(r,i,s){const l=xn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&He.Optional?null:void 0!==i?i:void Le(Q(r))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qn={},wt="__NG_DI_FLAG__",ti="ngTempTokenPath",gs=/\n/gm,vi="__source";let jn;function tn(r){const i=jn;return jn=r,i}function Ci(r,i=He.Default){if(void 0===jn)throw new ne(-203,!1);return null===jn?cn(r,void 0,i):jn.get(r,i&He.Optional?null:void 0,i)}function Vt(r,i=He.Default){return(function rt(){return et}()||Ci)(Te(r),i)}function Pt(r,i=He.Default){return Vt(r,B(i))}function B(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function L(r){const i=[];for(let s=0;s<r.length;s++){const l=Te(r[s]);if(Array.isArray(l)){if(0===l.length)throw new ne(900,!1);let u,f=He.Default;for(let m=0;m<l.length;m++){const v=l[m],I=ye(v);"number"==typeof I?-1===I?u=v.token:f|=I:u=v}i.push(Vt(u,f))}else i.push(Vt(l))}return i}function G(r,i){return r[wt]=i,r.prototype[wt]=i,r}function ye(r){return r[wt]}function it(r){return{toString:r}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),nn=(()=>{return(r=nn||(nn={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",nn;var r})();const Zt={},ct=[],Mt=U({\u0275cmp:U}),$n=U({\u0275dir:U}),jr=U({\u0275pipe:U}),Ii=U({\u0275mod:U}),Fr=U({\u0275fac:U}),ue=U({__NG_ELEMENT_ID__:U}),te=U({__NG_ENV_ID__:U});function Me(r,i,s){let l=r.length;for(;;){const u=r.indexOf(i,s);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const f=i.length;if(u+f===l||r.charCodeAt(u+f)<=32)return u}s=u+1}}function Je(r,i,s){let l=0;for(;l<s.length;){const u=s[l];if("number"==typeof u){if(0!==u)break;l++;const f=s[l++],m=s[l++],v=s[l++];r.setAttribute(i,m,v,f)}else{const f=u,m=s[++l];Ct(f)?r.setProperty(i,f,m):r.setAttribute(i,f,m),l++}}return l}function dt(r){return 3===r||4===r||6===r}function Ct(r){return 64===r.charCodeAt(0)}function Ot(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?s=u:0===s||On(r,s,u,null,-1===s||2===s?i[++l]:null)}}return r}function On(r,i,s,l,u){let f=0,m=r.length;if(-1===i)m=-1;else for(;f<r.length;){const v=r[f++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=f-1;break}}}for(;f<r.length;){const v=r[f];if("number"==typeof v)break;if(v===s){if(null===l)return void(null!==u&&(r[f+1]=u));if(l===r[f+1])return void(r[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==m&&(r.splice(m,0,i),f=m+1),r.splice(f++,0,s),null!==l&&r.splice(f++,0,l),null!==u&&r.splice(f++,0,u)}const An="ng-template";function Hi(r,i,s){let l=0,u=!0;for(;l<r.length;){let f=r[l++];if("string"==typeof f&&u){const m=r[l++];if(s&&"class"===f&&-1!==Me(m.toLowerCase(),i,0))return!0}else{if(1===f){for(;l<r.length&&"string"==typeof(f=r[l++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function po(r){return 4===r.type&&r.value!==An}function la(r,i,s){return i===(4!==r.type||s?r.value:An)}function mc(r,i,s){let l=4;const u=r.attrs||[],f=function ms(r){for(let i=0;i<r.length;i++)if(dt(r[i]))return i;return r.length}(u);let m=!1;for(let v=0;v<i.length;v++){const I=i[v];if("number"!=typeof I){if(!m)if(4&l){if(l=2|1&l,""!==I&&!la(r,I,s)||""===I&&1===i.length){if(Lr(l))return!1;m=!0}}else{const T=8&l?I:i[++v];if(8&l&&null!==r.attrs){if(!Hi(r.attrs,T,s)){if(Lr(l))return!1;m=!0}continue}const x=_c(8&l?"class":I,u,po(r),s);if(-1===x){if(Lr(l))return!1;m=!0;continue}if(""!==T){let W;W=x>f?"":u[x+1].toLowerCase();const q=8&l?W:null;if(q&&-1!==Me(q,T,0)||2&l&&T!==W){if(Lr(l))return!1;m=!0}}}}else{if(!m&&!Lr(l)&&!Lr(I))return!1;if(m&&Lr(I))continue;m=!1,l=I|1&l}}return Lr(l)||m}function Lr(r){return 0==(1&r)}function _c(r,i,s,l){if(null===i)return-1;let u=0;if(l||!s){let f=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function yc(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function $r(r,i,s=!1){for(let l=0;l<i.length;l++)if(mc(r,i[l],s))return!0;return!1}function ni(r,i){return r?":not("+i.trim()+")":i}function Gf(r){let i=r[0],s=1,l=2,u="",f=!1;for(;s<r.length;){let m=r[s];if("string"==typeof m)if(2&l){const v=r[++s];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?u+="."+m:4&l&&(u+=" "+m);else""!==u&&!Lr(m)&&(i+=ni(f,u),u=""),l=m,f=f||!Lr(l);s++}return""!==u&&(i+=ni(f,u)),i}function jo(r){return it(()=>{const i=Ka(r),s={...i,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||nn.Emulated,styles:r.styles||ct,_:null,schemas:r.schemas||null,tView:null,id:""};Ql(s);const l=r.dependencies;return s.directiveDefs=_s(l,!1),s.pipeDefs=_s(l,!0),s.id=function Ec(r){let i=0;const s=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const u of s)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Cc(r){return Et(r)||kn(r)}function zf(r){return null!==r}function ji(r){return it(()=>({type:r.type,bootstrap:r.bootstrap||ct,declarations:r.declarations||ct,imports:r.imports||ct,exports:r.exports||ct,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ua(r,i){if(null==r)return Zt;const s={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=l,i&&(i[u]=f)}return s}function Kl(r){return it(()=>{const i=Ka(r);return Ql(i),i})}function Yl(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Et(r){return r[Mt]||null}function kn(r){return r[$n]||null}function Wt(r){return r[jr]||null}function go(r){const i=Et(r)||kn(r)||Wt(r);return null!==i&&i.standalone}function Kn(r,i){const s=r[Ii]||null;if(!s&&!0===i)throw new Error(`Type ${Q(r)} does not have '\u0275mod' property.`);return s}function Ka(r){const i={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:r.inputs||Zt,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||ct,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ua(r.inputs,i),outputs:ua(r.outputs)}}function Ql(r){r.features?.forEach(i=>i(r))}function _s(r,i){if(!r)return null;const s=i?Wt:Cc;return()=>("function"==typeof r?r():r).map(l=>s(l)).filter(zf)}const Cn=0,je=1,mt=2,rn=3,Vr=4,ys=5,or=6,$o=7,ln=8,Wn=9,$i=10,_t=11,_r=12,Jl=13,wi=14,dn=15,vs=16,da=17,Gn=18,Cs=19,Ic=20,Ur=21,En=22,Xl=23,Es=24,Dt=25,Ya=1,Di=2,yr=7,Wo=9,Fn=11;function In(r){return Array.isArray(r)&&"object"==typeof r[Ya]}function Br(r){return Array.isArray(r)&&!0===r[Ya]}function Is(r){return 0!=(4&r.flags)}function Wi(r){return r.componentOffset>-1}function Gi(r){return 1==(1&r.flags)}function zn(r){return!!r.template}function Yn(r){return 0!=(512&r[mt])}function ws(r,i){return r.hasOwnProperty(Fr)?r[Fr]:null}let Rc=Ut.WeakRef??class ma{constructor(i){this.ref=i}deref(){return this.ref}},Ts=0,Ti=null,Ss=!1;function Rn(r){const i=Ti;return Ti=r,i}class vr{constructor(){this.id=Ts++,this.ref=function bs(r){return new Rc(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const l=s.producerNode.deref();if(null!=l&&s.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Ss;Ss=!0;try{for(const[s,l]of this.consumers){const u=l.consumerNode.deref();null!=u&&u.trackingVersion===l.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),u?.producers.delete(this.id))}}finally{Ss=i}}producerAccessed(){if(Ss)throw new Error("");if(null===Ti)return;let i=Ti.producers.get(this.id);void 0===i?(i={consumerNode:Ti.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ti.trackingVersion},Ti.producers.set(this.id,i),this.consumers.set(Ti.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Ti.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ti?.consumerAllowSignalWrites}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Nc=null;function xc(r){const i=Rn(null);try{return r()}finally{Rn(i)}}const su=()=>{};class au extends vr{constructor(i,s,l){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=su,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Rn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=su,this.watch(this.registerOnCleanup)}finally{Rn(i)}}cleanup(){this.cleanupFn()}}class lu{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Rs(){return Ja}function Ja(r){return r.type.prototype.ngOnChanges&&(r.setInput=th),ya}function ya(){const r=nh(this),i=r?.current;if(i){const s=r.previous;if(s===Zt)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function th(r,i,s,l){const u=this.declaredInputs[s],f=nh(r)||function Xa(r,i){return r[uu]=i}(r,{previous:Zt,current:null}),m=f.current||(f.current={}),v=f.previous,I=v[u];m[u]=new lu(I&&I.currentValue,i,v===Zt),r[l]=i}Rs.ngInherit=!0;const uu="__ngSimpleChanges__";function nh(r){return r[uu]||null}const Si=function(r,i,s){};function Bt(r){for(;Array.isArray(r);)r=r[Cn];return r}function Ps(r,i){return Bt(i[r])}function Jn(r,i){return Bt(i[r.index])}function Lc(r,i){return r.data[i]}function Zi(r,i){return r[i]}function zr(r,i){const s=i[r];return In(s)?s:s[Cn]}function Ai(r,i){return null==i?null:r[i]}function Uc(r){r[da]=0}function hu(r){1024&r[mt]||(r[mt]|=1024,fu(r,1))}function el(r){1024&r[mt]&&(r[mt]&=-1025,fu(r,-1))}function fu(r,i){let s=r[rn];if(null===s)return;s[ys]+=i;let l=s;for(s=s[rn];null!==s&&(1===i&&1===l[ys]||-1===i&&0===l[ys]);)s[ys]+=i,l=s,s=s[rn]}const lt={lFrame:Cu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gu(){return lt.bindingsEnabled}function Ie(){return lt.lFrame.lView}function Rt(){return lt.lFrame.tView}function sh(r){return lt.lFrame.contextLView=r,r[ln]}function yo(r){return lt.lFrame.contextLView=null,r}function Xn(){let r=vo();for(;null!==r&&64===r.type;)r=r.parent;return r}function vo(){return lt.lFrame.currentTNode}function ii(r,i){const s=lt.lFrame;s.currentTNode=r,s.isParent=i}function Ea(){return lt.lFrame.isParent}function hn(){return lt.lFrame.bindingIndex++}function $c(r,i){const s=lt.lFrame;s.bindingIndex=s.bindingRootIndex=r,Da(i)}function Da(r){lt.lFrame.currentDirectiveIndex=r}function ba(){return lt.lFrame.currentQueryIndex}function zo(r){lt.lFrame.currentQueryIndex=r}function Mi(r){const i=r[je];return 2===i.type?i.declTNode:1===i.type?r[or]:null}function il(r,i,s){if(s&He.SkipSelf){let u=i,f=r;for(;!(u=u.parent,null!==u||s&He.Host||(u=Mi(f),null===u||(f=f[wi],10&u.type))););if(null===u)return!1;i=u,r=f}const l=lt.lFrame=Sa();return l.currentTNode=i,l.lView=r,!0}function Ta(r){const i=Sa(),s=r[je];lt.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Sa(){const r=lt.lFrame,i=null===r?null:r.child;return null===i?Cu(r):i}function Cu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ah(){const r=lt.lFrame;return lt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Qf=ah;function Zo(){const r=ah();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Cr(){return lt.lFrame.selectedIndex}function Co(r){lt.lFrame.selectedIndex=r}function mn(){const r=lt.lFrame;return Lc(r.tView,r.selectedIndex)}let Eu=!0;function Ma(){return Eu}function qo(r){Eu=r}function Iu(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const f=r.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:R}=f;m&&(r.contentHooks??=[]).push(-s,m),v&&((r.contentHooks??=[]).push(s,v),(r.contentCheckHooks??=[]).push(s,v)),I&&(r.viewHooks??=[]).push(-s,I),T&&((r.viewHooks??=[]).push(s,T),(r.viewCheckHooks??=[]).push(s,T)),null!=R&&(r.destroyHooks??=[]).push(s,R)}}function xs(r,i,s){si(r,i,3,s)}function wu(r,i,s,l){(3&r[mt])===s&&si(r,i,s,l)}function sl(r,i){let s=r[mt];(3&s)===i&&(s&=8191,s+=1,r[mt]=s)}function si(r,i,s,l){const f=l??-1,m=i.length-1;let v=0;for(let I=void 0!==l?65535&r[da]:0;I<m;I++)if("number"==typeof i[I+1]){if(v=i[I],null!=l&&v>=l)break}else i[I]<0&&(r[da]+=65536),(v<f||-1==f)&&(uh(r,s,i,I),r[da]=(4294901760&r[da])+I+2),I++}function Ri(r,i){Si(4,r,i);const s=Rn(null);try{i.call(r)}finally{Rn(s),Si(5,r,i)}}function uh(r,i,s,l){const u=s[l]<0,f=s[l+1],v=r[u?-s[l]:s[l]];u?r[mt]>>13<r[da]>>16&&(3&r[mt])===i&&(r[mt]+=8192,Ri(v,f)):Ri(v,f)}const qt=-1;class ot{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function ft(r){return r!==qt}function lr(r){return 32767&r}function Fs(r,i){let s=function Kc(r){return r>>16}(r),l=i;for(;s>0;)l=l[wi],s--;return l}let ai=!0;function Eo(r){const i=ai;return ai=r,i}const li=255,Ls=5;let Yc=0;const ui={};function Vs(r,i){const s=ul(r,i);if(-1!==s)return s;const l=i[je];l.firstCreatePass&&(r.injectorIndex=i.length,qi(l.data,r),qi(i,null),qi(l.blueprint,null));const u=Ko(r,i),f=r.injectorIndex;if(ft(u)){const m=lr(u),v=Fs(u,i),I=v[je].data;for(let T=0;T<8;T++)i[f+T]=v[m+T]|I[m+T]}return i[f+8]=u,f}function qi(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ul(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Ko(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,u=i;for(;null!==u;){if(l=dh(u),null===l)return qt;if(s++,u=u[wi],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return qt}function Ki(r,i,s){!function bu(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(ue)&&(l=s[ue]),null==l&&(l=s[ue]=Yc++);const u=l&li;i.data[r+(u>>Ls)]|=1<<u}(r,i,s)}function cl(r,i,s){if(s&He.Optional||void 0!==r)return r;Le()}function Yo(r,i,s,l){if(s&He.Optional&&void 0===l&&(l=null),!(s&(He.Self|He.Host))){const u=r[Wn],f=Jt(void 0);try{return u?u.get(i,l,s&He.Optional):cn(i,l,s&He.Optional)}finally{Jt(f)}}return cl(l,0,s)}function Oi(r,i,s,l=He.Default,u){if(null!==r){if(2048&i[mt]&&!(l&He.Self)){const m=function Qc(r,i,s,l,u){let f=r,m=i;for(;null!==f&&null!==m&&2048&m[mt]&&!(512&m[mt]);){const v=dl(f,m,s,l|He.Self,ui);if(v!==ui)return v;let I=f.parent;if(!I){const T=m[Ic];if(T){const R=T.get(s,ui,l);if(R!==ui)return R}I=dh(m),m=m[wi]}f=I}return u}(r,i,s,l,ui);if(m!==ui)return m}const f=dl(r,i,s,l,ui);if(f!==ui)return f}return Yo(i,s,l,u)}function dl(r,i,s,l,u){const f=function Yi(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ue)?r[ue]:void 0;return"number"==typeof i?i>=0?i&li:Ni:i}(s);if("function"==typeof f){if(!il(i,r,l))return l&He.Host?cl(u,0,l):Yo(i,s,l,u);try{const m=f(l);if(null!=m||l&He.Optional)return m;Le()}finally{Qf()}}else if("number"==typeof f){let m=null,v=ul(r,i),I=qt,T=l&He.Host?i[dn][or]:null;for((-1===v||l&He.SkipSelf)&&(I=-1===v?Ko(r,i):i[v+8],I!==qt&&Qo(l,!1)?(m=i[je],v=lr(I),i=Fs(I,i)):v=-1);-1!==v;){const R=i[je];if(Dn(f,v,R.data)){const x=qr(v,i,s,m,l,T);if(x!==ui)return x}I=i[v+8],I!==qt&&Qo(l,i[je].data[v+8]===T)&&Dn(f,v,i)?(m=R,v=lr(I),i=Fs(I,i)):v=-1}}return u}function qr(r,i,s,l,u,f){const m=i[je],v=m.data[r+8],R=Io(v,m,s,null==l?Wi(v)&&ai:l!=m&&0!=(3&v.type),u&He.Host&&f===v);return null!==R?wo(i,m,R,v):ui}function Io(r,i,s,l,u){const f=r.providerIndexes,m=i.data,v=1048575&f,I=r.directiveStart,R=f>>20,W=u?v+R:r.directiveEnd;for(let q=l?v:v+R;q<W;q++){const me=m[q];if(q<I&&s===me||q>=I&&me.type===s)return q}if(u){const q=m[I];if(q&&zn(q)&&q.type===s)return I}return null}function wo(r,i,s,l){let u=r[s];const f=i.data;if(function ar(r){return r instanceof ot}(u)){const m=u;m.resolving&&function be(r,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new ne(-200,`Circular dependency in DI detected for ${r}${s}`)}(function he(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Y(r)}(f[s]));const v=Eo(m.canSeeViewProviders);m.resolving=!0;const I=m.injectImpl?Jt(m.injectImpl):null;il(r,l,He.Default);try{u=r[s]=m.factory(void 0,f,r,l),i.firstCreatePass&&s>=l.directiveStart&&function zc(r,i,s){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(l){const m=Ja(i);(s.preOrderHooks??=[]).push(r,m),(s.preOrderCheckHooks??=[]).push(r,m)}u&&(s.preOrderHooks??=[]).push(0-r,u),f&&((s.preOrderHooks??=[]).push(r,f),(s.preOrderCheckHooks??=[]).push(r,f))}(s,f[s],i)}finally{null!==I&&Jt(I),Eo(v),m.resolving=!1,Qf()}}return u}function Dn(r,i,s){return!!(s[i+(r>>Ls)]&1<<r)}function Qo(r,i){return!(r&He.Self||r&He.Host&&i)}class Do{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Oi(this._tNode,this._lView,i,B(l),s)}}function Ni(){return new Do(Xn(),Ie())}function tr(r){return it(()=>{const i=r.prototype.constructor,s=i[Fr]||bo(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const f=u[Fr]||bo(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function bo(r){return Ve(r)?()=>{const i=bo(Te(r));return i&&i()}:ws(r)}function dh(r){const i=r[je],s=i.type;return 2===s?i.declTNode:1===s?r[or]:null}function Kr(r){return function ch(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let u=0;for(;u<l;){const f=s[u];if(dt(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof s[u];)u++;else{if(f===i)return s[u+1];u+=2}}}return null}(Xn(),r)}const _n="__parameters__";function Yr(r,i,s){return it(()=>{const l=function To(r){return function(...s){if(r){const l=r(...s);for(const u in l)this[u]=l[u]}}}(i);function u(...f){if(this instanceof u)return l.apply(this,f),this;const m=new u(...f);return v.annotation=m,v;function v(I,T,R){const x=I.hasOwnProperty(_n)?I[_n]:Object.defineProperty(I,_n,{value:[]})[_n];for(;x.length<=R;)x.push(null);return(x[R]=x[R]||[]).push(m),I}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}function di(r,i){r.forEach(s=>Array.isArray(s)?di(s,i):i(s))}function Xc(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function Tu(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function w(r,i,s){let l=O(r,i);return l>=0?r[1|l]=s:(l=~l,function Pa(r,i,s,l){let u=r.length;if(u==i)r.push(s,l);else if(1===u)r.push(l,r[0]),r[0]=s;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function S(r,i){const s=O(r,i);if(s>=0)return r[1|s]}function O(r,i){return function Z(r,i,s){let l=0,u=r.length>>s;for(;u!==l;){const f=l+(u-l>>1),m=r[f<<s];if(i===m)return f<<s;m>i?u=f:l=f+1}return~(u<<s)}(r,i,1)}const es=G(Yr("Optional"),8),Ir=G(Yr("SkipSelf"),4);function id(r){return 128==(128&r.flags)}var Oo=(()=>((Oo=Oo||{})[Oo.Important=1]="Important",Oo[Oo.DashCase=2]="DashCase",Oo))();const yh=new Map;let vl=0;const El="__ngContext__";function rr(r,i){In(i)?(r[El]=i[Cs],function up(r){yh.set(r[Cs],r)}(i)):r[El]=i}let wh;function fi(r,i){return wh(r,i)}function ku(r){const i=r[rn];return Br(i)?i[rn]:i}function bh(r){return Lu(r[_r])}function dr(r){return Lu(r[Vr])}function Lu(r){for(;null!==r&&!Br(r);)r=r[Vr];return r}function is(r,i,s,l,u){if(null!=l){let f,m=!1;Br(l)?f=l:In(l)&&(m=!0,l=l[Cn]);const v=Bt(l);0===r&&null!==s?null==u?De(i,s,v):K(i,s,v,u||null,!0):1===r&&null!==s?K(i,s,v,u||null,!0):2===r?function ju(r,i,s){const l=Gt(r,i);l&&function ze(r,i,s,l){r.removeChild(i,s,l)}(r,l,i,s)}(i,v,m):3===r&&i.destroyNode(v),null!=f&&function MI(r,i,s,l,u){const f=s[yr];f!==Bt(s)&&is(i,r,l,f,u);for(let v=Fn;v<s.length;v++){const I=s[v];bl(I[je],I,r,i,l,f)}}(i,r,f,s,u)}}function Uu(r,i,s){return r.createElement(i,s)}function hp(r,i){const s=r[Wo],l=s.indexOf(i);el(i),s.splice(l,1)}function _(r,i){if(r.length<=Fn)return;const s=Fn+i,l=r[s];if(l){const u=l[vs];null!==u&&u!==r&&hp(u,l),i>0&&(r[s-1][Vr]=l[Vr]);const f=Tu(r,Fn+i);!function Mm(r,i){bl(r,i,i[_t],2,null,null),i[Cn]=null,i[or]=null}(l[je],l);const m=f[Gn];null!==m&&m.detachView(f[je]),l[rn]=null,l[Vr]=null,l[mt]&=-129}return l}function d(r,i){if(!(256&i[mt])){const s=i[_t];i[Xl]?.destroy(),i[Es]?.destroy(),s.destroyNode&&bl(r,i,s,3,null,null),function Cv(r){let i=r[_r];if(!i)return p(r[je],r);for(;i;){let s=null;if(In(i))s=i[_r];else{const l=i[Fn];l&&(s=l)}if(!s){for(;i&&!i[Vr]&&i!==r;)In(i)&&p(i[je],i),i=i[rn];null===i&&(i=r),In(i)&&p(i[je],i),s=i&&i[Vr]}i=s}}(i)}}function p(r,i){if(!(256&i[mt])){i[mt]&=-129,i[mt]|=256,function b(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const u=i[s[l]];if(!(u instanceof ot)){const f=s[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=u[f[m]],I=f[m+1];Si(4,v,I);try{I.call(v)}finally{Si(5,v,I)}}else{Si(4,u,f);try{f.call(u)}finally{Si(5,u,f)}}}}}(r,i),function y(r,i){const s=r.cleanup,l=i[$o];if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const m=s[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else s[f].call(l[s[f+1]]);null!==l&&(i[$o]=null);const u=i[Ur];if(null!==u){i[Ur]=null;for(let f=0;f<u.length;f++)(0,u[f])()}}(r,i),1===i[je].type&&i[_t].destroy();const s=i[vs];if(null!==s&&Br(i[rn])){s!==i[rn]&&hp(s,i);const l=i[Gn];null!==l&&l.detachView(r)}!function cp(r){yh.delete(r[Cs])}(i)}}function A(r,i,s){return function H(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[Cn];{const{componentOffset:u}=l;if(u>-1){const{encapsulation:f}=r.data[l.directiveStart+u];if(f===nn.None||f===nn.Emulated)return null}return Jn(l,s)}}(r,i.parent,s)}function K(r,i,s,l,u){r.insertBefore(i,s,l,u)}function De(r,i,s){r.appendChild(i,s)}function xe(r,i,s,l,u){null!==l?K(r,i,s,l,u):De(r,i,s)}function Gt(r,i){return r.parentNode(i)}let zs,mp,_p,Gs=function Th(r,i,s){return 40&r.type?Jn(r,s):null};function wl(r,i,s,l){const u=A(r,l,i),f=i[_t],v=function Bu(r,i,s){return Gs(r,i,s)}(l.parent||i[or],l,i);if(null!=u)if(Array.isArray(s))for(let I=0;I<s.length;I++)xe(f,u,s[I],v,!1);else xe(f,u,s,v,!1);void 0!==zs&&zs(f,l,i,s,u)}function Dl(r,i){if(null!==i){const s=i.type;if(3&s)return Jn(i,r);if(4&s)return Hu(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return Dl(r,l);{const u=r[i.index];return Br(u)?Hu(-1,u):Bt(u)}}if(32&s)return fi(i,r)()||Bt(r[i.index]);{const l=Ah(r,i);return null!==l?Array.isArray(l)?l[0]:Dl(ku(r[dn]),l):Dl(r,i.next)}}return null}function Ah(r,i){return null!==i?r[dn][or].projection[i.projection]:null}function Hu(r,i){const s=Fn+r+1;if(s<i.length){const l=i[s],u=l[je].firstChild;if(null!==u)return Dl(l,u)}return i[yr]}function $u(r,i,s,l,u,f,m){for(;null!=s;){const v=l[s.index],I=s.type;if(m&&0===i&&(v&&rr(Bt(v),l),s.flags|=2),32!=(32&s.flags))if(8&I)$u(r,i,s.child,l,u,f,!1),is(i,r,u,v,f);else if(32&I){const T=fi(s,l);let R;for(;R=T();)is(i,r,u,R,f);is(i,r,u,v,f)}else 16&I?Wu(r,i,l,s,u,f):is(i,r,u,v,f);s=m?s.projectionNext:s.next}}function bl(r,i,s,l,u,f){$u(s,l,r.firstChild,i,u,f,!1)}function Wu(r,i,s,l,u,f){const m=s[dn],I=m[or].projection[l.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)is(i,r,u,I[T],f);else{let T=I;const R=m[rn];id(l)&&(T.flags|=128),$u(r,i,T,R,u,f,!0)}}function Iv(r,i,s){""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s)}function wv(r,i,s){const{mergedAttrs:l,classes:u,styles:f}=s;null!==l&&Je(r,i,l),null!==u&&Iv(r,i,u),null!==f&&function PI(r,i,s){r.setAttribute(i,"style",s)}(r,i,f)}function cd(r){mp=r}function Tv(r){return function Nm(){if(void 0===_p&&(_p=null,Ut.trustedTypes))try{_p=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return _p}()?.createScriptURL(r)||r}class vp{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xe})`}}function os(r){return r instanceof vp?r.changingThisBreaksApplicationSecurity:r}function Mh(r,i){const s=function LI(r){return r instanceof vp&&r.getTypeName()||null}(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Xe})`)}return s===i}const HI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function Dr(r){const i=Gu();return i?i.sanitize(ir.URL,r)||"":Mh(r,"URL")?os(r):function xm(r){return(r=String(r)).match(HI)?r:"unsafe:"+r}(Y(r))}function xv(r){const i=Gu();if(i)return Tv(i.sanitize(ir.RESOURCE_URL,r)||"");if(Mh(r,"ResourceURL"))return Tv(os(r));throw new ne(904,!1)}function JI(r,i,s){return function kv(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?xv:Dr}(i,s)(r)}function Gu(){const r=Ie();return r&&r[$i].sanitizer}class Kt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const bp=new Kt("ENVIRONMENT_INITIALIZER"),Fm=new Kt("INJECTOR",-1),qs=new Kt("INJECTOR_DEF_TYPES");class Fv{get(i,s=qn){if(s===qn){const l=new Error(`NullInjectorError: No provider for ${Q(i)}!`);throw l.name="NullInjectorError",l}return s}}function Lv(r){return{\u0275providers:r}}function wT(...r){return{\u0275providers:XI(0,r),\u0275fromNgModule:!0}}function XI(r,...i){const s=[],l=new Set;let u;return di(i,f=>{const m=f;Tp(m,s,[],l)&&(u||=[],u.push(m))}),void 0!==u&&Lm(u,s),s}function Lm(r,i){for(let s=0;s<r.length;s++){const{providers:u}=r[s];Vm(u,f=>{i.push(f)})}}function Tp(r,i,s,l){if(!(r=Te(r)))return!1;let u=null,f=fs(r);const m=!f&&Et(r);if(f||m){if(m&&!m.standalone)return!1;u=r}else{const I=r.ngModule;if(f=fs(I),!f)return!1;u=I}const v=l.has(u);if(m){if(v)return!1;if(l.add(u),m.dependencies){const I="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const T of I)Tp(T,i,s,l)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let T;l.add(u);try{di(f.imports,R=>{Tp(R,i,s,l)&&(T||=[],T.push(R))})}finally{}void 0!==T&&Lm(T,i)}if(!v){const T=ws(u)||(()=>new u);i.push({provide:u,useFactory:T,deps:ct},{provide:qs,useValue:u,multi:!0},{provide:bp,useValue:()=>Vt(u),multi:!0})}const I=f.providers;null==I||v||Vm(I,R=>{i.push(R)})}}return u!==r&&void 0!==r.providers}function Vm(r,i){for(let s of r)Pe(s)&&(s=s.\u0275providers),Array.isArray(s)?Vm(s,i):i(s)}const ew=U({provide:String,useValue:U});function Uv(r){return null!==r&&"object"==typeof r&&ew in r}function fd(r){return"function"==typeof r}const Hv=new Kt("Set Injector scope."),Sp={},bT={};let Ap;function Mp(){return void 0===Ap&&(Ap=new Fv),Ap}class zu{}class No extends zu{get destroyed(){return this._destroyed}constructor(i,s,l,u){super(),this.parent=s,this.source=l,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wv(i,m=>this.processProvider(m)),this.records.set(Fm,pd(void 0,this)),u.has("environment")&&this.records.set(zu,pd(void 0,this));const f=this.records.get(Hv);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(qs.multi,ct,He.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=tn(this),l=Jt(void 0);try{return i()}finally{tn(s),Jt(l)}}get(i,s=qn,l=He.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(te))return i[te](this);l=B(l);const u=tn(this),f=Jt(void 0);try{if(!(l&He.SkipSelf)){let v=this.records.get(i);if(void 0===v){const I=function TT(r){return"function"==typeof r||"object"==typeof r&&r instanceof Kt}(i)&&xn(i);v=I&&this.injectableDefInScope(I)?pd(Bm(i),Sp):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&He.Self?Mp():this.parent).get(i,s=l&He.Optional&&s===qn?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[ti]=m[ti]||[]).unshift(Q(i)),u)throw m;return function ie(r,i,s,l){const u=r[ti];throw i[vi]&&u.unshift(i[vi]),r.message=function Ze(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let u=Q(i);if(Array.isArray(i))u=i.map(Q).join(" -> ");else if("object"==typeof i){let f=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):Q(v)))}u=`{${f.join(", ")}}`}return`${s}${l?"("+l+")":""}[${u}]: ${r.replace(gs,"\n  ")}`}("\n"+r.message,u,s,l),r.ngTokenPath=u,r[ti]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Jt(f),tn(u)}}resolveInjectorInitializers(){const i=tn(this),s=Jt(void 0);try{const l=this.get(bp.multi,ct,He.Self);for(const u of l)u()}finally{tn(i),Jt(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(Q(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(i){let s=fd(i=Te(i))?i:Te(i&&i.provide);const l=function nw(r){return Uv(r)?pd(void 0,r.useValue):pd(jv(r),Sp)}(i);if(fd(i)||!0!==i.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=pd(void 0,Sp,!0),u.factory=()=>L(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===Sp&&(s.value=bT,s.value=s.factory()),"object"==typeof s.value&&s.value&&function rw(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Te(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Bm(r){const i=xn(r),s=null!==i?i.factory:ws(r);if(null!==s)return s;if(r instanceof Kt)throw new ne(204,!1);if(r instanceof Function)return function tw(r){const i=r.length;if(i>0)throw function Xo(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}(i,"?"),new ne(204,!1);const s=function Or(r){return r&&(r[Nr]||r[ho])||null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new ne(204,!1)}function jv(r,i,s){let l;if(fd(r)){const u=Te(r);return ws(u)||Bm(u)}if(Uv(r))l=()=>Te(r.useValue);else if(function Bv(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...L(r.deps||[]));else if(function Um(r){return!(!r||!r.useExisting)}(r))l=()=>Vt(Te(r.useExisting));else{const u=Te(r&&(r.useClass||r.provide));if(!function $v(r){return!!r.deps}(r))return ws(u)||Bm(u);l=()=>new u(...L(r.deps))}return l}function pd(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function Wv(r,i){for(const s of r)Array.isArray(s)?Wv(s,i):s&&Pe(s)?Wv(s.\u0275providers,i):i(s)}const iw=new Kt("AppId",{providedIn:"root",factory:()=>ST}),ST="ng",ow=new Kt("Platform Initializer"),Gv=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hm=new Kt("CSP nonce",{providedIn:"root",factory:()=>function dd(){if(void 0!==mp)return mp;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qv=(r,i)=>null;function xp(r,i){return qv(r,i)}class Qr{}class Jv{}class ka{resolveComponentFactory(i){throw function Vp(r){const i=Error(`No component factory found for ${Q(r)}.`);return i.ngComponent=r,i}(i)}}let Ks=(()=>{class r{}return r.NULL=new ka,r})();function aw(){return Ys(Xn(),Ie())}function Ys(r,i){return new Qu(Jn(r,i))}let Qu=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=aw,r})();function eC(r){return r instanceof Qu?r.nativeElement:r}class hr{}let tC=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function lw(){const r=Ie(),s=zr(Xn().index,r);return(In(s)?s:r)[_t]}(),r})(),uw=(()=>{class r{}return r.\u0275prov=vt({token:r,providedIn:"root",factory:()=>null}),r})();class nC{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const rC=new nC("16.1.5"),Wm={};function kh(r){for(;r;){r[mt]|=64;const i=ku(r);if(Yn(r)&&!i)return r;r=i}return null}function zm(r){return r.ngOriginalError}class Qs{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&zm(i);for(;s&&zm(s);)s=zm(s);return s||null}}const md=new Kt("",{providedIn:"root",factory:()=>!1});function ss(r){return r instanceof Function?r():r}class jp extends vr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){kh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,l){const u=Rn(this);this.trackingVersion++;try{i(s,l)}finally{Rn(u)}}destroy(){this.trackingVersion++}}let $p=null;function hC(){return $p??=new jp,$p}function Ym(r,i){return r[i]??hC()}function fC(r,i){const s=hC();s.hasReadASignal&&(r[i]=$p,s.lView=r,$p=new jp)}const bt={};function pC(r){Qm(Rt(),Ie(),Cr()+r,!1)}function Qm(r,i,s,l){if(!l)if(3==(3&i[mt])){const f=r.preOrderCheckHooks;null!==f&&xs(i,f,s)}else{const f=r.preOrderHooks;null!==f&&wu(i,f,0,s)}Co(s)}function vC(r,i=null,s=null,l){const u=Fa(r,i,s,l);return u.resolveInjectorInitializers(),u}function Fa(r,i=null,s=null,l,u=new Set){const f=[s||ct,wT(r)];return l=l||("object"==typeof r?void 0:Q(r)),new No(f,i||Mp(),l||null,u)}let Js=(()=>{class r{static create(s,l){if(Array.isArray(s))return vC({name:""},l,s,"");{const u=s.name??"";return vC({name:u},s.parent,s.providers,u)}}}return r.THROW_IF_NOT_FOUND=qn,r.NULL=new Fv,r.\u0275prov=vt({token:r,providedIn:"any",factory:()=>Vt(Fm)}),r.__NG_ELEMENT_ID__=-1,r})();function _d(r,i=He.Default){const s=Ie();return null===s?Vt(r,i):Oi(Xn(),s,Te(r),i)}function CC(){throw new Error("invalid")}function La(r,i,s,l,u,f,m,v,I,T,R){const x=i.blueprint.slice();return x[Cn]=u,x[mt]=140|l,(null!==T||r&&2048&r[mt])&&(x[mt]|=2048),Uc(x),x[rn]=x[wi]=r,x[ln]=s,x[$i]=m||r&&r[$i],x[_t]=v||r&&r[_t],x[Wn]=I||r&&r[Wn]||null,x[or]=f,x[Cs]=function yv(){return vl++}(),x[En]=R,x[Ic]=T,x[dn]=2==i.type?r[dn]:x,x}function Xu(r,i,s,l,u){let f=r.data[i];if(null===f)f=function Xm(r,i,s,l,u){const f=vo(),m=Ea(),I=r.data[i]=function SC(r,i,s,l,u,f){let m=i?i.injectorIndex:-1,v=0;return function ri(){return null!==lt.skipHydrationRootTNode}()&&(v|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,s,i,l,u);return null===r.firstChild&&(r.firstChild=I),null!==f&&(m?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I,I.prev=f)),I}(r,i,s,l,u),function er(){return lt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=l,f.attrs=u;const m=function tl(){const r=lt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return ii(f,!0),f}function Lh(r,i,s,l){if(0===s)return-1;const u=i.length;for(let f=0;f<s;f++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function EC(r,i,s,l,u){const f=Ym(i,Xl),m=Cr(),v=2&l;try{if(Co(-1),v&&i.length>Dt&&Qm(r,i,Dt,!1),Si(v?2:0,u),v)f.runInContext(s,l,u);else{const T=Rn(null);try{s(l,u)}finally{Rn(T)}}}finally{v&&null===i[Xl]&&fC(i,Xl),Co(m),Si(v?3:1,u)}}function e_(r,i,s){if(Is(i)){const l=Rn(null);try{const f=i.directiveEnd;for(let m=i.directiveStart;m<f;m++){const v=r.data[m];v.contentQueries&&v.contentQueries(1,s[m],m)}}finally{Rn(l)}}}function Vh(r,i,s){gu()&&(function RC(r,i,s,l){const u=s.directiveStart,f=s.directiveEnd;Wi(s)&&function Iw(r,i,s){const l=Jn(i,r),u=IC(s);let m=16;s.signals?m=4096:s.onPush&&(m=64);const v=qp(r,La(r,u,null,m,l,i,null,r[$i].rendererFactory.createRenderer(l,s),null,null,null));r[i.index]=v}(i,s,r.data[u+s.componentOffset]),r.firstCreatePass||Vs(s,i),rr(l,i);const m=s.initialInputs;for(let v=u;v<f;v++){const I=r.data[v],T=wo(i,r,v,s);rr(T,i),null!==m&&o_(0,v-u,T,I,0,m),zn(I)&&(zr(s.index,i)[ln]=wo(i,r,v,s))}}(r,i,s,Jn(s,i)),64==(64&s.flags)&&Tn(r,i,s))}function Gp(r,i,s=Jn){const l=i.localNames;if(null!==l){let u=i.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?s(i,r):r[m];r[u++]=v}}}function IC(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=zp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):i}function zp(r,i,s,l,u,f,m,v,I,T,R){const x=Dt+l,W=x+u,q=function _w(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:bt);return s}(x,W),me="function"==typeof T?T():T;return q[je]={type:r,blueprint:q,template:s,queries:null,viewQuery:v,declTNode:i,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:I,consts:me,incompleteFirstPass:!1,ssrId:R}}let t_=r=>null;function n_(r,i,s,l){for(let u in r)if(r.hasOwnProperty(u)){s=null===s?{}:s;const f=r[u];null===l?Uh(s,i,u,f):l.hasOwnProperty(u)&&Uh(s,i,l[u],f)}return s}function Uh(r,i,s,l){r.hasOwnProperty(s)?r[s].push(i,l):r[s]=[i,l]}function At(r,i,s,l,u,f,m,v){const I=Jn(i,s);let R,T=i.inputs;!v&&null!=T&&(R=T[l])?(Kp(r,s,R,l,u),Wi(i)&&function Yt(r,i){const s=zr(i,r);16&s[mt]||(s[mt]|=64)}(s,i.index)):3&i.type&&(l=function MC(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=m?m(u,i.value||"",l):u,f.setProperty(I,l,u))}function on(r,i,s,l){if(gu()){const u=null===l?null:{"":-1},f=function gi(r,i){const s=r.directiveRegistry;let l=null,u=null;if(s)for(let f=0;f<s.length;f++){const m=s[f];if($r(i,m.selectors,!1))if(l||(l=[]),zn(m))if(null!==m.findHostDirectiveDefs){const v=[];u=u||new Map,m.findHostDirectiveDefs(m,v,u),l.unshift(...v,m),r_(r,i,v.length)}else l.unshift(m),r_(r,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,l,u),l.push(m)}return null===l?null:[l,u]}(r,s);let m,v;null===f?m=v=null:[m,v]=f,null!==m&&Zp(r,i,s,m,u,v),u&&function i_(r,i,s){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const f=s[i[u+1]];if(null==f)throw new ne(-301,!1);l.push(i[u],f)}}}(s,l,u)}s.mergedAttrs=Ot(s.mergedAttrs,s.attrs)}function Zp(r,i,s,l,u,f){for(let T=0;T<l.length;T++)Ki(Vs(s,i),r,l[T].type);!function Cw(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}(s,r.data.length,l.length);for(let T=0;T<l.length;T++){const R=l[T];R.providersResolver&&R.providersResolver(R)}let m=!1,v=!1,I=Lh(r,i,l.length,null);for(let T=0;T<l.length;T++){const R=l[T];s.mergedAttrs=Ot(s.mergedAttrs,R.hostAttrs),Ew(r,s,i,I,R),Fo(I,R,u),null!==R.contentQueries&&(s.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(s.flags|=64);const x=R.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((r.preOrderHooks??=[]).push(s.index),m=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(s.index),v=!0),I++}!function AC(r,i,s){const u=i.directiveEnd,f=r.data,m=i.attrs,v=[];let I=null,T=null;for(let R=i.directiveStart;R<u;R++){const x=f[R],W=s?s.get(x):null,me=W?W.outputs:null;I=n_(x.inputs,R,I,W?W.inputs:null),T=n_(x.outputs,R,T,me);const Re=null===I||null===m||po(i)?null:ww(I,R,m);v.push(Re)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=8),I.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=I,i.outputs=T}(r,s,f)}function Tn(r,i,s){const l=s.directiveStart,u=s.directiveEnd,f=s.index,m=function wa(){return lt.lFrame.currentDirectiveIndex}();try{Co(f);for(let v=l;v<u;v++){const I=r.data[v],T=i[v];Da(v),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&xt(I,T)}}finally{Co(-1),Da(m)}}function xt(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function r_(r,i,s){i.componentOffset=s,(r.components??=[]).push(i.index)}function Fo(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;zn(i)&&(s[""]=r)}}function Ew(r,i,s,l,u){r.data[l]=u;const f=u.factory||(u.factory=ws(u.type)),m=new ot(f,zn(u),_d);r.blueprint[l]=m,s[l]=m,function vw(r,i,s,l,u){const f=u.hostBindings;if(f){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~i.index;(function Bh(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(m)!=v&&m.push(v),m.push(s,l,f)}}(r,i,l,Lh(r,s,u.hostVars,bt),u)}function as(r,i,s,l,u,f){const m=Jn(r,i);!function Va(r,i,s,l,u,f,m){if(null==f)r.removeAttribute(i,u,s);else{const v=null==m?Y(f):m(f,l||"",u);r.setAttribute(i,u,v,s)}}(i[_t],m,f,r.value,s,l,u)}function o_(r,i,s,l,u,f){const m=f[i];if(null!==m)for(let v=0;v<m.length;)yd(l,s,m[v++],m[v++],m[v++])}function yd(r,i,s,l,u){const f=Rn(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(l)&&(u=m[l].call(i,u)),null!==r.setInput?r.setInput(i,u,s,l):i[l]=u}finally{Rn(f)}}function ww(r,i,s){let l=null,u=0;for(;u<s.length;){const f=s[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===l&&(l=[]);const m=r[f];for(let v=0;v<m.length;v+=2)if(m[v]===i){l.push(f,m[v+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return l}function s_(r,i,s,l){return[r,!0,!1,i,null,0,l,s,null,null,null]}function PC(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const f=s[l+1];if(-1!==f){const m=r.data[f];zo(s[l]),m.contentQueries(2,i[f],f)}}}function qp(r,i){return r[_r]?r[Jl][Vr]=i:r[_r]=i,r[Jl]=i,i}function a_(r,i,s){zo(0);const l=Rn(null);try{i(r,s)}finally{Rn(l)}}function Tl(r){return r[$o]||(r[$o]=[])}function kt(r){return r.cleanup||(r.cleanup=[])}function jh(r,i){const s=r[Wn],l=s?s.get(Qs,null):null;l&&l.handleError(i)}function Kp(r,i,s,l,u){for(let f=0;f<s.length;){const m=s[f++],v=s[f++];yd(r.data[m],i[m],l,v,u)}}function Yp(r,i){const s=zr(i,r),l=s[je];!function ls(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])}(l,s);const u=s[Cn];null!==u&&null===s[En]&&(s[En]=xp(u,s[Wn])),l_(l,s,s[ln])}function l_(r,i,s){Ta(i);try{const l=r.viewQuery;null!==l&&a_(1,l,s);const u=r.template;null!==u&&EC(r,i,u,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&PC(r,i),r.staticViewQueries&&a_(2,r.viewQuery,s);const f=r.components;null!==f&&function Li(r,i){for(let s=0;s<i.length;s++)Yp(r,i[s])}(i,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[mt]&=-5,Zo()}}let NC=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(s,l,u){const f=typeof Zone>"u"?null:Zone.current,m=new au(s,T=>{this.all.has(T)&&this.queue.set(T,f)},u);let v;this.all.add(m),m.notify();const I=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=l?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return r.\u0275prov=vt({token:r,providedIn:"root",factory:()=>new r}),r})();function $h(r,i,s){let l=s?r.styles:null,u=s?r.classes:null,f=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?f=v:1==f?u=Oe(u,v):2==f&&(l=Oe(l,v+": "+i[++m]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=u:r.classesWithoutHost=u}function vd(r,i,s,l,u=!1){for(;null!==s;){const f=i[s.index];if(null!==f&&l.push(Bt(f)),Br(f)){for(let v=Fn;v<f.length;v++){const I=f[v],T=I[je].firstChild;null!==T&&vd(I[je],I,T,l)}f[yr]!==f[Cn]&&l.push(f[yr])}const m=s.type;if(8&m)vd(r,i,s.child,l);else if(32&m){const v=fi(s,i);let I;for(;I=v();)l.push(I)}else if(16&m){const v=Ah(i,s);if(Array.isArray(v))l.push(...v);else{const I=ku(i[dn]);vd(I[je],I,v,l,!0)}}s=u?s.projectionNext:s.next}return l}function Ua(r,i,s,l=!0){const u=i[$i].rendererFactory;u.begin&&u.begin();try{FC(r,i,r.template,s)}catch(m){throw l&&jh(i,m),m}finally{u.end&&u.end(),i[$i].effectManager?.flush()}}function FC(r,i,s,l){const u=i[mt];if(256!=(256&u)){i[$i].effectManager?.flush(),Ta(i);try{Uc(i),function rl(r){return lt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&EC(r,i,s,2,l);const m=3==(3&u);if(m){const T=r.preOrderCheckHooks;null!==T&&xs(i,T,null)}else{const T=r.preOrderHooks;null!==T&&wu(i,T,0,null),sl(i,0)}if(function Sw(r){for(let i=bh(r);null!==i;i=dr(i)){if(!i[Di])continue;const s=i[Wo];for(let l=0;l<s.length;l++){hu(s[l])}}}(i),LC(i,2),null!==r.contentQueries&&PC(r,i),m){const T=r.contentCheckHooks;null!==T&&xs(i,T)}else{const T=r.contentHooks;null!==T&&wu(i,T,1),sl(i,1)}!function Wp(r,i){const s=r.hostBindingOpCodes;if(null===s)return;const l=Ym(i,Es);try{for(let u=0;u<s.length;u++){const f=s[u];if(f<0)Co(~f);else{const m=f,v=s[++u],I=s[++u];$c(v,m),l.runInContext(I,2,i[m])}}}finally{null===i[Es]&&fC(i,Es),Co(-1)}}(r,i);const v=r.components;null!==v&&UC(i,v,0);const I=r.viewQuery;if(null!==I&&a_(2,I,l),m){const T=r.viewCheckHooks;null!==T&&xs(i,T)}else{const T=r.viewHooks;null!==T&&wu(i,T,2),sl(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[mt]&=-73,el(i)}finally{Zo()}}}function LC(r,i){for(let s=bh(r);null!==s;s=dr(s))for(let l=Fn;l<s.length;l++)VC(s[l],i)}function yn(r,i,s){VC(zr(i,r),s)}function VC(r,i){if(!function Vc(r){return 128==(128&r[mt])}(r))return;const s=r[je];if(80&r[mt]&&0===i||1024&r[mt]||2===i)FC(s,r,s.template,r[ln]);else if(r[ys]>0){LC(r,1);const u=r[je].components;null!==u&&UC(r,u,1)}}function UC(r,i,s){for(let l=0;l<i.length;l++)yn(r,i[l],s)}class Sl{get rootNodes(){const i=this._lView,s=i[je];return vd(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(i){this._lView[ln]=i}get destroyed(){return 256==(256&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[rn];if(Br(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(_(i,l),Tu(s,l))}this._attachedToViewContainer=!1}d(this._lView[je],this._lView)}onDestroy(i){!function mo(r,i){if(256==(256&r[mt]))throw new ne(911,!1);null===r[Ur]&&(r[Ur]=[]),r[Ur].push(i)}(this._lView,i)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){this._lView[mt]|=128}detectChanges(){Ua(this._lView[je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dp(r,i){bl(r,i,i[_t],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=i}}class c_ extends Sl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ua(i[je],i,i[ln],!1)}checkNoChanges(){}get context(){return null}}class tc extends Ks{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Et(i);return new Gh(s,this.ngModule)}}function Xs(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}class Tt{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=B(l);const u=this.injector.get(i,Wm,l);return u!==Wm||s===Wm?u:this.parentInjector.get(i,s,l)}}class Gh extends Jv{get inputs(){const i=this.componentDef,s=i.inputTransforms,l=Xs(i.inputs);if(null!==s)for(const u of l)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return l}get outputs(){return Xs(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Gd(r){return r.map(Gf).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,u){let f=(u=u||this.ngModule)instanceof zu?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Tt(i,f):i,v=m.get(hr,null);if(null===v)throw new ne(407,!1);const R={rendererFactory:v,sanitizer:m.get(uw,null),effectManager:m.get(NC,null)},x=v.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",q=l?function wC(r,i,s,l){const f=l.get(md,!1)||s===nn.ShadowDom,m=r.selectRootElement(i,f);return function DC(r){t_(r)}(m),m}(x,l,this.componentDef.encapsulation,m):Uu(x,W,function Wh(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(W)),$e=this.componentDef.signals?4608:this.componentDef.onPush?576:528,tt=zp(0,null,null,1,0,null,null,null,null,null,null),Ce=La(null,tt,null,$e,null,null,R,x,m,null,null);let It,Ft;Ta(Ce);try{const Ht=this.componentDef;let Mr,fm=null;Ht.findHostDirectiveDefs?(Mr=[],fm=new Map,Ht.findHostDirectiveDefs(Ht,Mr,fm),Mr.push(Ht)):Mr=[Ht];const sT=function Nn(r,i){const s=r[je],l=Dt;return r[l]=i,Xu(s,l,2,"#host",null)}(Ce,q),wI=function d_(r,i,s,l,u,f,m){const v=u[je];!function Aw(r,i,s,l){for(const u of r)i.mergedAttrs=Ot(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&($h(i,i.mergedAttrs,!0),null!==s&&wv(l,s,i))}(l,r,i,m);let I=null;null!==i&&(I=xp(i,u[Wn]));const T=f.rendererFactory.createRenderer(i,s);let R=16;s.signals?R=4096:s.onPush&&(R=64);const x=La(u,IC(s),null,R,u[r.index],r,f,T,null,null,I);return v.firstCreatePass&&r_(v,r,l.length-1),qp(u,x),u[r.index]=x}(sT,q,Ht,Mr,Ce,R,x);Ft=Lc(tt,Dt),q&&function BC(r,i,s,l){if(l)Je(r,s,["ng-version",rC.full]);else{const{attrs:u,classes:f}=function qa(r){const i=[],s=[];let l=1,u=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===u?""!==f&&i.push(f,r[++l]):8===u&&s.push(f);else{if(!Lr(u))break;u=f}l++}return{attrs:i,classes:s}}(i.selectors[0]);u&&Je(r,s,u),f&&f.length>0&&Iv(r,s,f.join(" "))}}(x,Ht,q,l),void 0!==s&&function Cd(r,i,s){const l=r.projection=[];for(let u=0;u<i.length;u++){const f=s[u];l.push(null!=f?Array.from(f):null)}}(Ft,this.ngContentSelectors,s),It=function h_(r,i,s,l,u,f){const m=Xn(),v=u[je],I=Jn(m,u);Zp(v,u,m,s,null,l);for(let R=0;R<s.length;R++)rr(wo(u,v,m.directiveStart+R,m),u);Tn(v,u,m),I&&rr(I,u);const T=wo(u,v,m.directiveStart+m.componentOffset,m);if(r[ln]=u[ln]=T,null!==f)for(const R of f)R(T,i);return e_(v,m,r),T}(wI,Ht,Mr,fm,Ce,[Zh]),l_(tt,Ce,null)}finally{Zo()}return new zh(this.componentType,It,Ys(Ft,Ce),Ce,Ft)}}class zh extends Qr{constructor(i,s,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new c_(u),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let u;if(null!==l&&(u=l[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const f=this._rootLView;Kp(f[je],f,u,i,s),this.previousInputValues.set(i,s),kh(zr(this._tNode.index,f))}}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Zh(){const r=Xn();Iu(Ie()[je],r)}function f_(r){let i=function Ed(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let u;if(zn(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ne(903,!1);u=i.\u0275dir}if(u){if(s){l.push(u);const m=r;m.inputs=Al(r.inputs),m.inputTransforms=Al(r.inputTransforms),m.declaredInputs=Al(r.declaredInputs),m.outputs=Al(r.outputs);const v=u.hostBindings;v&&Rw(r,v);const I=u.viewQuery,T=u.contentQueries;if(I&&Mw(r,I),T&&Qp(r,T),j(r.inputs,u.inputs),j(r.declaredInputs,u.declaredInputs),j(r.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),j(m.inputTransforms,u.inputTransforms)),zn(u)&&u.data.animation){const R=r.data;R.animation=(R.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(r),v===f_&&(s=!1)}}i=Object.getPrototypeOf(i)}!function p_(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=Ot(u.hostAttrs,s=Ot(s,u.hostAttrs))}}(l)}function Al(r){return r===Zt?{}:r===ct?[]:r}function Mw(r,i){const s=r.viewQuery;r.viewQuery=s?(l,u)=>{i(l,u),s(l,u)}:i}function Qp(r,i){const s=r.contentQueries;r.contentQueries=s?(l,u,f)=>{i(l,u,f),s(l,u,f)}:i}function Rw(r,i){const s=r.hostBindings;r.hostBindings=s?(l,u)=>{i(l,u),s(l,u)}:i}function qh(r){const i=r.inputConfig,s={};for(const l in i)if(i.hasOwnProperty(l)){const u=i[l];Array.isArray(u)&&u[2]&&(s[l]=u[2])}r.inputTransforms=s}function nc(r){return!!Kh(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Kh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Jr(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function Yh(r,i,s,l){const u=Ie();return Jr(u,hn(),i)&&(Rt(),as(mn(),u,r,i,s,l)),Yh}function Rl(r,i,s,l){return Jr(r,hn(),s)?i+Y(s)+l:bt}function T_(r,i,s,l,u,f,m,v){const I=Ie(),T=Rt(),R=r+Dt,x=T.firstCreatePass?function QC(r,i,s,l,u,f,m,v,I){const T=i.consts,R=Xu(i,r,4,m||null,Ai(T,v));on(i,s,R,Ai(T,I)),Iu(i,R);const x=R.tView=zp(2,R,l,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T,null);return null!==i.queries&&(i.queries.template(i,R),x.queries=i.queries.embeddedTView(R)),R}(R,T,I,i,s,l,u,f,m):T.data[R];ii(x,!1);const W=JC(T,I,x,r);Ma()&&wl(T,I,W,x),rr(W,I),qp(I,I[R]=s_(W,I,W,x)),Gi(x)&&Vh(T,I,x),null!=m&&Gp(I,x,v)}let JC=function XC(r,i,s,l){return qo(!0),i[_t].createComment("")};function tE(r){return Zi(function gn(){return lt.lFrame.contextLView}(),Dt+r)}function A_(r,i,s){const l=Ie();return Jr(l,hn(),i)&&At(Rt(),mn(),l,r,i,l[_t],s,!1),A_}function M_(r,i,s,l,u){const m=u?"class":"style";Kp(r,s,i.inputs[m],m,l)}function oc(r,i,s,l){const u=Ie(),f=Rt(),m=Dt+r,v=u[_t],I=f.firstCreatePass?function nE(r,i,s,l,u,f){const m=i.consts,I=Xu(i,r,2,l,Ai(m,u));return on(i,s,I,Ai(m,f)),null!==I.attrs&&$h(I,I.attrs,!1),null!==I.mergedAttrs&&$h(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(m,f,u,i,s,l):f.data[m],T=rE(f,u,I,v,i,r);u[m]=T;const R=Gi(I);return ii(I,!0),wv(v,T,I),32!=(32&I.flags)&&Ma()&&wl(f,u,T,I),0===function rh(){return lt.lFrame.elementDepthCount}()&&rr(T,u),function Hc(){lt.lFrame.elementDepthCount++}(),R&&(Vh(f,u,I),e_(f,I,u)),null!==l&&Gp(u,I),oc}function Md(){let r=Xn();Ea()?function yu(){lt.lFrame.isParent=!1}():(r=r.parent,ii(r,!1));const i=r;(function Ns(r){return lt.skipHydrationRootTNode===r})(i)&&function oh(){lt.skipHydrationRootTNode=null}(),function ih(){lt.lFrame.elementDepthCount--}();const s=Rt();return s.firstCreatePass&&(Iu(s,r),Is(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Du(r){return 0!=(8&r.flags)}(i)&&M_(s,i,Ie(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ll(r){return 0!=(16&r.flags)}(i)&&M_(s,i,Ie(),i.stylesWithoutHost,!1),Md}function cg(r,i,s,l){return oc(r,i,s,l),Md(),cg}let rE=(r,i,s,l,u,f)=>(qo(!0),Uu(l,u,function ol(){return lt.lFrame.currentNamespace}()));function N_(){return Ie()}function x_(r){return!!r&&"function"==typeof r.then}function k_(r){return!!r&&"function"==typeof r.subscribe}function dg(r,i,s,l){const u=Ie(),f=Rt(),m=Xn();return function tf(r,i,s,l,u,f,m){const v=Gi(l),T=r.firstCreatePass&&kt(r),R=i[ln],x=Tl(i);let W=!0;if(3&l.type||m){const Re=Jn(l,i),$e=m?m(Re):Re,tt=x.length,Ce=m?Ft=>m(Bt(Ft[l.index])):l.index;let It=null;if(!m&&v&&(It=function lE(r,i,s,l){const u=r.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===s&&u[f+1]===l){const v=i[$o],I=u[f+2];return v.length>I?v[I]:null}"string"==typeof m&&(f+=2)}return null}(r,i,u,l.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=f,It.__ngLastListenerFn__=f,W=!1;else{f=uE(l,i,R,f,!1);const Ft=s.listen($e,u,f);x.push(f,Ft),T&&T.push(u,Ce,tt,tt+1)}}else f=uE(l,i,R,f,!1);const q=l.outputs;let me;if(W&&null!==q&&(me=q[u])){const Re=me.length;if(Re)for(let $e=0;$e<Re;$e+=2){const Ht=i[me[$e]][me[$e+1]].subscribe(f),Mr=x.length;x.push(f,Ht),T&&T.push(u,l.index,Mr,-(Mr+1))}}}(f,u,u[_t],m,r,i,l),dg}function F_(r,i,s,l){try{return Si(6,i,s),!1!==s(l)}catch(u){return jh(r,u),!1}finally{Si(7,i,s)}}function uE(r,i,s,l,u){return function f(m){if(m===Function)return l;kh(r.componentOffset>-1?zr(r.index,i):i);let I=F_(i,s,l,m),T=f.__ngNextListenerFn__;for(;T;)I=F_(i,s,T,m)&&I,T=T.__ngNextListenerFn__;return u&&!1===I&&m.preventDefault(),I}}function cE(r=1){return function Wc(r){return(lt.lFrame.contextLView=function Jf(r,i){for(;r>0;)i=i[wi],r--;return i}(r,lt.lFrame.contextLView))[ln]}(r)}function V_(r,i,s){return hg(r,"",i,"",s),V_}function hg(r,i,s,l,u){const f=Ie(),m=Rl(f,i,s,l);return m!==bt&&At(Rt(),mn(),f,r,m,f[_t],u,!1),hg}function fg(r,i){return r<<17|i<<2}function xl(r){return r>>17&32767}function $_(r){return 2|r}function Vi(r){return(131068&r)>>2}function sc(r,i){return-131069&r|i<<2}function W_(r){return 1|r}function pg(r,i,s,l,u){const f=r[s+1],m=null===i;let v=l?xl(f):Vi(f),I=!1;for(;0!==v&&(!1===I||m);){const R=r[v+1];gg(r[v],i)&&(I=!0,r[v+1]=l?W_(R):$_(R)),v=l?xl(R):Vi(R)}I&&(r[s+1]=l?$_(f):W_(f))}function gg(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&O(r,i)>=0}function lf(r,i){return function Vo(r,i,s,l){const u=Ie(),f=Rt(),m=function oi(r){const i=lt.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}(2);f.firstUpdatePass&&function vg(r,i,s,l){const u=r.data;if(null===u[s+1]){const f=u[Cr()],m=function yg(r,i){return i>=r.expandoStartIndex}(r,s);(function cf(r,i){return 0!=(r.flags&(i?8:16))})(f,l)&&null===i&&!m&&(i=!1),i=function Cg(r,i,s,l){const u=function vu(r){const i=lt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let f=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(s=Fl(s=K_(null,r,i,s,l),i.attrs,l),f=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(s=K_(u,r,i,s,l),null===f){let I=function lc(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Vi(l))return r[xl(l)]}(r,i,l);void 0!==I&&Array.isArray(I)&&(I=K_(null,r,i,I[1],l),I=Fl(I,i.attrs,l),function q_(r,i,s,l){r[xl(s?i.classBindings:i.styleBindings)]=l}(r,i,l,I))}else f=function vE(r,i,s){let l;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)l=Fl(l,r[f].hostAttrs,s);return Fl(l,i.attrs,s)}(r,i,l)}return void 0!==f&&(l?i.residualClasses=f:i.residualStyles=f),s}(u,f,i,l),function pE(r,i,s,l,u,f){let m=f?i.classBindings:i.styleBindings,v=xl(m),I=Vi(m);r[l]=s;let R,T=!1;if(Array.isArray(s)?(R=s[1],(null===R||O(s,R)>0)&&(T=!0)):R=s,u)if(0!==I){const W=xl(r[v+1]);r[l+1]=fg(W,v),0!==W&&(r[W+1]=sc(r[W+1],l)),r[v+1]=function j_(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=fg(v,0),0!==v&&(r[v+1]=sc(r[v+1],l)),v=l;else r[l+1]=fg(I,0),0===v?v=l:r[I+1]=sc(r[I+1],l),I=l;T&&(r[l+1]=$_(r[l+1])),pg(r,R,l,!0),pg(r,R,l,!1),function zw(r,i,s,l,u){const f=u?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof i&&O(f,i)>=0&&(s[l+1]=W_(s[l+1]))}(i,R,r,l,f),m=fg(v,I),f?i.classBindings=m:i.styleBindings=m}(u,f,i,s,m,l)}}(f,r,m,l),i!==bt&&Jr(u,m,i)&&function IE(r,i,s,l,u,f,m,v){if(!(3&i.type))return;const I=r.data,T=I[v+1],R=function Gw(r){return 1==(1&r)}(T)?wE(I,i,s,u,Vi(T),m):void 0;Eg(R)||(Eg(f)||function fE(r){return 2==(2&r)}(T)&&(f=wE(I,null,s,u,v,m)),function RI(r,i,s,l,u){if(i)u?r.addClass(s,l):r.removeClass(s,l);else{let f=-1===l.indexOf("-")?void 0:Oo.DashCase;null==u?r.removeStyle(s,l,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Oo.Important),r.setStyle(s,l,u,f))}}(l,m,Ps(Cr(),s),u,f))}(f,f.data[Cr()],u,u[_t],r,u[m+1]=function Q_(r,i){return null==r||""===r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Q(os(r)))),r}(i,s),l,m)}(r,i,null,!0),lf}function K_(r,i,s,l,u){let f=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(f=i[v],l=Fl(l,f.hostAttrs,u),f!==r);)v++;return null!==r&&(s.directiveStylingLast=v),l}function Fl(r,i,s){const l=s?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?u=m:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),w(r,m,!!s||i[++f]))}return void 0===r?null:r}function wE(r,i,s,l,u,f){const m=null===i;let v;for(;u>0;){const I=r[u],T=Array.isArray(I),R=T?I[1]:I,x=null===R;let W=s[u+1];W===bt&&(W=x?ct:void 0);let q=x?S(W,l):R===l?W:void 0;if(T&&!Eg(q)&&(q=S(I,l)),Eg(q)&&(v=q,m))return v;const me=r[u+1];u=m?xl(me):Vi(me)}if(null!==i){let I=f?i.residualClasses:i.residualStyles;null!=I&&(v=S(I,l))}return v}function Eg(r){return void 0!==r}function J_(r,i=""){const s=Ie(),l=Rt(),u=r+Dt,f=l.firstCreatePass?Xu(l,u,1,i,null):l.data[u],m=DE(l,s,f,i,r);s[u]=m,Ma()&&wl(l,s,m,f),ii(f,!1)}let DE=(r,i,s,l,u)=>(qo(!0),function Vu(r,i){return r.createText(i)}(i[_t],l));function uc(r){return Ig("",r,""),uc}function Ig(r,i,s){const l=Ie(),u=Rl(l,r,i,s);return u!==bt&&function Tr(r,i,s){const l=Ps(i,r);!function to(r,i,s){r.setValue(i,s)}(r[_t],l,s)}(l,Cr(),u),Ig}const Ui=void 0;var oy=["en",[["a","p"],["AM","PM"],Ui],[["AM","PM"],Ui,Ui],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ui,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ui,"{1} 'at' {0}",Ui],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nD(r){const s=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let $a={};function Ll(r){const i=function ly(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=ay(i);if(s)return s;const l=i.split("-")[0];if(s=ay(l),s)return s;if("en"===l)return oy;throw new ne(701,!1)}function sy(r){return Ll(r)[ut.PluralCase]}function ay(r){return r in $a||($a[r]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[r]),$a[r]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const Nd="en-US";let dy=Nd;function vy(r,i,s,l,u){if(r=Te(r),Array.isArray(r))for(let f=0;f<r.length;f++)vy(r[f],i,s,l,u);else{const f=Rt(),m=Ie();let v=fd(r)?r:Te(r.provide),I=jv(r);const T=Xn(),R=1048575&T.providerIndexes,x=T.directiveStart,W=T.providerIndexes>>20;if(fd(r)||!r.multi){const q=new ot(I,u,_d),me=pr(v,i,u?R:R+W,x);-1===me?(Ki(Vs(T,m),f,v),Cy(f,r,i.length),i.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),s.push(q),m.push(q)):(s[me]=q,m[me]=q)}else{const q=pr(v,i,R+W,x),me=pr(v,i,R,R+W),$e=me>=0&&s[me];if(u&&!$e||!u&&!(q>=0&&s[q])){Ki(Vs(T,m),f,v);const tt=function LD(r,i,s,l,u){const f=new ot(r,s,_d);return f.multi=[],f.index=i,f.componentProviders=0,za(f,u,l&&!s),f}(u?Cf:uo,s.length,u,l,I);!u&&$e&&(s[me].providerFactory=tt),Cy(f,r,i.length,0),i.push(v),T.directiveStart++,T.directiveEnd++,u&&(T.providerIndexes+=1048576),s.push(tt),m.push(tt)}else Cy(f,r,q>-1?q:me,za(s[u?me:q],I,!u&&l));!u&&l&&$e&&s[me].componentProviders++}}}function Cy(r,i,s,l){const u=fd(i),f=function DT(r){return!!r.useClass}(i);if(u||f){const I=(f?Te(i.useClass):i).prototype.ngOnDestroy;if(I){const T=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const R=T.indexOf(s);-1===R?T.push(s,[l,I]):T[R+1].push(l,I)}else T.push(s,I)}}}function za(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function pr(r,i,s,l){for(let u=s;u<l;u++)if(i[u]===r)return u;return-1}function uo(r,i,s,l){return Ey(this.multi,[])}function Cf(r,i,s,l){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=wo(s,s[je],this.providerFactory.index,l);f=v.slice(0,m),Ey(u,f);for(let I=m;I<v.length;I++)f.push(v[I])}else f=[],Ey(u,f);return f}function Ey(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function s0(r,i=[]){return s=>{s.providersResolver=(l,u)=>function FD(r,i,s){const l=Rt();if(l.firstCreatePass){const u=zn(r);vy(s,l.data,l.blueprint,u,!0),vy(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class kd{}class Ef{}function VD(r,i){return new xg(r,i??null,[])}class xg extends kd{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tc(this);const u=Kn(i);this._bootstrapComponents=ss(u.bootstrap),this._r3Injector=Fa(i,s,[{provide:kd,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver},...l],Q(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class kg extends Ef{constructor(i){super(),this.moduleType=i}create(i){return new xg(this.moduleType,i,[])}}class Fg extends kd{constructor(i){super(),this.componentFactoryResolver=new tc(this),this.instance=null;const s=new No([...i.providers,{provide:kd,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver}],i.parent||Mp(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function If(r,i,s=null){return new Fg({providers:r,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let UD=(()=>{class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=XI(0,s.type),u=l.length>0?If([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,u)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=vt({token:r,providedIn:"environment",factory:()=>new r(Vt(zu))}),r})();function BD(r){r.getStandaloneInjector=i=>i.get(UD).getOrCreateStandaloneInjector(r)}function d0(r,i,s,l,u,f){const m=i+s;return Jr(r,m,u)?function ea(r,i,s){return r[i]=s}(r,m+1,f?l.call(f,u):l(u)):function wf(r,i){const s=r[i];return s===bt?void 0:s}(r,m+1)}function bf(r,i){const s=Rt();let l;const u=r+Dt;s.firstCreatePass?(l=function Hg(r,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(r===l.name)return l}}(i,s.pipeRegistry),s.data[u]=l,l.onDestroy&&(s.destroyHooks??=[]).push(u,l.onDestroy)):l=s.data[u];const f=l.factory||(l.factory=ws(l.type)),m=Jt(_d);try{const v=Eo(!1),I=f();return Eo(v),function Bw(r,i,s,l){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=l}(s,Ie(),u,I),I}finally{Jt(m)}}function f0(r,i,s){const l=r+Dt,u=Ie(),f=Zi(u,l);return function Fd(r,i){return r[je].data[i].pure}(u,l)?d0(u,function sr(){const r=lt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),i,f.transform,s,f):f.transform(s)}function $g(r){return i=>{setTimeout(r,void 0,i)}}const sa=class jg extends c.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let u=i,f=s||(()=>null),m=l;if(i&&"object"==typeof i){const I=i;u=I.next?.bind(I),f=I.error?.bind(I),m=I.complete?.bind(I)}this.__isAsync&&(f=$g(f),u&&(u=$g(u)),m&&(m=$g(m)));const v=super.subscribe({next:u,error:f,complete:m});return i instanceof z.w0&&i.add(v),v}};function tb(){return this._results[Symbol.iterator]()}class by{get changes(){return this._changes||(this._changes=new sa)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=by.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=tb)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const u=function nr(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Mo(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],f=i[l];if(s&&(u=s(u),f=s(f)),f!==u)return!1}return!0}(l._results,u,s))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sf=(()=>{class r{}return r.__NG_ELEMENT_ID__=m0,r})();const g0=Sf,Ty=class extends g0{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s,null)}createEmbeddedViewImpl(i,s,l){const m=this._declarationTContainer.tView,v=La(this._declarationLView,m,i,4096&this._declarationLView[mt]?4096:16,null,m.declTNode,null,null,null,s||null,l||null);v[vs]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Gn];return null!==T&&(v[Gn]=T.createEmbeddedView(m)),l_(m,v,i),new Sl(v)}};function m0(){return Ld(Xn(),Ie())}function Ld(r,i){return 4&r.type?new Ty(i,r,Ys(r,i)):null}let zg=(()=>{class r{}return r.__NG_ELEMENT_ID__=ib,r})();function ib(){return Kg(Xn(),Ie())}const ob=zg,Rf=class extends ob{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Ys(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ko(this._hostTNode,this._hostLView);if(ft(i)){const s=Fs(i,this._hostLView),l=lr(i);return new Do(s[je].data[l+8],s)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Zg(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Fn}createEmbeddedView(i,s,l){let u,f;"number"==typeof l?u=l:null!=l&&(u=l.index,f=l.injector);const v=i.createEmbeddedViewImpl(s||{},f,null);return this.insertImpl(v,u,false),v}createComponent(i,s,l,u,f){const m=i&&!function Hs(r){return"function"==typeof r}(i);let v;if(m)v=s;else{const Re=s||{};v=Re.index,l=Re.injector,u=Re.projectableNodes,f=Re.environmentInjector||Re.ngModuleRef}const I=m?i:new Gh(Et(i)),T=l||this.parentInjector;if(!f&&null==I.ngModule){const $e=(m?T:this.parentInjector).get(zu,null);$e&&(f=$e)}Et(I.componentType??{});const q=I.create(T,u,null,f);return this.insertImpl(q.hostView,v,false),q}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const u=i._lView,f=u[je];if(function du(r){return Br(r[rn])}(u)){const I=this.indexOf(i);if(-1!==I)this.detach(I);else{const T=u[rn],R=new Rf(T,T[or],T[rn]);R.detach(R.indexOf(i))}}const m=this._adjustIndex(s),v=this._lContainer;if(function Rm(r,i,s,l){const u=Fn+l,f=s.length;l>0&&(s[u-1][Vr]=i),l<f-Fn?(i[Vr]=s[u],Xc(s,Fn+l,i)):(s.push(i),i[Vr]=null),i[rn]=s;const m=i[vs];null!==m&&s!==m&&function Ev(r,i){const s=r[Wo];i[dn]!==i[rn][rn][dn]&&(r[Di]=!0),null===s?r[Wo]=[i]:s.push(i)}(m,i);const v=i[Gn];null!==v&&v.insertView(r),i[mt]|=128}(f,u,v,m),!l){const I=Hu(m,v),T=u[_t],R=Gt(T,v[yr]);null!==R&&function vv(r,i,s,l,u,f){l[Cn]=u,l[or]=i,bl(r,l,s,1,u,f)}(f,v[or],T,u,R,I)}return i.attachToViewContainerRef(),Xc(qg(v),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Zg(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=_(this._lContainer,s);l&&(Tu(qg(this._lContainer),s),d(l[je],l))}detach(i){const s=this._adjustIndex(i,-1),l=_(this._lContainer,s);return l&&null!=Tu(qg(this._lContainer),s)?new Sl(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function Zg(r){return r[8]}function qg(r){return r[8]||(r[8]=[])}function Kg(r,i){let s;const l=i[r.index];return Br(l)?s=l:(s=s_(l,i,null,r),i[r.index]=s,qp(i,s)),Yg(s,i,r,l),new Rf(s,r,i)}let Yg=function Oy(r,i,s,l){if(r[yr])return;let u;u=8&s.type?Bt(l):function Py(r,i){const s=r[_t],l=s.createComment(""),u=Jn(i,r);return K(s,Gt(s,u),l,function Hr(r,i){return r.nextSibling(i)}(s,u),!1),l}(i,s),r[yr]=u};class Vl{constructor(i){this.queryList=i,this.matches=null}clone(){return new Vl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qg{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let f=0;f<l;f++){const m=s.getByIndex(f);u.push(this.queries[m.indexInDeclarationView].clone())}return new Qg(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Ly(i,s).matches&&this.queries[s].setDirty()}}class y0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class Ny{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const u=null!==s?s.length:0,f=this.getByIndex(l).embeddedTView(i,u);f&&(f.indexInDeclarationView=l,null!==s?s.push(f):s=[f])}return null!==s?new Ny(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class xy{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new xy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(i,s,ab(s,f)),this.matchTNodeWithReadOption(i,s,Io(s,i,f,!1,!1))}else l===Sf?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Io(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===Qu||u===zg||u===Sf&&4&s.type)this.addMatch(s.index,-2);else{const f=Io(s,i,u,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function ab(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function ub(r,i,s,l){return-1===s?function lb(r,i){return 11&r.type?Ys(r,i):4&r.type?Ld(r,i):null}(i,r):-2===s?function cb(r,i,s){return s===Qu?Ys(i,r):s===Sf?Ld(i,r):s===zg?Kg(i,r):void 0}(r,i,l):wo(r,r[je],s,i)}function v0(r,i,s,l){const u=i[Gn].queries[l];if(null===u.matches){const f=r.data,m=s.matches,v=[];for(let I=0;I<m.length;I+=2){const T=m[I];v.push(T<0?null:ub(i,f[T],m[I+1],s.metadata.read))}u.matches=v}return u.matches}function ky(r,i,s,l){const u=r.queries.getByIndex(s),f=u.matches;if(null!==f){const m=v0(r,i,u,s);for(let v=0;v<f.length;v+=2){const I=f[v];if(I>0)l.push(m[v/2]);else{const T=f[v+1],R=i[-I];for(let x=Fn;x<R.length;x++){const W=R[x];W[vs]===W[rn]&&ky(W[je],W,T,l)}if(null!==R[Wo]){const x=R[Wo];for(let W=0;W<x.length;W++){const q=x[W];ky(q[je],q,T,l)}}}}}return l}function Pf(r){const i=Ie(),s=Rt(),l=ba();zo(l+1);const u=Ly(s,l);if(r.dirty&&function Kf(r){return 4==(4&r[mt])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const f=u.crossesNgTemplate?ky(s,i,l,[]):v0(s,i,u,l);r.reset(f,eC),r.notifyOnChanges()}return!0}return!1}function Fy(r,i,s,l){const u=Rt();if(u.firstCreatePass){const f=Xn();(function I0(r,i,s){null===r.queries&&(r.queries=new Ny),r.queries.track(new xy(i,s))})(u,new y0(i,s,l),f.index),function w0(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(u,r),2==(2&s)&&(u.staticContentQueries=!0)}!function E0(r,i,s){const l=new by(4==(4&s));(function TC(r,i,s,l){const u=Tl(i);u.push(s),r.firstCreatePass&&kt(r).push(l,u.length-1)})(r,i,l,l.destroy),null===i[Gn]&&(i[Gn]=new Qg),i[Gn].queries.push(new Vl(l))}(u,Ie(),s)}function Jg(){return function db(r,i){return r[Gn].queries[i].queryList}(Ie(),ba())}function Ly(r,i){return r.queries.getByIndex(i)}function b0(r){return!!Kn(r)}const Ky=new Kt("Application Initializer");let Yy=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=Pt(Ky,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const u of this.appInits){const f=u();if(x_(f))s.push(f);else if(k_(f)){const m=new Promise((v,I)=>{f.subscribe({complete:v,error:I})});s.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(u=>{this.reject(u)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),L0=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ul=new Kt("LocaleId",{providedIn:"root",factory:()=>Pt(Ul,He.Optional|He.SkipSelf)||function Tb(){return typeof $localize<"u"&&$localize.locale||Nd}()}),Sb=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kf=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Mb{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let Rb=(()=>{class r{compileModuleSync(s){return new kg(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),f=ss(Kn(s).declarations).reduce((m,v)=>{const I=Et(v);return I&&m.push(new Gh(I)),m},[]);return new Mb(l,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function H0(...r){}class _i{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&s,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ob(){const r="function"==typeof Ut.requestAnimationFrame;let i=Ut[r?"requestAnimationFrame":"setTimeout"],s=Ut[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Nb(r){const i=()=>{!function gS(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ut,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,nm(r),r.isCheckStableRunning=!0,Qy(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),nm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,u,f,m,v)=>{try{return Bl(r),s.invokeTask(u,f,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&i(),hs(r)}},onInvoke:(s,l,u,f,m,v,I)=>{try{return Bl(r),s.invoke(u,f,m,v,I)}finally{r.shouldCoalesceRunChangeDetection&&i(),hs(r)}},onHasTask:(s,l,u,f)=>{s.hasTask(u,f),l===u&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,nm(r),Qy(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,l,u,f)=>(s.handleError(u,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new ne(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,i,j0,H0,H0);try{return f.runTask(m,s,l)}finally{f.cancelTask(m)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const j0={};function Qy(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function nm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Bl(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function hs(r){r._nesting--,Qy(r)}class xb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,u){return i.apply(s,l)}}const Jy=new Kt("",{providedIn:"root",factory:$0});function $0(){const r=Pt(_i);let i=!0;const s=new J.y(u=>{i=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{u.next(i),u.complete()})}),l=new J.y(u=>{let f;r.runOutsideAngular(()=>{f=r.onStable.subscribe(()=>{_i.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const m=r.onUnstable.subscribe(()=>{_i.assertInAngularZone(),i&&(i=!1,r.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});return(0,ee.T)(s,l.pipe((0,de.B)()))}const W0=new Kt(""),G0=new Kt("");let Ar,Ff=(()=>{class r{constructor(s,l,u){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ar||(function z0(r){Ar=r}(u),u.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,u){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,u){return[]}}return r.\u0275fac=function(s){return new(s||r)(Vt(_i),Vt(Za),Vt(G0))},r.\u0275prov=vt({token:r,factory:r.\u0275fac}),r})(),Za=(()=>{class r{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Ar?.findTestabilityInTree(this,s,l)??null}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),yi=null;const Z0=new Kt("AllowMultipleToken"),q0=new Kt("PlatformDestroyListeners"),rm=new Kt("appBootstrapListener");class Q0{constructor(i,s){this.name=i,this.token=s}}function ev(r,i,s=[]){const l=`Platform: ${i}`,u=new Kt(l);return(f=[])=>{let m=im();if(!m||m.injector.get(Z0,!1)){const v=[...s,...f,{provide:u,useValue:!0}];r?r(v):function J0(r){if(yi&&!yi.get(Z0,!1))throw new ne(400,!1);(function Xy(){!function Qa(r){Nc=r}(()=>{throw new ne(600,!1)})})(),yi=r;const i=r.get(nv);(function Lf(r){r.get(ow,null)?.forEach(s=>s())})(r)}(function tv(r=[],i){return Js.create({name:i,providers:[{provide:Hv,useValue:"platform"},{provide:q0,useValue:new Set([()=>yi=null])},...r]})}(v,l))}return function eI(r){const i=im();if(!i)throw new ne(401,!1);return i}()}}function im(){return yi?.get(nv)??null}let nv=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const u=function tI(r="zone.js",i){return"noop"===r?new xb:"zone.js"===r?new _i(i):r}(l?.ngZone,function om(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return u.run(()=>{const f=function Iy(r,i,s){return new xg(r,i,s)}(s.moduleType,this.injector,function ei(r){return[{provide:_i,useFactory:r},{provide:bp,multi:!0,useFactory:()=>{const i=Pt(rI,{optional:!0});return()=>i.initialize()}},{provide:Uf,useFactory:nI},{provide:Jy,useFactory:$0}]}(()=>u)),m=f.injector.get(Qs,null);return u.runOutsideAngular(()=>{const v=u.onError.subscribe({next:I=>{m.handleError(I)}});f.onDestroy(()=>{Vf(this._modules,f),v.unsubscribe()})}),function sm(r,i,s){try{const l=s();return x_(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(m,u,()=>{const v=f.injector.get(Yy);return v.runInitializers(),v.donePromise.then(()=>(function Ag(r){Ge(r,"Expected localeId to be defined"),"string"==typeof r&&(dy=r.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ul,Nd)||Nd),this._moduleDoBootstrap(f),f))})})}bootstrapModule(s,l=[]){const u=rv({},l);return function K0(r,i,s){const l=new kg(s);return Promise.resolve(l)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const l=s.injector.get(pc);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new ne(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(q0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(Vt(Js))},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function rv(r,i){return Array.isArray(i)?i.reduce(rv,r):{...r,...i}}let pc=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pt(Uf),this.zoneIsStable=Pt(Jy),this.componentTypes=[],this.components=[],this.isStable=Pt(kf).hasPendingTasks.pipe((0,Se.w)(s=>s?(0,ce.of)(!1):this.zoneIsStable),(0,ae.x)(),(0,de.B)()),this._injector=Pt(zu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const u=s instanceof Jv;if(!this._injector.get(Yy).done)throw!u&&go(s),new ne(405,!1);let m;m=u?s:this._injector.get(Ks).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function Y0(r){return r.isBoundToModule}(m)?void 0:this._injector.get(kd),T=m.create(Js.NULL,[],l||m.selector,v),R=T.location.nativeElement,x=T.injector.get(W0,null);return x?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),Vf(this.components,T),x?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Vf(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(rm,[]);l.push(...this._bootstrapListeners),l.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Vf(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ne(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Vf(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}const Uf=new Kt("",{providedIn:"root",factory:()=>Pt(Qs).handleError.bind(void 0)});function nI(){const r=Pt(_i),i=Pt(Qs);return s=>r.runOutsideAngular(()=>i.handleError(s))}let rI=(()=>{class r{constructor(){this.zone=Pt(_i),this.applicationRef=Pt(pc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=vt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function iI(){return!1}let iv=(()=>{class r{}return r.__NG_ELEMENT_ID__=um,r})();function um(r){return function Vb(r,i,s){if(Wi(r)&&!s){const l=zr(r.index,i);return new Sl(l,l)}return 47&r.type?new Sl(i[dn],i):null}(Xn(),Ie(),16==(16&r))}class hI{constructor(){}supports(i){return nc(i)}create(i){return new fI(i)}}const cm=(r,i)=>i;class fI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||cm}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,u=0,f=null;for(;s||l;){const m=!l||s&&s.currentIndex<Bb(l,u,f)?s:l,v=Bb(m,u,f),I=m.currentIndex;if(m===l)u--,l=l._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{f||(f=[]);const T=v-u,R=I-u;if(T!=R){for(let W=0;W<T;W++){const q=W<f.length?f[W]:f[W]=0,me=q+W;R<=me&&me<T&&(f[W]=q+1)}f[m.previousIndex]=R-T}}v!==I&&i(m,v,I)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!nc(i))throw new ne(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,m,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],m=this._trackByFn(v,f),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,f,m,v)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,m,v),l=!0),s=s._next}else u=0,function __(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,v,m,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,u),l=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,f,u)):i=this._addAfter(new pI(s,l),f,u),i}_verifyReinsertion(i,s,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new dm),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dm),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class pI{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class dm{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new gI,this.map.set(s,l)),l.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(r,i,s){const l=r.previousIndex;if(null===l)return l;let u=0;return s&&l<s.length&&(u=s[l]),l+i+u}class Hb{constructor(){}supports(i){return i instanceof Map||Kh(i)}create(){return new jb}}class jb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Kh(i)))throw new ne(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,l);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const l=new IS(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class IS{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gc(){return new Hd([new hI])}let Hd=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const u=l.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||gc()),deps:[[r,new Ir,new es]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(null!=l)return l;throw new ne(901,!1)}}return r.\u0275prov=vt({token:r,providedIn:"root",factory:gc}),r})();function jd(){return new $d([new Hb])}let $d=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const u=l.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||jd()),deps:[[r,new Ir,new es]]}}find(s){const l=this.factories.find(u=>u.supports(s));if(l)return l;throw new ne(901,!1)}}return r.\u0275prov=vt({token:r,providedIn:"root",factory:jd}),r})();const Wb=ev(null,"core",[]);let Gb=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(Vt(pc))},r.\u0275mod=ji({type:r}),r.\u0275inj=an({}),r})();function Xb(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function iT(r){const i=Et(r);if(!i)return null;const s=new Gh(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},3106:(Qe,ve,P)=>{P.d(ve,{Z:()=>Be});var c=P(9058),z=P(4537),N=P(534),J=P(7879);class ee{constructor(Ve,Pe){this._delegate=Ve,this.firebase=Pe,(0,N._addComponent)(Ve,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ve,Pe=N._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Ve);return!Xe.isInitialized()&&"EXPLICIT"===(null===(st=Xe.getComponent())||void 0===st?void 0:st.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:Pe})}_removeServiceInstance(Ve,Pe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(Pe)}_addComponent(Ve){(0,N._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,N._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function ae(){const Te=function Se(Te){const Ve={},Pe={__esModule:!0,initializeApp:function ne(be,Ne={}){const re=N.initializeApp(be,Ne);if((0,c.r3)(Ve,re.name))return Ve[re.name];const Le=new Te(re,Pe);return Ve[re.name]=Le,Le},app:Xe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Y(be){const Ne=be.name,re=Ne.replace("-compat","");if(N._registerComponent(be)&&"PUBLIC"===be.type){const Le=(St=Xe())=>{if("function"!=typeof St[re])throw de.create("invalid-app-argument",{appName:Ne});return St[re]()};void 0!==be.serviceProps&&(0,c.ZB)(Le,be.serviceProps),Pe[re]=Le,Te.prototype[re]=function(...St){return this._getService.bind(this,Ne).apply(this,be.multipleInstances?St:[])}}return"PUBLIC"===be.type?Pe[re]:null},removeApp:function st(be){delete Ve[be]},useAsService:function he(be,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:N}};function Xe(be){if(!(0,c.r3)(Ve,be=be||N._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:be});return Ve[be]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function fe(){return Object.keys(Ve).map(be=>Ve[be])}}),Xe.App=Te,Pe}(ee);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function Ve(Pe){(0,c.ZB)(Te,Pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Te}(),j=new J.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=U;!function we(Te){(0,N.registerVersion)("@firebase/app-compat","0.2.13",Te)}()},534:(Qe,ve,P)=>{P.r(ve),P.d(ve,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>fo,_DEFAULT_ENTRY_NAME:()=>He,_addComponent:()=>cn,_addOrOverwriteComponent:()=>mr,_apps:()=>rt,_clearComponents:()=>jt,_components:()=>Jt,_getProvider:()=>Hn,_registerComponent:()=>Ut,_removeServiceInstance:()=>ps,deleteApp:()=>jn,getApp:()=>kr,getApps:()=>vi,initializeApp:()=>gs,onLog:()=>Ci,registerVersion:()=>tn,setLogLevel:()=>Vt});var c=P(5861),z=P(4537),N=P(7879),J=P(9058);const ee=(ue,te)=>te.some(Me=>ue instanceof Me);let ce,de;const U=new WeakMap,j=new WeakMap,Q=new WeakMap,Oe=new WeakMap,we=new WeakMap;let Ve={get(ue,te,Me){if(ue instanceof IDBTransaction){if("done"===te)return j.get(ue);if("objectStoreNames"===te)return ue.objectStoreNames||Q.get(ue);if("store"===te)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return ne(ue[te])},set:(ue,te,Me)=>(ue[te]=Me,!0),has:(ue,te)=>ue instanceof IDBTransaction&&("done"===te||"store"===te)||te in ue};function Xe(ue){return"function"==typeof ue?function st(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...te){return ue.apply(fe(this),te),ne(U.get(this))}:function(...te){return ne(ue.apply(fe(this),te))}:function(te,...Me){const Je=ue.call(fe(this),te,...Me);return Q.set(Je,te.sort?te.sort():[te]),ne(Je)}}(ue):(ue instanceof IDBTransaction&&function Te(ue){if(j.has(ue))return;const te=new Promise((Me,Je)=>{const dt=()=>{ue.removeEventListener("complete",Ct),ue.removeEventListener("error",Ot),ue.removeEventListener("abort",Ot)},Ct=()=>{Me(),dt()},Ot=()=>{Je(ue.error||new DOMException("AbortError","AbortError")),dt()};ue.addEventListener("complete",Ct),ue.addEventListener("error",Ot),ue.addEventListener("abort",Ot)});j.set(ue,te)}(ue),ee(ue,function Se(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ve):ue)}function ne(ue){if(ue instanceof IDBRequest)return function Be(ue){const te=new Promise((Me,Je)=>{const dt=()=>{ue.removeEventListener("success",Ct),ue.removeEventListener("error",Ot)},Ct=()=>{Me(ne(ue.result)),dt()},Ot=()=>{Je(ue.error),dt()};ue.addEventListener("success",Ct),ue.addEventListener("error",Ot)});return te.then(Me=>{Me instanceof IDBCursor&&U.set(Me,ue)}).catch(()=>{}),we.set(te,ue),te}(ue);if(Oe.has(ue))return Oe.get(ue);const te=Xe(ue);return te!==ue&&(Oe.set(ue,te),we.set(te,ue)),te}const fe=ue=>we.get(ue),be=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],re=new Map;function Le(ue,te){if(!(ue instanceof IDBDatabase)||te in ue||"string"!=typeof te)return;if(re.get(te))return re.get(te);const Me=te.replace(/FromIndex$/,""),Je=te!==Me,dt=Ne.includes(Me);if(!(Me in(Je?IDBIndex:IDBObjectStore).prototype)||!dt&&!be.includes(Me))return;const Ct=function(){var Ot=(0,c.Z)(function*(On,...An){const Hi=this.transaction(On,dt?"readwrite":"readonly");let po=Hi.store;return Je&&(po=po.index(An.shift())),(yield Promise.all([po[Me](...An),dt&&Hi.done]))[0]});return function(An){return Ot.apply(this,arguments)}}();return re.set(te,Ct),Ct}!function Pe(ue){Ve=ue(Ve)}(ue=>({...ue,get:(te,Me,Je)=>Le(te,Me)||ue.get(te,Me,Je),has:(te,Me)=>!!Le(te,Me)||ue.has(te,Me)}));class St{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function Bn(ue){const te=ue.getComponent();return"VERSION"===te?.type}(Me)){const Je=Me.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Me=>Me).join(" ")}}const gr="@firebase/app",Sn=new N.Yd("@firebase/app"),He="[DEFAULT]",et={[gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Jt=new Map;function cn(ue,te){try{ue.container.addComponent(te)}catch(Me){Sn.debug(`Component ${te.name} failed to register with FirebaseApp ${ue.name}`,Me)}}function mr(ue,te){ue.container.addOrOverwriteComponent(te)}function Ut(ue){const te=ue.name;if(Jt.has(te))return Sn.debug(`There were multiple attempts to register component ${te}.`),!1;Jt.set(te,ue);for(const Me of rt.values())cn(Me,ue);return!0}function Hn(ue,te){const Me=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ue.container.getProvider(te)}function ps(ue,te,Me=He){Hn(ue,te).clearInstance(Me)}function jt(){Jt.clear()}const wt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ti{constructor(te,Me,Je){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const fo="9.23.0";function gs(ue,te={}){let Me=ue;"object"!=typeof te&&(te={name:te});const Je=Object.assign({name:He,automaticDataCollectionEnabled:!1},te),dt=Je.name;if("string"!=typeof dt||!dt)throw wt.create("bad-app-name",{appName:String(dt)});if(Me||(Me=(0,J.aH)()),!Me)throw wt.create("no-options");const Ct=rt.get(dt);if(Ct){if((0,J.vZ)(Me,Ct.options)&&(0,J.vZ)(Je,Ct.config))return Ct;throw wt.create("duplicate-app",{appName:dt})}const Ot=new z.H0(dt);for(const An of Jt.values())Ot.addComponent(An);const On=new ti(Me,Je,Ot);return rt.set(dt,On),On}function kr(ue=He){const te=rt.get(ue);if(!te&&ue===He&&(0,J.aH)())return gs();if(!te)throw wt.create("no-app",{appName:ue});return te}function vi(){return Array.from(rt.values())}function jn(ue){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(ue){const te=ue.name;rt.has(te)&&(rt.delete(te),yield Promise.all(ue.container.getProviders().map(Me=>Me.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function tn(ue,te,Me){var Je;let dt=null!==(Je=et[ue])&&void 0!==Je?Je:ue;Me&&(dt+=`-${Me}`);const Ct=dt.match(/\s|\//),Ot=te.match(/\s|\//);if(Ct||Ot){const On=[`Unable to register library "${dt}" with version "${te}":`];return Ct&&On.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Ct&&Ot&&On.push("and"),Ot&&On.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void Sn.warn(On.join(" "))}Ut(new z.wA(`${dt}-version`,()=>({library:dt,version:te}),"VERSION"))}function Ci(ue,te){if(null!==ue&&"function"!=typeof ue)throw wt.create("invalid-log-argument");(0,N.Am)(ue,te)}function Vt(ue){(0,N.Ub)(ue)}const Ei="firebase-heartbeat-database",Pt=1,B="firebase-heartbeat-store";let L=null;function G(){return L||(L=function Y(ue,te,{blocked:Me,upgrade:Je,blocking:dt,terminated:Ct}={}){const Ot=indexedDB.open(ue,te),On=ne(Ot);return Je&&Ot.addEventListener("upgradeneeded",An=>{Je(ne(Ot.result),An.oldVersion,An.newVersion,ne(Ot.transaction),An)}),Me&&Ot.addEventListener("blocked",An=>Me(An.oldVersion,An.newVersion,An)),On.then(An=>{Ct&&An.addEventListener("close",()=>Ct()),dt&&An.addEventListener("versionchange",Hi=>dt(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),On}(Ei,Pt,{upgrade:(ue,te)=>{0===te&&ue.createObjectStore(B)}}).catch(ue=>{throw wt.create("idb-open",{originalErrorMessage:ue.message})})),L}function ie(){return(ie=(0,c.Z)(function*(ue){try{return yield(yield G()).transaction(B).objectStore(B).get(gt(ue))}catch(te){if(te instanceof J.ZR)Sn.warn(te.message);else{const Me=wt.create("idb-get",{originalErrorMessage:te?.message});Sn.warn(Me.message)}}})).apply(this,arguments)}function Ze(ue,te){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(ue,te){try{const Je=(yield G()).transaction(B,"readwrite");yield Je.objectStore(B).put(te,gt(ue)),yield Je.done}catch(Me){if(Me instanceof J.ZR)Sn.warn(Me.message);else{const Je=wt.create("idb-set",{originalErrorMessage:Me?.message});Sn.warn(Je.message)}}})).apply(this,arguments)}function gt(ue){return`${ue.name}!${ue.options.appId}`}class ct{constructor(te){this.container=te,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new jr(Me),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var te=this;return(0,c.Z)(function*(){const Je=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=Mt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==dt&&!te._heartbeatsCache.heartbeats.some(Ct=>Ct.date===dt))return te._heartbeatsCache.heartbeats.push({date:dt,agent:Je}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Ct=>{const Ot=new Date(Ct.date).valueOf();return Date.now()-Ot<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,c.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Me=Mt(),{heartbeatsToSend:Je,unsentEntries:dt}=function $n(ue,te=1024){const Me=[];let Je=ue.slice();for(const dt of ue){const Ct=Me.find(Ot=>Ot.agent===dt.agent);if(Ct){if(Ct.dates.push(dt.date),Ii(Me)>te){Ct.dates.pop();break}}else if(Me.push({agent:dt.agent,dates:[dt.date]}),Ii(Me)>te){Me.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Me,unsentEntries:Je}}(te._heartbeatsCache.heartbeats),Ct=(0,J.L)(JSON.stringify({version:2,heartbeats:Je}));return te._heartbeatsCache.lastSentHeartbeatDate=Me,dt.length>0?(te._heartbeatsCache.heartbeats=dt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Ct})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class jr{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,c.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function ye(ue){return ie.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Me=this;return(0,c.Z)(function*(){var Je;if(yield Me._canUseIndexedDBPromise){const Ct=yield Me.read();return Ze(Me.app,{lastSentHeartbeatDate:null!==(Je=te.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Me=this;return(0,c.Z)(function*(){var Je;if(yield Me._canUseIndexedDBPromise){const Ct=yield Me.read();return Ze(Me.app,{lastSentHeartbeatDate:null!==(Je=te.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...te.heartbeats]})}})()}}function Ii(ue){return(0,J.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Fr(ue){Ut(new z.wA("platform-logger",te=>new St(te),"PRIVATE")),Ut(new z.wA("heartbeat",te=>new ct(te),"PRIVATE")),tn(gr,"0.9.13",ue),tn(gr,"0.9.13","esm2017"),tn("fire-js","")}("")},4537:(Qe,ve,P)=>{P.d(ve,{H0:()=>Se,wA:()=>N,zt:()=>ee});var c=P(5861),z=P(9058);class N{constructor(U,j,Q){this.name=U,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const J="[DEFAULT]";class ee{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const Q=new z.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&Q.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const Q=this.normalizeInstanceIdentifier(U?.identifier),Oe=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(we){if(Oe)return null;throw we}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function de(ae){return"EAGER"===ae.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const we=this.getOrInitializeService({instanceIdentifier:Oe});Q.resolve(we)}catch{}}}}clearInstance(U=J){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,c.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=J){return this.instances.has(U)}getOptions(U=J){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,Q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[we,Be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(we)&&Be.resolve(Oe);return Oe}onInit(U,j){var Q;const Oe=this.normalizeInstanceIdentifier(j),we=null!==(Q=this.onInitCallbacks.get(Oe))&&void 0!==Q?Q:new Set;we.add(U),this.onInitCallbacks.set(Oe,we);const Be=this.instances.get(Oe);return Be&&U(Be,Oe),()=>{we.delete(U)}}invokeOnInitCallbacks(U,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Oe of Q)try{Oe(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let Q=this.instances.get(U);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=U,ae===J?void 0:ae),options:j}),this.instances.set(U,Q),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(Q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Q)}catch{}var ae;return Q||null}normalizeInstanceIdentifier(U=J){return this.component?this.component.multipleInstances?U:J:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new ee(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(Qe,ve,P)=>{P.d(ve,{Am:()=>ae,Ub:()=>Se,Yd:()=>de,in:()=>z});const c=[];var z=(()=>((z=z||{})[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z))();const N={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},J=z.INFO,ee={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},ce=(U,j,...Q)=>{if(j<U.logLevel)return;const Oe=(new Date).toISOString(),we=ee[j];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[we](`[${Oe}]  ${U.name}:`,...Q)};class de{constructor(j){this.name=j,this._logLevel=J,this._logHandler=ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in z))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...j),this._logHandler(this,z.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...j),this._logHandler(this,z.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,z.INFO,...j),this._logHandler(this,z.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,z.WARN,...j),this._logHandler(this,z.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...j),this._logHandler(this,z.ERROR,...j)}}function Se(U){c.forEach(j=>{j.setLogLevel(U)})}function ae(U,j){for(const Q of c){let Oe=null;j&&j.level&&(Oe=N[j.level]),Q.userLogHandler=null===U?null:(we,Be,...Te)=>{const Ve=Te.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Be>=(Oe??we.logLevel)&&U({level:z[Be].toLowerCase(),message:Ve,args:Te,type:we.name})}}}},3182:(Qe,ve,P)=>{P.d(ve,{C6:()=>c.getApps,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=P(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(Qe,ve,P)=>{P.d(ve,{Z:()=>c.Z});var c=P(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Qe,ve,P)=>{P.r(ve);var c=P(5861),z=P(3106),N=P(9058),J=P(534),ee=P(7582),ce=P(7879),de=P(4537);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Be=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Te=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ce.Yd("@firebase/auth");function ne(_,...d){st.logLevel<=ce.in.ERROR&&st.error(`Auth (${J.SDK_VERSION}): ${_}`,...d)}function fe(_,...d){throw Ne(_,...d)}function Y(_,...d){return Ne(_,...d)}function he(_,d,p){const y=Object.assign(Object.assign({},Te()),{[d]:p});return new N.LL("auth","Firebase",y).create(d,{appName:_.name})}function be(_,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&fe(_,"argument-error"),he(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(_,...d){if("string"!=typeof _){const p=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(p,...y)}return Ve.create(_,...d)}function re(_,d,...p){if(!_)throw Ne(d,...p)}function Le(_){const d="INTERNAL ASSERTION FAILED: "+_;throw ne(d),new Error(d)}function St(_,d){_||Le(d)}function Bn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function gr(){return"http:"===Bi()||"https:"===Bi()}function Bi(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class co{constructor(d,p){this.shortDelay=d,this.longDelay=p,St(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gr()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(_,d){St(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class le{static initialize(d,p,y){this.fetchImpl=d,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ge=new co(3e4,6e4);function _e(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Ee(_,d,p,y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(_,d,p,y,b={}){return Ke(_,b,(0,c.Z)(function*(){let A={},H={};y&&("GET"===d?H=y:A={body:JSON.stringify(y)});const K=(0,N.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),le.fetch()(vt(_,_.config.apiHost,p,K),Object.assign({method:d,headers:De,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function Ke(_,d,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(_,d,p){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},pe),d);try{const b=new sn(_),A=yield Promise.race([p(),b.promise]);b.clearNetworkTimeout();const H=yield A.json();if("needConfirmation"in H)throw an(_,"account-exists-with-different-credential",H);if(A.ok&&!("errorMessage"in H))return H;{const K=A.ok?H.errorMessage:H.error.message,[De,xe]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw an(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===De)throw an(_,"email-already-in-use",H);if("USER_DISABLED"===De)throw an(_,"user-disabled",H);const ze=y[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw he(_,ze,xe);fe(_,ze)}}catch(b){if(b instanceof N.ZR)throw b;fe(_,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function nt(_,d,p,y){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(_,d,p,y,b={}){const A=yield Ee(_,d,p,y,b);return"mfaPendingCredential"in A&&fe(_,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function vt(_,d,p,y){const b=`${d}${p}?${y}`;return _.config.emulator?oe(_.config,b):`${_.config.apiScheme}://${b}`}class sn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(Y(this.auth,"network-request-failed")),ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function an(_,d,p){const y={appName:_.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const b=Y(_,d,y);return b.customData._tokenResponse=p,b}function $t(){return($t=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function xr(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function He(){return(He=(0,c.Z)(function*(_,d=!1){const p=(0,N.m9)(_),y=yield p.getIdToken(d),b=rt(y);re(b&&b.exp&&b.auth_time&&b.iat,p.auth,"internal-error");const A="object"==typeof b.firebase?b.firebase:void 0,H=A?.sign_in_provider;return{claims:b,token:y,authTime:xr(et(b.auth_time)),issuedAtTime:xr(et(b.iat)),expirationTime:xr(et(b.exp)),signInProvider:H||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function et(_){return 1e3*Number(_)}function rt(_){const[d,p,y]=_.split(".");if(void 0===d||void 0===p||void 0===y)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,N.tV)(p);return b?JSON.parse(b):(ne("Failed to decode base64 JWT payload"),null)}catch(b){return ne("Caught error parsing JWT payload as JSON",b?.toString()),null}}function cn(_,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(y){throw y instanceof N.ZR&&function Ut({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class Hn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const b=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),y)}iteration(){var d=this;return(0,c.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class ps{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jt(_){return qn.apply(this,arguments)}function qn(){return qn=(0,c.Z)(function*(_){var d;const p=_.auth,y=yield _.getIdToken(),b=yield cn(_,function fs(_,d){return Nr.apply(this,arguments)}(p,{idToken:y}));re(b?.users.length,p,"internal-error");const A=b.users[0];_._notifyReloadListener(A);const H=null!==(d=A.providerUserInfo)&&void 0!==d&&d.length?function gs(_){return _.map(d=>{var{providerId:p}=d,y=(0,ee._T)(d,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(A.providerUserInfo):[],K=function fo(_,d){return[..._.filter(y=>!d.some(b=>b.providerId===y.providerId)),...d]}(_.providerData,H),ze=!!_.isAnonymous&&!(_.email&&A.passwordHash||K?.length),Ye={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:K,metadata:new ps(A.createdAt,A.lastLoginAt),isAnonymous:ze};Object.assign(_,Ye)}),qn.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_){const d=(0,N.m9)(_);yield jt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(_,d){const p=yield Ke(_,{},(0,c.Z)(function*(){const y=(0,N.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:b,apiKey:A}=_.config,H=vt(_,b,"/v1/token",`key=${A}`),K=yield _._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(H,{method:"POST",headers:K,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){re(d.idToken,"internal-error"),re(typeof d.idToken<"u","internal-error"),re(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Jt(_){const d=rt(_);return re(d,"internal-error"),re(typeof d.exp<"u","internal-error"),re(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var y=this;return(0,c.Z)(function*(){return re(!y.accessToken||y.refreshToken,d,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var y=this;return(0,c.Z)(function*(){const{accessToken:b,refreshToken:A,expiresIn:H}=yield function kr(_,d){return vi.apply(this,arguments)}(d,p);y.updateTokensAndExpiration(b,A,Number(H))})()}updateTokensAndExpiration(d,p,y){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,p){const{refreshToken:y,accessToken:b,expirationTime:A}=p,H=new jn;return y&&(re("string"==typeof y,"internal-error",{appName:d}),H.refreshToken=y),b&&(re("string"==typeof b,"internal-error",{appName:d}),H.accessToken=b),A&&(re("number"==typeof A,"internal-error",{appName:d}),H.expirationTime=A),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new jn,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Pn(_,d){re("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class tn{constructor(d){var{uid:p,auth:y,stsTokenManager:b}=d,A=(0,ee._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new ps(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,c.Z)(function*(){const y=yield cn(p,p.stsTokenManager.getToken(p.auth,d));return re(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(d){return function aa(_){return He.apply(this,arguments)}(this,d)}reload(){return function wt(_){return ti.apply(this,arguments)}(this)}_assign(d){this!==d&&(re(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new tn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var y=this;return(0,c.Z)(function*(){let b=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),b=!0),p&&(yield jt(y)),yield y.auth._persistUserIfCurrent(y),b&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,c.Z)(function*(){const p=yield d.getIdToken();return yield cn(d,function xn(_,d){return $t.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var y,b,A,H,K,De,xe,ze;const Ye=null!==(y=p.displayName)&&void 0!==y?y:void 0,Gt=null!==(b=p.email)&&void 0!==b?b:void 0,Hr=null!==(A=p.phoneNumber)&&void 0!==A?A:void 0,Bu=null!==(H=p.photoURL)&&void 0!==H?H:void 0,Th=null!==(K=p.tenantId)&&void 0!==K?K:void 0,Gs=null!==(De=p._redirectEventId)&&void 0!==De?De:void 0,zs=null!==(xe=p.createdAt)&&void 0!==xe?xe:void 0,Sh=null!==(ze=p.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:wl,emailVerified:Dl,isAnonymous:Ah,providerData:Hu,stsTokenManager:ju}=p;re(wl&&ju,d,"internal-error");const Pm=jn.fromJSON(this.name,ju);re("string"==typeof wl,d,"internal-error"),Pn(Ye,d.name),Pn(Gt,d.name),re("boolean"==typeof Dl,d,"internal-error"),re("boolean"==typeof Ah,d,"internal-error"),Pn(Hr,d.name),Pn(Bu,d.name),Pn(Th,d.name),Pn(Gs,d.name),Pn(zs,d.name),Pn(Sh,d.name);const $u=new tn({uid:wl,auth:d,email:Gt,emailVerified:Dl,displayName:Ye,isAnonymous:Ah,photoURL:Bu,phoneNumber:Hr,tenantId:Th,stsTokenManager:Pm,createdAt:zs,lastLoginAt:Sh});return Hu&&Array.isArray(Hu)&&($u.providerData=Hu.map(bl=>Object.assign({},bl))),Gs&&($u._redirectEventId=Gs),$u}static _fromIdTokenResponse(d,p,y=!1){return(0,c.Z)(function*(){const b=new jn;b.updateFromServerResponse(p);const A=new tn({uid:p.localId,auth:d,stsTokenManager:b,isAnonymous:y});return yield jt(A),A})()}}const Ci=new Map;function Vt(_){St(_ instanceof Function,"Expected a class definition");let d=Ci.get(_);return d?(St(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Ci.set(_,d),d)}const Pt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,y){var b=this;return(0,c.Z)(function*(){b.storage[p]=y})()}_get(p){var y=this;return(0,c.Z)(function*(){const b=y.storage[p];return void 0===b?null:b})()}_remove(p){var y=this;return(0,c.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return _.type="NONE",_})();function B(_,d,p){return`firebase:${_}:${d}:${p}`}class L{constructor(d,p,y){this.persistence=d,this.auth=p,this.userKey=y;const{config:b,name:A}=this.auth;this.fullUserKey=B(this.userKey,b.apiKey,A),this.fullPersistenceKey=B("persistence",b.apiKey,A),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,c.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?tn._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,c.Z)(function*(){if(p.persistence===d)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,y="authUser"){return(0,c.Z)(function*(){if(!p.length)return new L(Vt(Pt),d,y);const b=(yield Promise.all(p.map(function(){var xe=(0,c.Z)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let A=b[0]||Vt(Pt);const H=B(y,d.config.apiKey,d.name);let K=null;for(const xe of p)try{const ze=yield xe._get(H);if(ze){const Ye=tn._fromJSON(d,ze);xe!==A&&(K=Ye),A=xe;break}}catch{}const De=b.filter(xe=>xe._shouldAllowMigration);return A._shouldAllowMigration&&De.length?(A=De[0],K&&(yield A._set(H,K.toJSON())),yield Promise.all(p.map(function(){var xe=(0,c.Z)(function*(ze){if(ze!==A)try{yield ze._remove(H)}catch{}});return function(ze){return xe.apply(this,arguments)}}())),new L(A,d,y)):new L(A,d,y)})()}}function G(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(it(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ye(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(nn(d))return"Blackberry";if(Zt(d))return"Webos";if(ie(d))return"Safari";if((d.includes("chrome/")||Ze(d))&&!d.includes("edge/"))return"Chrome";if(gt(d))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function ye(_=(0,N.z$)()){return/firefox\//i.test(_)}function ie(_=(0,N.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ze(_=(0,N.z$)()){return/crios\//i.test(_)}function it(_=(0,N.z$)()){return/iemobile/i.test(_)}function gt(_=(0,N.z$)()){return/android/i.test(_)}function nn(_=(0,N.z$)()){return/blackberry/i.test(_)}function Zt(_=(0,N.z$)()){return/webos/i.test(_)}function ct(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ii(_=(0,N.z$)()){return ct(_)||gt(_)||Zt(_)||nn(_)||/windows phone/i.test(_)||it(_)}function ue(_,d=[]){let p;switch(_){case"Browser":p=G((0,N.z$)());break;case"Worker":p=`${G((0,N.z$)())}-${_}`;break;default:p=_}const y=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${J.SDK_VERSION}/${y}`}function Me(){return(Me=(0,c.Z)(function*(_){return(yield Ee(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Je(_,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(_,d){return Ee(_,"GET","/v2/recaptchaConfig",_e(_,d))})).apply(this,arguments)}function Ct(_){return void 0!==_&&void 0!==_.getResponse}function Ot(_){return void 0!==_&&void 0!==_.enterprise}class On{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Hi(_){return new Promise((d,p)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=d,y.onerror=b=>{const A=Y("internal-error");A.customData=b,p(A)},y.type="text/javascript",y.charset="UTF-8",function An(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(y)})}function po(_){return`__${_}${Math.floor(1e6*Math.random())}`}class _c{constructor(d){this.type="recaptcha-enterprise",this.auth=Mn(d)}verify(d="verify",p=!1){var y=this;return(0,c.Z)(function*(){function A(){return A=(0,c.Z)(function*(K){if(!p){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var De=(0,c.Z)(function*(xe,ze){Je(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ye=>{if(void 0!==Ye.recaptchaKey){const Gt=new On(Ye);return null==K.tenantId?K._agentRecaptchaConfig=Gt:K._tenantRecaptchaConfigs[K.tenantId]=Gt,xe(Gt.siteKey)}ze(new Error("recaptcha Enterprise site key undefined"))}).catch(Ye=>{ze(Ye)})});return function(xe,ze){return De.apply(this,arguments)}}())}),A.apply(this,arguments)}function H(K,De,xe){const ze=window.grecaptcha;Ot(ze)?ze.enterprise.ready(()=>{ze.enterprise.execute(K,{action:d}).then(Ye=>{De(Ye)}).catch(()=>{De("NO_RECAPTCHA")})}):xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,De)=>{(function b(K){return A.apply(this,arguments)})(y.auth).then(xe=>{if(!p&&Ot(window.grecaptcha))H(xe,K,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));Hi("https://www.google.com/recaptcha/enterprise.js?render="+xe).then(()=>{H(xe,K,De)}).catch(ze=>{De(ze)})}}).catch(xe=>{De(xe)})})})()}}function $r(_,d,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(_,d,p,y=!1){const b=new _c(_);let A;try{A=yield b.verify(p)}catch{A=yield b.verify(p,!0)}const H=Object.assign({},d);return Object.assign(H,y?{captchaResp:A}:{captchaResponse:A}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class ms{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const y=A=>new Promise((H,K)=>{try{H(d(A))}catch(De){K(De)}});y.onAbort=p,this.queue.push(y);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,c.Z)(function*(){if(p.auth.currentUser===d)return;const y=[];try{for(const b of p.queue)yield b(d),b.onAbort&&y.push(b.onAbort)}catch(b){y.reverse();for(const A of y)try{A()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class yc{constructor(d,p,y,b){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=y,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ni(this),this.idTokenSubscription=new ni(this),this.beforeStateQueue=new ms(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(d,p){var y=this;return p&&(this._popupRedirectResolver=Vt(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var b,A;if(!y._deleted&&(y.persistenceManager=yield L.create(y,d),!y._deleted)){if(null!==(b=y._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(A=y.currentUser)||void 0===A?void 0:A.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,c.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,c.Z)(function*(){var y;const b=yield p.assertedPersistence.getCurrentUser();let A=b,H=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const K=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,De=A?._redirectEventId,xe=yield p.tryRedirectSignIn(d);(!K||K===De)&&xe?.user&&(A=xe.user,H=!0)}if(!A)return p.directlySetCurrentUser(null);if(!A._redirectEventId){if(H)try{yield p.beforeStateQueue.runMiddleware(A)}catch(K){A=b,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(K))}return A?p.reloadAndSetCurrentUserOrClear(A):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===A._redirectEventId?p.directlySetCurrentUser(A):p.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(d){var p=this;return(0,c.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,c.Z)(function*(){try{yield jt(d)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ho(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,c.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,c.Z)(function*(){const y=d?(0,N.m9)(d):null;return y&&re(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(d,p=!1){var y=this;return(0,c.Z)(function*(){if(!y._deleted)return d&&re(y.tenantId===d.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(d)),y.queue((0,c.Z)(function*(){yield y.directlySetCurrentUser(d),y.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,c.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Vt(d))}))}initializeRecaptchaConfig(){var d=this;return(0,c.Z)(function*(){const p=yield Je(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new On(p);null==d.tenantId?d._agentRecaptchaConfig=y:d._tenantRecaptchaConfigs[d.tenantId]=y,y.emailPasswordEnabled&&new _c(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new N.LL("auth","Firebase",d())}onAuthStateChanged(d,p,y){return this.registerStateListener(this.authStateSubscription,d,p,y)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,y){return this.registerStateListener(this.idTokenSubscription,d,p,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var y=this;return(0,c.Z)(function*(){const b=yield y.getOrInitRedirectPersistenceManager(p);return null===d?b.removeCurrentUser():b.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const y=d&&Vt(d)||p._popupRedirectResolver;re(y,p,"argument-error"),p.redirectPersistenceManager=yield L.create(p,[Vt(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,c.Z)(function*(){var y,b;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===d?p._currentUser:(null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,c.Z)(function*(){if(d===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,y,b){if(this._deleted)return()=>{};const A="function"==typeof p?p:p.next.bind(p),H=this._isInitialized?Promise.resolve():this._initializationPromise;return re(H,this,"internal-error"),H.then(()=>A(this.currentUser)),"function"==typeof p?d.addObserver(p,y,b):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,c.Z)(function*(){var p;const y={"X-Client-Version":d.clientVersion};d.app.options.appId&&(y["X-Firebase-gmpid"]=d.app.options.appId);const b=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();b&&(y["X-Firebase-Client"]=b);const A=yield d._getAppCheckToken();return A&&(y["X-Firebase-AppCheck"]=A),y})()}_getAppCheckToken(){var d=this;return(0,c.Z)(function*(){var p;const y=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return y?.error&&function Xe(_,...d){st.logLevel<=ce.in.WARN&&st.warn(`Auth (${J.SDK_VERSION}): ${_}`,...d)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function Mn(_){return(0,N.m9)(_)}class ni{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function jo(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Cc(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class ji{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Le("not implemented")}_getIdTokenResponse(d){return Le("not implemented")}_linkToIdToken(d,p){return Le("not implemented")}_getReauthenticationResolver(d){return Le("not implemented")}}function zd(_,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:resetPassword",_e(_,d))})).apply(this,arguments)}function Kl(_,d){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:update",_e(_,d))})).apply(this,arguments)}function Wt(_,d){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithPassword",_e(_,d))})).apply(this,arguments)}function Kn(_,d){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:sendOobCode",_e(_,d))})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(_,d){return Kn(_,d)})).apply(this,arguments)}function ca(_,d){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(_,d){return Kn(_,d)})).apply(this,arguments)}function Cn(_,d){return je.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(_,d){return Kn(_,d)})).apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(_,d){return Kn(_,d)})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithEmailLink",_e(_,d))})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithEmailLink",_e(_,d))})).apply(this,arguments)}class ln extends ji{constructor(d,p,y,b=null){super("password",y),this._email=d,this._password=p,this._tenantId=b}static _fromEmailAndPassword(d,p){return new ln(d,p,"password")}static _fromEmailAndCode(d,p,y=null){return new ln(d,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,c.Z)(function*(){var y;switch(p.signInMethod){case"password":const b={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=d._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const A=yield $r(d,b,"signInWithPassword");return Wt(d,A)}return Wt(d,b).catch(function(){var A=(0,c.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield $r(d,b,"signInWithPassword");return Wt(d,K)}return Promise.reject(H)});return function(H){return A.apply(this,arguments)}}());case"emailLink":return function Vr(_,d){return ys.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:fe(d,"internal-error")}})()}_linkToIdToken(d,p){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return Kl(d,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function or(_,d){return $o.apply(this,arguments)}(d,{idToken:p,email:y._email,oobCode:y._password});default:fe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Wn(_,d){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithIdp",_e(_,d))})).apply(this,arguments)}class _r extends ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new _r(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):fe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:b}=p,A=(0,ee._T)(p,["providerId","signInMethod"]);if(!y||!b)return null;const H=new _r(y,b);return H.idToken=A.idToken||void 0,H.accessToken=A.accessToken||void 0,H.secret=A.secret,H.nonce=A.nonce,H.pendingToken=A.pendingToken||null,H}_getIdTokenResponse(d){return Wn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Wn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Wn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,N.xO)(p)}return d}}function wi(){return(wi=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:sendVerificationCode",_e(_,d))})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithPhoneNumber",_e(_,d))})).apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(_,d){const p=yield nt(_,"POST","/v1/accounts:signInWithPhoneNumber",_e(_,d));if(p.temporaryProof)throw an(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Cs={USER_NOT_FOUND:"user-not-found"};function Ur(){return(Ur=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithPhoneNumber",_e(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Cs)})).apply(this,arguments)}class En extends ji{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new En({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new En({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function dn(_,d){return vs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function da(_,d){return Gn.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Ic(_,d){return Ur.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:y,verificationCode:b}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:y,code:b}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:y,phoneNumber:b,temporaryProof:A}=d;return y||p||b||A?new En({verificationId:p,verificationCode:y,phoneNumber:b,temporaryProof:A}):null}}class Dt{constructor(d){var p,y,b,A,H,K;const De=(0,N.zd)((0,N.pd)(d)),xe=null!==(p=De.apiKey)&&void 0!==p?p:null,ze=null!==(y=De.oobCode)&&void 0!==y?y:null,Ye=function Xl(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=De.mode)&&void 0!==b?b:null);re(xe&&ze&&Ye,"argument-error"),this.apiKey=xe,this.operation=Ye,this.code=ze,this.continueUrl=null!==(A=De.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(H=De.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(K=De.tenantId)&&void 0!==K?K:null}static parseLink(d){const p=function Es(_){const d=(0,N.zd)((0,N.pd)(_)).link,p=d?(0,N.zd)((0,N.pd)(d)).deep_link_id:null,y=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(y?(0,N.zd)((0,N.pd)(y)).link:null)||y||p||d||_}(d);try{return new Dt(p)}catch{return null}}}let Ya=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,y){return ln._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const b=Dt.parseLink(y);return re(b,"argument-error"),ln._fromEmailAndCode(p,b.code,b.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Di{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class yr extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Wr extends yr{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return re("providerId"in p&&"signInMethod"in p,"argument-error"),_r._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return re(d.idToken||d.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Wr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Wr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:b,pendingToken:A,nonce:H,providerId:K}=d;if(!y&&!b&&!p&&!A||!K)return null;try{return new Wr(K)._credential({idToken:p,accessToken:y,nonce:H,pendingToken:A})}catch{return null}}}let Wo=(()=>{class _ extends yr{constructor(){super("facebook.com")}static credential(p){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Go=(()=>{class _ extends yr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:b}=p;if(!y&&!b)return null;try{return _.credential(y,b)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Fn=(()=>{class _ extends yr{constructor(){super("github.com")}static credential(p){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class In extends ji{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Wn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,Wn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Wn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:b,pendingToken:A}=p;return y&&b&&A&&y===b?new In(y,A):null}static _create(d,p){return new In(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Is extends Di{constructor(d){re(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Is.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Is.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=In.fromJSON(d);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:y}=d;if(!p||!y)return null;try{return In._create(y,p)}catch{return null}}}let Wi=(()=>{class _ extends yr{constructor(){super("twitter.com")}static credential(p,y){return _r._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:b}=p;if(!y||!b)return null;try{return _.credential(y,b)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Gi(_,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signUp",_e(_,d))})).apply(this,arguments)}class Yn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,y,b=!1){return(0,c.Z)(function*(){const A=yield tn._fromIdTokenResponse(d,y,b),H=eu(y);return new Yn({user:A,providerId:H,_tokenResponse:y,operationType:p})})()}static _forOperation(d,p,y){return(0,c.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const b=eu(y);return new Yn({user:d,providerId:b,_tokenResponse:y,operationType:p})})()}}function eu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function wc(){return(wc=(0,c.Z)(function*(_){var d;const p=Mn(_);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new Yn({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield Gi(p,{returnSecureToken:!0}),b=yield Yn._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(b.user),b})).apply(this,arguments)}class ha extends N.ZR{constructor(d,p,y,b){var A;super(p.code,p.message),this.operationType=y,this.user=b,Object.setPrototypeOf(this,ha.prototype),this.customData={appName:d.name,tenantId:null!==(A=d.tenantId)&&void 0!==A?A:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,p,y,b){return new ha(d,p,y,b)}}function qd(_,d,p,y){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?ha._fromErrorAndOperation(_,A,d,y):A})}function Kd(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function bi(){return bi=(0,c.Z)(function*(_,d){const p=(0,N.m9)(_);yield fa(!0,p,d);const{providerUserInfo:y}=yield function Zn(_,d){return Or.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),b=Kd(y||[]);return p.providerData=p.providerData.filter(A=>b.has(A.providerId)),b.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),bi.apply(this,arguments)}function tu(_,d){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(_,d,p=!1){const y=yield cn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return Yn._forOperation(_,"link",y)})).apply(this,arguments)}function fa(_,d,p){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,d,p){yield jt(d);const b=!1===_?"provider-already-linked":"no-such-provider";re(Kd(d.providerData).has(p)===_,d.auth,b)})).apply(this,arguments)}function Yd(_,d){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(_,d,p=!1){const{auth:y}=_,b="reauthenticate";try{const A=yield cn(_,qd(y,b,d,_),p);re(A.idToken,y,"internal-error");const H=rt(A.idToken);re(H,y,"internal-error");const{sub:K}=H;return re(_.uid===K,y,"user-mismatch"),Yn._forOperation(_,b,A)}catch(A){throw"auth/user-not-found"===A?.code&&fe(y,"user-mismatch"),A}})).apply(this,arguments)}function Qd(_,d){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,c.Z)(function*(_,d,p=!1){const y="signIn",b=yield qd(_,y,d),A=yield Yn._fromIdTokenResponse(_,y,b);return p||(yield _._updateCurrentUser(A.user)),A})).apply(this,arguments)}function ru(_,d){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(_,d){return Qd(Mn(_),d)})).apply(this,arguments)}function Sc(_,d){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(_,d){const p=(0,N.m9)(_);return yield fa(!1,p,d.providerId),tu(p,d)})).apply(this,arguments)}function wn(_,d){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,c.Z)(function*(_,d){return Yd((0,N.m9)(_),d)})).apply(this,arguments)}function Mc(){return(Mc=(0,c.Z)(function*(_,d){return nt(_,"POST","/v1/accounts:signInWithCustomToken",_e(_,d))})).apply(this,arguments)}function Gr(){return Gr=(0,c.Z)(function*(_,d){const p=Mn(_),y=yield function ws(_,d){return Mc.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),b=yield Yn._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(b.user),b}),Gr.apply(this,arguments)}class ga{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?ma._fromServerResponse(d,p):"totpInfo"in p?Rc._fromServerResponse(d,p):fe(d,"internal-error")}}class ma extends ga{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new ma(p)}}class Rc extends ga{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new Rc(p)}}function bs(_,d,p){var y;re((null===(y=p.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Ts(){return Ts=(0,c.Z)(function*(_,d,p){var y;const b=Mn(_),A={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield $r(b,A,"getOobCode",!0);p&&bs(b,H,p),yield ca(b,H)}else p&&bs(b,A,p),yield ca(b,A).catch(function(){var H=(0,c.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield $r(b,A,"getOobCode",!0);p&&bs(b,De,p),yield ca(b,De)}});return function(K){return H.apply(this,arguments)}}())}),Ts.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,d,p){yield zd((0,N.m9)(_),{oobCode:d,newPassword:p})})).apply(this,arguments)}function vr(){return vr=(0,c.Z)(function*(_,d){yield function Et(_,d){return kn.apply(this,arguments)}((0,N.m9)(_),{oobCode:d})}),vr.apply(this,arguments)}function Pc(_,d){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(_,d){const p=(0,N.m9)(_),y=yield zd(p,{oobCode:d}),b=y.requestType;switch(re(b,p,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(y.mfaInfo,p,"internal-error");default:re(y.email,p,"internal-error")}let A=null;return y.mfaInfo&&(A=ga._fromServerResponse(Mn(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:A},operation:b}})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(_,d){const{data:p}=yield Pc((0,N.m9)(_),d);return p.email})).apply(this,arguments)}function iu(){return iu=(0,c.Z)(function*(_,d,p){var y;const b=Mn(_),A={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const xe=yield $r(b,A,"signUpPassword");H=Gi(b,xe)}else H=Gi(b,A).catch(function(){var xe=(0,c.Z)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ye=yield $r(b,A,"signUpPassword");return Gi(b,Ye)}return Promise.reject(ze)});return function(ze){return xe.apply(this,arguments)}}());const K=yield H.catch(xe=>Promise.reject(xe)),De=yield Yn._fromIdTokenResponse(b,"signIn",K);return yield b._updateCurrentUser(De.user),De}),iu.apply(this,arguments)}function Qa(){return Qa=(0,c.Z)(function*(_,d,p){var y;const b=Mn(_),A={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function H(K,De){re(De.handleCodeInApp,b,"argument-error"),De&&bs(b,K,De)}if(null!==(y=b._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const K=yield $r(b,A,"getOobCode",!0);H(K,p),yield Cn(b,K)}else H(A,p),yield Cn(b,A).catch(function(){var K=(0,c.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const xe=yield $r(b,A,"getOobCode",!0);H(xe,p),yield Cn(b,xe)}});return function(De){return K.apply(this,arguments)}}())}),Qa.apply(this,arguments)}function Xd(){return(Xd=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_),b=Ya.credentialWithLink(d,p||Bn());return re(b._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),ru(y,b)})).apply(this,arguments)}function xc(){return(xc=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:createAuthUri",_e(_,d))})).apply(this,arguments)}function au(){return au=(0,c.Z)(function*(_,d){const y={identifier:d,continueUri:gr()?Bn():"http://localhost"},{signinMethods:b}=yield function eh(_,d){return xc.apply(this,arguments)}((0,N.m9)(_),y);return b||[]}),au.apply(this,arguments)}function Rs(){return Rs=(0,c.Z)(function*(_,d){const p=(0,N.m9)(_),b={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&bs(p.auth,b,d);const{email:A}=yield function Ql(_,d){return _s.apply(this,arguments)}(p.auth,b);A!==_.email&&(yield _.reload())}),Rs.apply(this,arguments)}function ya(){return ya=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};p&&bs(y.auth,A,p);const{email:H}=yield function mt(_,d){return rn.apply(this,arguments)}(y.auth,A);H!==_.email&&(yield _.reload())}),ya.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(_,d){return Ee(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Xa(){return Xa=(0,c.Z)(function*(_,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const y=(0,N.m9)(_),A={idToken:yield y.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},H=yield cn(y,function th(_,d){return uu.apply(this,arguments)}(y.auth,A));y.displayName=H.displayName||null,y.photoURL=H.photoUrl||null;const K=y.providerData.find(({providerId:De})=>"password"===De);K&&(K.displayName=y.displayName,K.photoURL=y.photoURL),yield y._updateTokensIfNecessary(H)}),Xa.apply(this,arguments)}function Si(_,d,p){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(_,d,p){const{auth:y}=_,A={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(A.email=d),p&&(A.password=p);const H=yield cn(_,Kl(y,A));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Bt{constructor(d,p,y={}){this.isNewUser=d,this.providerId=p,this.profile=y}}class Ca extends Bt{constructor(d,p,y,b){super(d,p,y),this.username=b}}class Ps extends Bt{constructor(d,p){super(d,"facebook.com",p)}}class Jn extends Ca{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Os extends Bt{constructor(d,p){super(d,"google.com",p)}}class Lc extends Ca{constructor(d,p,y){super(d,"twitter.com",p,y)}}function Zi(_){const{user:d,_tokenResponse:p}=_;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Fc(_){var d,p;if(!_)return null;const{providerId:y}=_,b=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},A=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const H=null===(p=null===(d=rt(_.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(H)return new Bt(A,"anonymous"!==H&&"custom"!==H?H:null)}if(!y)return null;switch(y){case"facebook.com":return new Ps(A,b);case"github.com":return new Jn(A,b);case"google.com":return new Os(A,b);case"twitter.com":return new Lc(A,b,_.screenName||null);case"custom":case"anonymous":return new Bt(A,null);default:return new Bt(A,y,b)}}(p)}class _o{constructor(d,p,y){this.type=d,this.credential=p,this.auth=y}static _fromIdtoken(d,p){return new _o("enroll",d,p)}static _fromMfaPendingCredential(d){return new _o("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,y;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return _o._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.idToken)return _o._fromIdtoken(d.multiFactorSession.idToken)}return null}}class lt{constructor(d,p,y){this.session=d,this.hints=p,this.signInResolver=y}static _fromError(d,p){const y=Mn(d),b=p.customData._serverResponse,A=(b.mfaInfo||[]).map(K=>ga._fromServerResponse(y,K));re(b.mfaPendingCredential,y,"internal-error");const H=_o._fromMfaPendingCredential(b.mfaPendingCredential);return new lt(H,A,function(){var K=(0,c.Z)(function*(De){const xe=yield De._process(y,H);delete b.mfaInfo,delete b.mfaPendingCredential;const ze=Object.assign(Object.assign({},b),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(p.operationType){case"signIn":const Ye=yield Yn._fromIdTokenResponse(y,p.operationType,ze);return yield y._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return re(p.user,y,"internal-error"),Yn._forOperation(p.user,p.operationType,ze);default:fe(y,"internal-error")}});return function(De){return K.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,c.Z)(function*(){return p.signInResolver(d)})()}}class ri{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>ga._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new ri(d)}getSession(){var d=this;return(0,c.Z)(function*(){return _o._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var y=this;return(0,c.Z)(function*(){const b=d,A=yield y.getSession(),H=yield cn(y.user,b._process(y.user.auth,A,p));return yield y.user._updateTokensIfNecessary(H),y.user.reload()})()}unenroll(d){var p=this;return(0,c.Z)(function*(){const y="string"==typeof d?d:d.uid,b=yield p.user.getIdToken();try{const A=yield cn(p.user,function gu(_,d){return Ee(_,"POST","/v2/accounts/mfaEnrollment:withdraw",_e(_,d))}(p.user.auth,{idToken:b,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:H})=>H!==y),yield p.user._updateTokensIfNecessary(A),yield p.user.reload()}catch(A){throw A}})()}}const Ns=new WeakMap,mu="__sak";class _u{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const yo=(()=>{class _ extends _u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function oh(){const _=(0,N.z$)();return ie(_)||ct(_)}()&&function Fr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ii(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const b=this.storage.getItem(y),A=this.localCache[y];b!==A&&p(y,A,b)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((K,De,xe)=>{this.notifyListeners(K,xe)});const b=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(b);if(p.newValue!==K)null!==p.newValue?this.storage.setItem(b,p.newValue):this.storage.removeItem(b);else if(this.localCache[b]===p.newValue&&!y)return}const A=()=>{const K=this.storage.getItem(b);!y&&this.localCache[b]===K||this.notifyListeners(b,K)},H=this.storage.getItem(b);!function jr(){return(0,N.w1)()&&10===document.documentMode}()||H===p.newValue||p.newValue===p.oldValue?A():setTimeout(A,10)}notifyListeners(p,y){this.localCache[p]=y;const b=this.listeners[p];if(b)for(const A of Array.from(b))A(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var b=()=>super._set,A=this;return(0,c.Z)(function*(){yield b().call(A,p,y),A.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,b=this;return(0,c.Z)(function*(){const A=yield y().call(b,p);return b.localCache[p]=JSON.stringify(A),A})()}_remove(p){var y=()=>super._remove,b=this;return(0,c.Z)(function*(){yield y().call(b,p),delete b.localCache[p]})()}}return _.type="LOCAL",_})(),vo=(()=>{class _ extends _u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return _.type="SESSION",_})();let ii=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(A=>A.isListeningto(p));if(y)return y;const b=new _(p);return this.receivers.push(b),b}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,c.Z)(function*(){const b=p,{eventId:A,eventType:H,data:K}=b.data,De=y.handlersMap[H];if(!De?.size)return;b.ports[0].postMessage({status:"ack",eventId:A,eventType:H});const xe=Array.from(De).map(function(){var Ye=(0,c.Z)(function*(Gt){return Gt(b.origin,K)});return function(Gt){return Ye.apply(this,arguments)}}()),ze=yield function tl(_){return Promise.all(_.map(function(){var d=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return d.apply(this,arguments)}}()))}(xe);b.ports[0].postMessage({status:"done",eventId:A,eventType:H,response:ze})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ea(_="",d=10){let p="";for(let y=0;y<d;y++)p+=Math.floor(10*Math.random());return _+p}class yu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,y=50){var b=this;return(0,c.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let H,K;return new Promise((De,xe)=>{const ze=Ea("",20);A.port1.start();const Ye=setTimeout(()=>{xe(new Error("unsupported_event"))},y);K={messageChannel:A,onMessage(Gt){const Hr=Gt;if(Hr.data.eventId===ze)switch(Hr.data.status){case"ack":clearTimeout(Ye),H=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),De(Hr.data.response);break;default:clearTimeout(Ye),clearTimeout(H),xe(new Error("invalid_response"))}}},b.handlers.add(K),A.port1.addEventListener("message",K.onMessage),b.target.postMessage({eventType:d,eventId:ze,data:p},[A.port2])}).finally(()=>{K&&b.removeMessageHandler(K)})})()}}function gn(){return window}function nl(){return typeof gn().WorkerGlobalScope<"u"&&"function"==typeof gn().importScripts}function Zr(){return(Zr=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oi="firebaseLocalStorageDb",Ia="firebaseLocalStorage",$c="fbase_key";class wa{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Da(_,d){return _.transaction([Ia],d?"readwrite":"readonly").objectStore(Ia)}function ba(){const _=indexedDB.open(oi,1);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(Ia,{keyPath:$c})}catch(b){p(b)}}),_.addEventListener("success",(0,c.Z)(function*(){const y=_.result;y.objectStoreNames.contains(Ia)?d(y):(y.close(),yield function vu(){const _=indexedDB.deleteDatabase(oi);return new wa(_).toPromise()}(),d(yield ba()))}))})}function zo(_,d,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(_,d,p){const y=Da(_,!0).put({[$c]:d,value:p});return new wa(y).toPromise()})).apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(_,d){const p=Da(_,!1).get(d),y=yield new wa(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Sa(_,d){const p=Da(_,!0).delete(d);return new wa(p).toPromise()}const Zo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ba()),p.db})()}_withRetries(p){var y=this;return(0,c.Z)(function*(){let b=0;for(;;)try{const A=yield y._openDb();return yield p(A)}catch(A){if(b++>3)throw A;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return nl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=ii._getInstance(function hn(){return nl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,c.Z)(function*(b,A){return{keyProcessed:(yield p._poll()).includes(A.key)}});return function(b,A){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,c.Z)(function*(b,A){return["keyChanged"]});return function(b,A){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var y,b;if(p.activeServiceWorker=yield function sr(){return Zr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new yu(p.activeServiceWorker);const A=yield p.sender._send("ping",{},800);A&&null!==(y=A[0])&&void 0!==y&&y.fulfilled&&null!==(b=A[0])&&void 0!==b&&b.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,c.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function rl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ba();return yield zo(p,mu,"1"),yield Sa(p,mu),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,c.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(A=>zo(A,p,y)),b.localCache[p]=y,b.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,c.Z)(function*(){const b=yield y._withRetries(A=>function il(_,d){return Ta.apply(this,arguments)}(A,p));return y.localCache[p]=b,b})()}_remove(p){var y=this;return(0,c.Z)(function*(){return y._withPendingWrite((0,c.Z)(function*(){return yield y._withRetries(b=>Sa(b,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const y=yield p._withRetries(H=>{const K=Da(H,!1).getAll();return new wa(K).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const b=[],A=new Set;for(const{fbase_key:H,value:K}of y)A.add(H),JSON.stringify(p.localCache[H])!==JSON.stringify(K)&&(p.notifyListeners(H,K),b.push(H));for(const H of Object.keys(p.localCache))p.localCache[H]&&!A.has(H)&&(p.notifyListeners(H,null),b.push(H));return b})()}notifyListeners(p,y){this.localCache[p]=y;const b=this.listeners[p];if(b)for(const A of Array.from(b))A(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Aa=1e12;class lh{constructor(d){this.auth=d,this.counter=Aa,this._widgets=new Map}render(d,p){const y=this.counter;return this._widgets.set(y,new Gc(d,this.auth.name,p||{})),this.counter++,y}reset(d){var p;const y=d||Aa;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Aa))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,c.Z)(function*(){var y;return null===(y=p._widgets.get(d||Aa))||void 0===y||y.execute(),""})()}}class Gc{constructor(d,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof d?document.getElementById(d):d;re(b,"argument-error",{appName:p}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xf(_){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ol=po("rcb"),Eu=new co(3e4,6e4);class qo{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=gn().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return re(function zc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&Ct(gn().grecaptcha)?Promise.resolve(gn().grecaptcha):new Promise((y,b)=>{const A=gn().setTimeout(()=>{b(Y(d,"network-request-failed"))},Eu.get());gn()[ol]=()=>{gn().clearTimeout(A),delete gn()[ol];const K=gn().grecaptcha;if(!K||!Ct(K))return void b(Y(d,"internal-error"));const De=K.render;K.render=(xe,ze)=>{const Ye=De(xe,ze);return this.counter++,Ye},this.hostLanguage=p,y(K)},Hi(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:ol,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(A),b(Y(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=gn().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Iu{load(d){return(0,c.Z)(function*(){return new lh(d)})()}clearedOneInstance(){}}const xs="recaptcha",wu={theme:"light",type:"image"};class sl{constructor(d,p=Object.assign({},wu),y){this.parameters=p,this.type=xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(y),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof d?document.getElementById(d):d;re(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Iu:new qo,this.validateStartingState()}verify(){var d=this;return(0,c.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(p)||new Promise(A=>{const H=K=>{K&&(d.tokenChangeListeners.delete(H),A(K))};d.tokenChangeListeners.add(H),d.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof d)d(p);else if("string"==typeof d){const y=gn()[d];"function"==typeof y&&y(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,c.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,c.Z)(function*(){re(gr()&&!nl(),d.auth,"internal-error"),yield function si(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function te(_){return Me.apply(this,arguments)}(d.auth);re(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ri{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=En._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function qt(){return(qt=(0,c.Z)(function*(_,d,p){const y=Mn(_),b=yield al(y,d,(0,N.m9)(p));return new Ri(b,A=>ru(y,A))})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_);yield fa(!1,y,"phone");const b=yield al(y.auth,d,(0,N.m9)(p));return new Ri(b,A=>Sc(y,A))})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_),b=yield al(y.auth,d,(0,N.m9)(p));return new Ri(b,A=>wn(y,A))})).apply(this,arguments)}function al(_,d,p){return Du.apply(this,arguments)}function Du(){return Du=(0,c.Z)(function*(_,d,p){var y;const b=yield p.verify();try{let A;if(re("string"==typeof b,_,"argument-error"),re(p.type===xs,_,"argument-error"),A="string"==typeof d?{phoneNumber:d}:d,"session"in A){const H=A.session;if("phoneNumber"in A)return re("enroll"===H.type,_,"internal-error"),(yield function Bc(_,d){return Ee(_,"POST","/v2/accounts/mfaEnrollment:start",_e(_,d))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{re("signin"===H.type,_,"internal-error");const K=(null===(y=A.multiFactorHint)||void 0===y?void 0:y.uid)||A.multiFactorUid;return re(K,_,"missing-multi-factor-info"),(yield function Wc(_,d){return Ee(_,"POST","/v2/accounts/mfaSignIn:start",_e(_,d))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function Jl(_,d){return wi.apply(this,arguments)}(_,{phoneNumber:A.phoneNumber,recaptchaToken:b});return H}}finally{p._reset()}}),Du.apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(_,d){yield tu((0,N.m9)(_),d)})).apply(this,arguments)}let Pi=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Mn(p)}verifyPhoneNumber(p,y){return al(this.auth,p,(0,N.m9)(y))}static credential(p,y){return En._fromVerification(p,y)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:b}=p;return y&&b?En._fromTokenResponse(y,b):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ft(_,d){return d?Vt(d):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class lr extends ji{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Wn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Wn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Wn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Kc(_){return Qd(_.auth,new lr(_),_.bypassAuthState)}function Fs(_){const{auth:d,user:p}=_;return re(p,d,"internal-error"),Yd(p,new lr(_),_.bypassAuthState)}function ai(_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(_){const{auth:d,user:p}=_;return re(p,d,"internal-error"),tu(p,new lr(_),_.bypassAuthState)})).apply(this,arguments)}class ur{constructor(d,p,y,b,A=!1){this.auth=d,this.resolver=y,this.user=b,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,c.Z)(function*(y,b){d.pendingPromise={resolve:y,reject:b};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(A){d.reject(A)}});return function(y,b){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,c.Z)(function*(){const{urlResponse:y,sessionId:b,postBody:A,tenantId:H,error:K,type:De}=d;if(K)return void p.reject(K);const xe={auth:p.auth,requestUri:y,sessionId:b,tenantId:H||void 0,postBody:A||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(De)(xe))}catch(ze){p.reject(ze)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Kc;case"linkViaPopup":case"linkViaRedirect":return ai;case"reauthViaPopup":case"reauthViaRedirect":return Fs;default:fe(this.auth,"internal-error")}}resolve(d){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const li=new co(2e3,1e4);function Yc(){return(Yc=(0,c.Z)(function*(_,d,p){const y=Mn(_);be(_,d,Di);const b=ft(y,p);return new ul(y,"signInViaPopup",d,b).executeNotNull()})).apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_);be(y.auth,d,Di);const b=ft(y.auth,p);return new ul(y.auth,"reauthViaPopup",d,b,y).executeNotNull()})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_);be(y.auth,d,Di);const b=ft(y.auth,p);return new ul(y.auth,"linkViaPopup",d,b,y).executeNotNull()})).apply(this,arguments)}let ul=(()=>{class _ extends ur{constructor(p,y,b,A,H){super(p,y,A,H),this.provider=b,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const y=yield p.execute();return re(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,c.Z)(function*(){St(1===p.filter.length,"Popup operations only handle one event");const y=Ea();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(b=>{p.reject(b)}),p.resolver._isIframeWebStorageSupported(p.auth,b=>{b||p.reject(Y(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,b;this.pollId=null!==(b=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Y(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,li.get())};p()}}return _.currentPopupAction=null,_})();const Ko="pendingRedirect",Ki=new Map;class ch extends ur{constructor(d,p,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,c.Z)(function*(){let y=Ki.get(p.auth._key());if(!y){try{const A=(yield function cl(_,d){return Yo.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;y=()=>Promise.resolve(A)}catch(b){y=()=>Promise.reject(b)}Ki.set(p.auth._key(),y)}return p.bypassAuthState||Ki.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,y=this;return(0,c.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(y,d);if("unknown"!==d.type){if(d.eventId){const b=yield y.auth._redirectUserForId(d.eventId);if(b)return y.user=b,p().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Yo(){return(Yo=(0,c.Z)(function*(_,d){const p=Yi(d),y=wo(_);if(!(yield y._isAvailable()))return!1;const b="true"===(yield y._get(p));return yield y._remove(p),b})).apply(this,arguments)}function Oi(_,d){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(_,d){return wo(_)._set(Yi(d),"true")})).apply(this,arguments)}function Io(_,d){Ki.set(_._key(),d)}function wo(_){return Vt(_._redirectPersistence)}function Yi(_){return B(Ko,_.config.apiKey,_.name)}function Dn(_,d,p){return function Qo(_,d,p){return Do.apply(this,arguments)}(_,d,p)}function Do(){return(Do=(0,c.Z)(function*(_,d,p){const y=Mn(_);be(_,d,Di),yield y._initializationPromise;const b=ft(y,p);return yield Oi(b,y),b._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function Ni(_,d,p){return function tr(_,d,p){return bo.apply(this,arguments)}(_,d,p)}function bo(){return(bo=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_);be(y.auth,d,Di),yield y.auth._initializationPromise;const b=ft(y.auth,p);yield Oi(b,y.auth);const A=yield To(y);return b._openRedirect(y.auth,d,"reauthViaRedirect",A)})).apply(this,arguments)}function Qc(_,d,p){return function dh(_,d,p){return Kr.apply(this,arguments)}(_,d,p)}function Kr(){return(Kr=(0,c.Z)(function*(_,d,p){const y=(0,N.m9)(_);be(y.auth,d,Di),yield y.auth._initializationPromise;const b=ft(y.auth,p);yield fa(!1,y,d.providerId),yield Oi(b,y.auth);const A=yield To(y);return b._openRedirect(y.auth,d,"linkViaRedirect",A)})).apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(_,d){return yield Mn(_)._initializationPromise,cr(_,d,!1)})).apply(this,arguments)}function cr(_,d){return hl.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(_,d,p=!1){const y=Mn(_),b=ft(y,d),H=yield new ch(y,b,p).execute();return H&&!p&&(delete H.user._redirectEventId,yield y._persistUserIfCurrent(H.user),yield y._setRedirectUser(null,d)),H})).apply(this,arguments)}function To(_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(_){const d=Ea(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class fl{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(p=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Us(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yt(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var y;if(d.error&&!yt(d)){const b=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(Y(this.auth,b))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const y=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(d))}saveEventToCache(d){this.cachedEventUids.add(Jo(d)),this.lastProcessedEventTime=Date.now()}}function Jo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function yt({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function ep(_){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(_,d={}){return Ee(_,"GET","/v1/projects",d)})).apply(this,arguments)}const mm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ra=/^https?/;function So(){return(So=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield ep(_);for(const p of d)try{if(bn(p))return}catch{}fe(_,"unauthorized-domain")})).apply(this,arguments)}function bn(_){const d=Bn(),{protocol:p,hostname:y}=new URL(d);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===y?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&H.hostname===y}if(!Ra.test(p))return!1;if(mm.test(_))return y===_;const b=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(y)}const Ao=new co(3e4,6e4);function Hs(){const _=gn().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let nr=null;const Xc=new co(5e3,15e3),Tu="__/auth/iframe",Xo="emulator/auth/iframe",ed={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pa(_){const d=_.config;re(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?oe(d,Xo):`https://${_.config.authDomain}/${Tu}`,y={apiKey:d.apiKey,appName:_.name,v:J.SDK_VERSION},b=Su.get(_.config.apiHost);b&&(y.eid=b);const A=_._getFrameworks();return A.length&&(y.fw=A.join(",")),`${p}?${(0,N.xO)(y).slice(1)}`}function w(){return w=(0,c.Z)(function*(_){const d=yield function di(_){return nr=nr||function Mo(_){return new Promise((d,p)=>{var y,b,A;function H(){Hs(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Hs(),p(Y(_,"network-request-failed"))},timeout:Ao.get()})}if(null!==(b=null===(y=gn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==b&&b.Iframe)d(gapi.iframes.getContext());else{if(null===(A=gn().gapi)||void 0===A||!A.load){const K=po("iframefcb");return gn()[K]=()=>{gapi.load?H():p(Y(_,"network-request-failed"))},Hi(`https://apis.google.com/js/api.js?onload=${K}`).catch(De=>p(De))}H()}}).catch(d=>{throw nr=null,d})}(_),nr}(_),p=gn().gapi;return re(p,_,"internal-error"),d.open({where:document.body,url:Pa(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ed,dontclear:!0},y=>new Promise(function(){var b=(0,c.Z)(function*(A,H){yield y.restyle({setHideOnLeave:!1});const K=Y(_,"network-request-failed"),De=gn().setTimeout(()=>{H(K)},Xc.get());function xe(){gn().clearTimeout(De),A(y)}y.ping(xe).then(xe,()=>{H(K)})});return function(A,H){return b.apply(this,arguments)}}()))}),w.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pt="__/auth/handler",ht="emulator/auth/handler",Er=encodeURIComponent("fac");function un(_,d,p,y,b,A){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(_,d,p,y,b,A){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:y,v:J.SDK_VERSION,eventId:b};if(d instanceof Di){d.setDefaultLanguage(_.languageCode),H.providerId=d.providerId||"",(0,N.xb)(d.getCustomParameters())||(H.customParameters=JSON.stringify(d.getCustomParameters()));for(const[ze,Ye]of Object.entries(A||{}))H[ze]=Ye}if(d instanceof yr){const ze=d.getScopes().filter(Ye=>""!==Ye);ze.length>0&&(H.scopes=ze.join(","))}_.tenantId&&(H.tid=_.tenantId);const K=H;for(const ze of Object.keys(K))void 0===K[ze]&&delete K[ze];const De=yield _._getAppCheckToken(),xe=De?`#${Er}=${encodeURIComponent(De)}`:"";return`${function es({config:_}){return _.emulator?oe(_,ht):`https://${_.authDomain}/${pt}`}(_)}?${(0,N.xO)(K).slice(1)}${xe}`})).apply(this,arguments)}const Ro="webStorageSupport",Xi=class Ir{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=cr,this._overrideRedirectResult=Io}_openPopup(d,p,y,b){var A=this;return(0,c.Z)(function*(){var H;St(null===(H=A.eventManagers[d._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const K=yield un(d,p,y,Bn(),b);return function ke(_,d,p,y=500,b=600){const A=Math.max((window.screen.availHeight-b)/2,0).toString(),H=Math.max((window.screen.availWidth-y)/2,0).toString();let K="";const De=Object.assign(Object.assign({},S),{width:y.toString(),height:b.toString(),top:A,left:H}),xe=(0,N.z$)().toLowerCase();p&&(K=Ze(xe)?"_blank":p),ye(xe)&&(d=d||"http://localhost",De.scrollbars="yes");const ze=Object.entries(De).reduce((Gt,[Hr,Bu])=>`${Gt}${Hr}=${Bu},`,"");if(function $n(_=(0,N.z$)()){var d;return ct(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(xe)&&"_self"!==K)return function qe(_,d){const p=document.createElement("a");p.href=_,p.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(d||"",K),new Ue(null);const Ye=window.open(d||"",K,ze);re(Ye,_,"popup-blocked");try{Ye.focus()}catch{}return new Ue(Ye)}(d,K,Ea())})()}_openRedirect(d,p,y,b){var A=this;return(0,c.Z)(function*(){return yield A._originValidation(d),function Yf(_){gn().location.href=_}(yield un(d,p,y,Bn(),b)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:b,promise:A}=this.eventManagers[p];return b?Promise.resolve(b):(St(A,"If manager is not set, promise should be"),A)}const y=this.initAndGetManager(d);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(d){var p=this;return(0,c.Z)(function*(){const y=yield function C(_){return w.apply(this,arguments)}(d),b=new fl(d);return y.register("authEvent",A=>(re(A?.authEvent,d,"invalid-auth-event"),{status:b.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:b},p.iframes[d._key()]=y,b})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Ro,{type:Ro},b=>{var A;const H=null===(A=b?.[0])||void 0===A?void 0:A[Ro];void 0!==H&&p(!!H),fe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qi(_){return So.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ii()||ie()||ct()}};class Au{constructor(d){this.factorId=d}_process(d,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,y);case"signin":return this._finalizeSignIn(d,p.credential);default:return Le("unexpected MultiFactorSessionType")}}}class Oa extends Au{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Oa(d)}_finalizeEnroll(d,p,y){return function rh(_,d){return Ee(_,"POST","/v2/accounts/mfaEnrollment:finalize",_e(_,d))}(d,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function Jf(_,d){return Ee(_,"POST","/v2/accounts/mfaSignIn:finalize",_e(_,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let td=(()=>{class _{constructor(){}static assertion(p){return Oa._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var pl="@firebase/auth";class ym{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(y=>{d(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xi(){return window}(0,N.Pz)("authIdTokenMaxAge"),function vm(_){(0,J._registerComponent)(new de.wA("auth",(d,{options:p})=>{const y=d.getProvider("app").getImmediate(),b=d.getProvider("heartbeat"),A=d.getProvider("app-check-internal"),{apiKey:H,authDomain:K}=y.options;re(H&&!H.includes(":"),"invalid-api-key",{appName:y.name});const De={apiKey:H,authDomain:K,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(_)},xe=new yc(y,b,A,De);return function Gd(_,d){const p=d?.persistence||[],y=(Array.isArray(p)?p:[p]).map(Vt);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(y,d?.popupRedirectResolver)}(xe,p),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,y)=>{d.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new de.wA("auth-internal",d=>{const p=Mn(d.getProvider("auth").getImmediate());return new ym(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(pl,"0.23.2",function fh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,J.registerVersion)(pl,"0.23.2","esm2017")}("Browser");function _h(){return _h=(0,c.Z)(function*(_,d,p){var y;const{BuildInfo:b}=xi();St(d.sessionId,"AuthEvent did not contain a session ID");const A=yield function nd(_){return Pu.apply(this,arguments)}(d.sessionId),H={};return ct()?H.ibi=b.packageName:gt()?H.apn=b.packageName:fe(_,"operation-not-supported-in-this-environment"),b.displayName&&(H.appDisplayName=b.displayName),H.sessionId=A,un(_,p,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,H)}),_h.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(_){const{BuildInfo:d}=xi(),p={};ct()?p.iosBundleId=d.packageName:gt()?p.androidPackageName=d.packageName:fe(_,"operation-not-supported-in-this-environment"),yield ep(_,p)})).apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(_,d,p){const{cordova:y}=xi();let b=()=>{};try{yield new Promise((A,H)=>{let K=null;function De(){var Ye;A();const Gt=null===(Ye=y.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof Gt&&Gt(),"function"==typeof p?.close&&p.close()}function xe(){K||(K=window.setTimeout(()=>{H(Y(_,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===document?.visibilityState&&xe()}d.addPassiveListener(De),document.addEventListener("resume",xe,!1),gt()&&document.addEventListener("visibilitychange",ze,!1),b=()=>{d.removePassiveListener(De),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",ze,!1),K&&window.clearTimeout(K)}})}finally{b()}})).apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(_){const d=function op(_){if(St(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),p=new Uint8Array(d);for(let y=0;y<_.length;y++)p[y]=_.charCodeAt(y);return p}(_),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Dm extends fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,c.Z)(function*(){yield d.initPromise})()}}function eo(_){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(_){const d=yield $s()._get(_l(_));return d&&(yield $s()._remove(_l(_))),d})).apply(this,arguments)}function Ou(){const _=[];for(let p=0;p<20;p++){const y=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return _.join("")}function $s(){return Vt(yo)}function _l(_){return B("authEvent",_.config.apiKey,_.name)}function Nu(_){if(!_?.includes("?"))return{};const[d,...p]=_.split("?");return(0,N.zd)(p.join("?"))}const Oo=class od{constructor(){this._redirectPersistence=vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cr,this._overrideRedirectResult=Io}_initialize(d){var p=this;return(0,c.Z)(function*(){const y=d._key();let b=p.eventManagers.get(y);return b||(b=new Dm(d),p.eventManagers.set(y,b),p.attachCallbackListeners(d,b)),b})()}_openPopup(d){fe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,y,b){var A=this;return(0,c.Z)(function*(){!function wm(_){var d,p,y,b,A,H,K,De,xe,ze;const Ye=xi();re("function"==typeof(null===(d=Ye?.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=Ye?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(A=null===(b=null===(y=Ye?.cordova)||void 0===y?void 0:y.plugins)||void 0===b?void 0:b.browsertab)||void 0===A?void 0:A.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(De=null===(K=null===(H=Ye?.cordova)||void 0===H?void 0:H.plugins)||void 0===K?void 0:K.browsertab)||void 0===De?void 0:De.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(ze=null===(xe=Ye?.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===ze?void 0:ze.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const H=yield A._initialize(d);yield H.initialized(),H.resetRedirect(),function qr(){Ki.clear()}(),yield A._originValidation(d);const K=function bm(_,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Ou(),postBody:null,tenantId:_.tenantId,error:Y(_,"no-auth-event")}}(d,y,b);yield function rd(_,d){return $s()._set(_l(_),d)}(d,K);const De=yield function mh(_,d,p){return _h.apply(this,arguments)}(d,K,p),xe=yield function Em(_){const{cordova:d}=xi();return new Promise(p=>{d.plugins.browsertab.isAvailable(y=>{let b=null;y?d.plugins.browsertab.openUrl(_):b=d.InAppBrowser.open(_,function Mt(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(b)})})}(De);return function Im(_,d,p){return Ru.apply(this,arguments)}(d,H,xe)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ip(_){return Mu.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:y,handleOpenURL:b,BuildInfo:A}=xi(),H=setTimeout((0,c.Z)(function*(){yield eo(d),p.onEvent(ap())}),500),K=function(){var ze=(0,c.Z)(function*(Ye){clearTimeout(H);const Gt=yield eo(d);let Hr=null;Gt&&Ye?.url&&(Hr=function Po(_,d){var p,y;const b=function sp(_){const d=Nu(_),p=d.link?decodeURIComponent(d.link):void 0,y=Nu(p).link,b=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Nu(b).link||b||y||p||_}(d);if(b.includes("/__/auth/callback")){const A=Nu(b),H=A.firebaseError?function yl(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,K=null===(y=null===(p=H?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],De=K?Y(K):null;return De?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:b,postBody:null}}return null}(Gt,Ye.url)),p.onEvent(Hr||ap())});return function(Gt){return ze.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,K);const De=b,xe=`${A.packageName.toLowerCase()}://`;xi().handleOpenURL=function(){var ze=(0,c.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(xe)&&K({url:Ye}),"function"==typeof De)try{De(Ye)}catch(Gt){console.error(Gt)}});return function(Ye){return ze.apply(this,arguments)}}()}};function ap(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Y("no-auth-event")}}function vl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function up(_=(0,N.z$)()){return!("file:"!==vl()&&"ionic:"!==vl()&&"capacitor:"!==vl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ki(){try{const _=self.localStorage,d=Ea();if(_)return _.setItem(d,"1"),_.removeItem(d),!function wr(_=(0,N.z$)()){return function cp(){return(0,N.w1)()&&11===document?.documentMode}()||function vh(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return ns()&&(0,N.hl)()}return!1}function ns(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function El(){return(function yv(){return"http:"===vl()||"https:"===vl()}()||(0,N.ru)()||up())&&!function Cl(){return(0,N.b$)()||(0,N.UG)()}()&&ki()&&!ns()}function rr(){return up()&&typeof document<"u"}function Fi(){return(Fi=(0,c.Z)(function*(){return!!rr()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const hi={LOCAL:"local",NONE:"none",SESSION:"session"},rs=re,Eh="persistence";function ad(_){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(_){yield _._initializationPromise;const d=ld(),p=B(Eh,_.config.apiKey,_.name);d&&d.setItem(p,_._getPersistence())})).apply(this,arguments)}function ld(){var _;try{return(null===(_=function Ch(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const wh=re;class fi{constructor(){this.browserResolver=Vt(Xi),this.cordovaResolver=Vt(Oo),this.underlyingResolver=null,this._redirectPersistence=vo,this._completeRedirectFn=cr,this._overrideRedirectResult=Io}_initialize(d){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,y,b){var A=this;return(0,c.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(d,p,y,b)})()}_openRedirect(d,p,y,b){var A=this;return(0,c.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(d,p,y,b)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,c.Z)(function*(){if(d.underlyingResolver)return;const p=yield function xu(){return Fi.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function Dh(_){return _.unwrap()}function Fu(_){return bh(_)}function bh(_){const{_tokenResponse:d}=_ instanceof N.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Pi.credentialFromResult(_);const p=d.providerId;if(!p||p===ae.PASSWORD)return null;let y;switch(p){case ae.GOOGLE:y=Go;break;case ae.FACEBOOK:y=Wo;break;case ae.GITHUB:y=Fn;break;case ae.TWITTER:y=Wi;break;default:const{oauthIdToken:b,oauthAccessToken:A,oauthTokenSecret:H,pendingToken:K,nonce:De}=d;return A||H||b||K?K?p.startsWith("saml.")?In._create(p,K):_r._fromParams({providerId:p,signInMethod:p,pendingToken:K,idToken:b,accessToken:A}):new Wr(p).credential({idToken:b,accessToken:A,rawNonce:De}):null}return _ instanceof N.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function dr(_,d){return d.catch(p=>{throw p instanceof N.ZR&&function Am(_,d){var p;const y=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new Vu(_,function pu(_,d){var p;const y=(0,N.m9)(_),b=d;return re(d.customData.operationType,y,"argument-error"),re(null===(p=b.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),lt._fromError(y,b)}(_,d));else if(y){const b=bh(d),A=d;b&&(A.credential=b,A.tenantId=y.tenantId||void 0,A.email=y.email||void 0,A.phoneNumber=y.phoneNumber||void 0)}}(_,p),p}).then(p=>{const b=p.user;return{operationType:p.operationType,credential:Fu(p),additionalUserInfo:Zi(p),user:to.getOrCreate(b)}})}function Lu(_,d){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(_,d){const p=yield d;return{verificationId:p.verificationId,confirm:y=>dr(_,p.confirm(y))}})).apply(this,arguments)}class Vu{constructor(d,p){this.resolver=p,this.auth=function ku(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return dr(Dh(this.auth),this.resolver.resolveSignIn(d))}}class to{constructor(d){this._delegate=d,this.multiFactor=function jc(_){const d=(0,N.m9)(_);return Ns.has(d)||Ns.set(d,ri._fromUser(d)),Ns.get(d)}(d)}static getOrCreate(d){return to.USER_MAP.has(d)||to.USER_MAP.set(d,new to(d)),to.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,c.Z)(function*(){return dr(p.auth,Sc(p._delegate,d))})()}linkWithPhoneNumber(d,p){var y=this;return(0,c.Z)(function*(){return Lu(y.auth,function ot(_,d,p){return ar.apply(this,arguments)}(y._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,c.Z)(function*(){return dr(p.auth,function Vs(_,d,p){return qi.apply(this,arguments)}(p._delegate,d,fi))})()}linkWithRedirect(d){var p=this;return(0,c.Z)(function*(){return yield ad(Mn(p.auth)),Qc(p._delegate,d,fi)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,c.Z)(function*(){return dr(p.auth,wn(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Lu(this.auth,function Zc(_,d,p){return ks.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return dr(this.auth,function ui(_,d,p){return bu.apply(this,arguments)}(this._delegate,d,fi))}reauthenticateWithRedirect(d){var p=this;return(0,c.Z)(function*(){return yield ad(Mn(p.auth)),Ni(p._delegate,d,fi)})()}sendEmailVerification(d){return function lu(_,d){return Rs.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,c.Z)(function*(){return yield function qf(_,d){return bi.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function cu(_,d){return Si((0,N.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function kc(_,d){return Si((0,N.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function ll(_,d){return qc.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function nh(_,d){return Xa.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Ja(_,d,p){return ya.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}to.USER_MAP=new WeakMap;const Ws=re;let Uu=(()=>{class _{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=p.options;Ws(b,"invalid-api-key",{appName:p.name}),Ws(b,"invalid-api-key",{appName:p.name});const A=typeof window<"u"?fi:void 0;this._delegate=y.initialize({options:{persistence:vv(b,p.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?to.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function qa(_,d,p){const y=Mn(_);re(y._canInitEmulator,y,"emulator-config-failed"),re(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const b=!!p?.disableWarnings,A=jo(d),{host:H,port:K}=function vc(_){const d=jo(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(y);if(b){const A=b[1];return{host:A,port:Cc(y.substr(A.length+1))}}{const[A,H]=y.split(":");return{host:A,port:Cc(H)}}}(d);y.config.emulator={url:`${A}//${H}${null===K?"":`:${K}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:H,port:K,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function zf(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,y)}applyActionCode(p){return function Rn(_,d){return vr.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Pc(this._delegate,p)}confirmPasswordReset(p,y){return function Ti(_,d,p){return Ss.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var b=this;return(0,c.Z)(function*(){return dr(b._delegate,function Oc(_,d,p){return iu.apply(this,arguments)}(b._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function su(_,d){return au.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function ou(_,d){const p=Dt.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Ws(El(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function ci(_,d){return _n.apply(this,arguments)}(p._delegate,fi);return y?dr(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Tm(_,d){Mn(_)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,y,b){const{next:A,error:H,complete:K}=Mm(p,y,b);return this._delegate.onAuthStateChanged(A,H,K)}onIdTokenChanged(p,y,b){const{next:A,error:H,complete:K}=Mm(p,y,b);return this._delegate.onIdTokenChanged(A,H,K)}sendSignInLinkToEmail(p,y){return function Ms(_,d,p){return Qa.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function gm(_,d,p){return Ts.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,c.Z)(function*(){let b;switch(function sd(_,d){rs(Object.values(hi).includes(d),_,"invalid-persistence-type"),(0,N.b$)()?rs(d!==hi.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?rs(d===hi.NONE,_,"unsupported-persistence-type"):ns()?rs(d===hi.NONE||d===hi.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):rs(d===hi.NONE||ki(),_,"unsupported-persistence-type")}(y._delegate,p),p){case hi.SESSION:b=vo;break;case hi.LOCAL:b=(yield Vt(Zo)._isAvailable())?Zo:yo;break;case hi.NONE:b=Pt;break;default:return fe("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return dr(this._delegate,function Zd(_){return wc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return dr(this._delegate,ru(this._delegate,p))}signInWithCustomToken(p){return dr(this._delegate,function Ds(_,d){return Gr.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return dr(this._delegate,function Nc(_,d,p){return ru((0,N.m9)(_),Ya.credential(d,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return dr(this._delegate,function Qn(_,d,p){return Xd.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return Lu(this._delegate,function uh(_,d,p){return qt.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,c.Z)(function*(){return Ws(El(),y._delegate,"operation-not-supported-in-this-environment"),dr(y._delegate,function Ls(_,d,p){return Yc.apply(this,arguments)}(y._delegate,p,fi))})()}signInWithRedirect(p){var y=this;return(0,c.Z)(function*(){return Ws(El(),y._delegate,"operation-not-supported-in-this-environment"),yield ad(y._delegate),Dn(y._delegate,p,fi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function _a(_,d){return zi.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=hi,_})();function Mm(_,d,p){let y=_;"function"!=typeof _&&({next:y,error:d,complete:p}=_);const b=y;return{next:H=>b(H&&to.getOrCreate(H)),error:d,complete:p}}function vv(_,d){const p=function Ih(_,d){const p=ld();if(!p)return[];const y=B(Eh,_,d);switch(p.getItem(y)){case hi.NONE:return[Pt];case hi.LOCAL:return[Zo,vo];case hi.SESSION:return[vo];default:return[]}}(_,d);if(typeof self<"u"&&!p.includes(Zo)&&p.push(Zo),typeof window<"u")for(const y of[yo,vo])p.includes(y)||p.push(y);return p.includes(Pt)||p.push(Pt),p}class dp{constructor(){this.providerId="phone",this._delegate=new Pi(Dh(z.Z.auth()))}static credential(d,p){return Pi.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}dp.PHONE_SIGN_IN_METHOD=Pi.PHONE_SIGN_IN_METHOD,dp.PROVIDER_ID=Pi.PROVIDER_ID;const Cv=re;class Rm{constructor(d,p,y=z.Z.app()){var b;Cv(null===(b=y.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new sl(d,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hp(_){_.INTERNAL.registerComponent(new de.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new Uu(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ya,FacebookAuthProvider:Wo,GithubAuthProvider:Fn,GoogleAuthProvider:Go,OAuthProvider:Wr,SAMLAuthProvider:Is,PhoneAuthProvider:dp,PhoneMultiFactorGenerator:td,RecaptchaVerifier:Rm,TwitterAuthProvider:Wi,Auth:Uu,AuthCredential:ji,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},5861:(Qe,ve,P)=>{function c(N,J,ee,ce,de,Se,ae){try{var U=N[Se](ae),j=U.value}catch(Q){return void ee(Q)}U.done?J(j):Promise.resolve(j).then(ce,de)}function z(N){return function(){var J=this,ee=arguments;return new Promise(function(ce,de){var Se=N.apply(J,ee);function ae(j){c(Se,ce,de,ae,U,"next",j)}function U(j){c(Se,ce,de,ae,U,"throw",j)}ae(void 0)})}}P.d(ve,{Z:()=>z})},7582:(Qe,ve,P)=>{function J(oe,le){var pe={};for(var ge in oe)Object.prototype.hasOwnProperty.call(oe,ge)&&le.indexOf(ge)<0&&(pe[ge]=oe[ge]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(ge=Object.getOwnPropertySymbols(oe);_e<ge.length;_e++)le.indexOf(ge[_e])<0&&Object.prototype.propertyIsEnumerable.call(oe,ge[_e])&&(pe[ge[_e]]=oe[ge[_e]])}return pe}function Q(oe,le,pe,ge){return new(pe||(pe=Promise))(function(Ee,Ge){function Ke(Lt){try{nt(ge.next(Lt))}catch(vt){Ge(vt)}}function pn(Lt){try{nt(ge.throw(Lt))}catch(vt){Ge(vt)}}function nt(Lt){Lt.done?Ee(Lt.value):function _e(Ee){return Ee instanceof pe?Ee:new pe(function(Ge){Ge(Ee)})}(Lt.value).then(Ke,pn)}nt((ge=ge.apply(oe,le||[])).next())})}function ne(oe){return this instanceof ne?(this.v=oe,this):new ne(oe)}function fe(oe,le,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ge=pe.apply(oe,le||[]),Ee=[];return _e={},Ge("next"),Ge("throw"),Ge("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function Ge(sn){ge[sn]&&(_e[sn]=function(an){return new Promise(function(xn,$t){Ee.push([sn,an,xn,$t])>1||Ke(sn,an)})})}function Ke(sn,an){try{!function pn(sn){sn.value instanceof ne?Promise.resolve(sn.value.v).then(nt,Lt):vt(Ee[0][2],sn)}(ge[sn](an))}catch(xn){vt(Ee[0][3],xn)}}function nt(sn){Ke("next",sn)}function Lt(sn){Ke("throw",sn)}function vt(sn,an){sn(an),Ee.shift(),Ee.length&&Ke(Ee[0][0],Ee[0][1])}}function he(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,le=oe[Symbol.asyncIterator];return le?le.call(oe):(oe=function Te(oe){var le="function"==typeof Symbol&&Symbol.iterator,pe=le&&oe[le],ge=0;if(pe)return pe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ge>=oe.length&&(oe=void 0),{value:oe&&oe[ge++],done:!oe}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),pe={},ge("next"),ge("throw"),ge("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ge(Ee){pe[Ee]=oe[Ee]&&function(Ge){return new Promise(function(Ke,pn){!function _e(Ee,Ge,Ke,pn){Promise.resolve(pn).then(function(nt){Ee({value:nt,done:Ke})},Ge)}(Ke,pn,(Ge=oe[Ee](Ge)).done,Ge.value)})}}}P.d(ve,{FC:()=>fe,KL:()=>he,_T:()=>J,mG:()=>Q,qq:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},Qe=>{Qe(Qe.s=3441)}]);